(function(e){function n(n){for(var i,r,s=n[0],u=n[1],c=n[2],l=0,f=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);d&&d(n);while(f.length)f.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],i=!0,s=1;s<t.length;s++){var u=t[s];0!==o[u]&&(i=!1)}i&&(a.splice(n--,1),e=r(r.s=t[0]))}return e}var i={},o={app:0},a=[];function r(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var d=u;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},4678:function(e,n,t){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var n=a(e);return t(n)}function a(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id="4678"},"56d7":function(e,n,t){"use strict";t.r(n),t.d(n,"startFuretUI",(function(){return X}));t("b0c0"),t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("a026"),o=t("bc3a"),a=t.n(o),r=t("289d"),s=(t("5abe"),t("ee98")),u=t.n(s),c=t("31bd"),d=t("a925");i["default"].use(d["a"]);var l={locale:"en",fallbackLocale:"en",messages:{en:{error:"Error",components:{login:{appbar:"Log in",button:"Log in",username:"User name",password:"Password"},logout:{button:"Log out"},header:{search:"Search",new:"New",edit:"Edit",cancel:"Cancel",save:"Save",apply:"Apply",delete:"Delete",notFound:"No result found",return:"Return",previous:"Previous",next:"Next",browse:"Browse",total:"Total",created:"Created",updated:"Updated",deleted:"Deleted",linked:"Linked",unlinked:"Unlinked"},fields:{common:{required:"This is a required field"},yesno:{yes:"Yes",no:"No"},json:{invalid:"Json is invalid"},relationship:{no_more:"No more datas found.",not_found:"No data found with current filter."}}}}}},f=new d["a"](l),m=(t("99af"),t("4d63"),t("ac1f"),t("25f0"),t("7f45")),p=t.n(m),b=t("88bd");Object(b["b"])("mixin-logo",{prototype:{computed:{logo:function(){return this.format_url("/furet-ui/logo")}},methods:{format_url:function(e){return e}}}}),Object(b["b"])("date-display",{prototype:{methods:{formatDate:function(e){if(e){var n=this.$store.state.global.userTimeZone;return p.a.locale(document.documentElement.lang),p()(e).tz(n).format("LLL")}return""}}}}),Object(b["b"])("i18n-translate",{prototype:{methods:{translate:function(e){var n=new RegExp("^i18n\\((.*)\\)$"),t=n.exec(e);return null!==t?this.$t(t[1]):e}}}});t("d3b7"),t("5319"),t("ddb0");var _=t("c46f");Object(b["b"])("app",{template:'\n    <div id="furet-ui-app">\n      <furet-ui-appbar />\n      <notifications position="top center"/>\n      <router-view v-bind:key="$route.fullPath"></router-view>\n      <furet-ui-footer />\n    </div>'}),Object(b["b"])("furet-ui-appbar",{template:'\n    <header class="hero is-primary">\n      <furet-ui-appbar-header />\n      <furet-ui-appbar-body />\n      <furet-ui-appbar-footer />\n    </header>\n  '}),Object(b["b"])("furet-ui-appbar-header",{template:'\n    <b-navbar type="is-primary">\n      <template #brand>\n        <furet-ui-appbar-header-brand />\n      </template>\n      <template #start>\n        <furet-ui-appbar-header-menus />\n      </template>\n      <template #end>\n        <furet-ui-appbar-header-user />\n      </template>\n    </b-navbar>\n  ',prototype:{data:function(){return{isOpen:!1}}}}),Object(b["b"])("furet-ui-appbar-body",{template:'\n    <div class="hero-body">\n      <div class="container has-text-centered">\n        <h1 class="title">\n          Furet UI\n        </h1>\n        <p class="subtitle">\n          Web Client for all your AnyBlok backend\n        </p>\n      </div>\n    </div>\n  '}),Object(b["b"])("furet-ui-appbar-footer",{template:'\n    <div class="hero-foot" />\n  '}),Object(b["b"])("furet-ui-appbar-header-brand",{template:'\n    <b-navbar-item tag="router-link" :to="{ path: \'/\' }">\n      <img class="image" v-bind:src="logo" />\n    </b-navbar-item>\n  ',extend:["mixin-logo"]}),Object(b["b"])("furet-ui-appbar-header-menus",{template:'\n    <div class="navbar-start">\n      <b-navbar-item v-for="menu in space_menus" v-on:click="selectMenu(menu)" tab="dir" :active="menu.code === space_code ? true : false">\n          <button :class="[\'button\', \'is-primary\', menu.code === space_code ? \'is-active\' : \'\']">\n            <b-icon\n              v-bind:icon="menu.icon.code"\n              v-bind:type="menu.icon.type">\n            </b-icon>\n            <span>{{ $t(menu.label) }}</span>\n          </button>\n      </b-navbar-item>\n    </div>\n  ',prototype:{computed:{space_code:function(){return this.$store.state.route.params.code},space_menus:function(){var e=this.$store.state.global.root_menus;return e}},methods:{selectMenu:function(e){this.$router.push(e.path),this.$store.commit("ClearBreadcrumb"),this.$store.commit("CLEAR_CHANGE")}}}}),Object(b["b"])("furet-ui-appbar-header-user",{template:'\n    <div>\n      <furet-ui-appbar-header-logged-user v-if="loggedIn" />\n      <furet-ui-appbar-header-unlogged-user v-else />\n    </div>\n  ',prototype:{computed:{loggedIn:function(){return this.$store.getters.loggedIn}}}}),Object(b["b"])("furet-ui-appbar-header-unlogged-user",{template:'\n    <b-navbar-item tag="div">\n      <div class="buttons">\n        <a class="button is-light" @click="call_login_page">\n          {{ $t(\'components.login.appbar\') }}\n        </a>\n      </div>\n    </b-navbar-item>\n  ',prototype:{methods:{call_login_page:function(){this.$router.push({path:"/login"})}}}}),Object(b["b"])("furet-ui-appbar-header-logged-user",{template:'\n    <b-navbar-dropdown :label="userName" hoverable >\n      <b-navbar-item v-for="menu in user_menus" :key="menu.label">\n        <a v-on:click="routerPush(menu.path)" class="button is-primary is-inverted is-fullwidth">\n          {{ translate(menu.label) }}\n        </a>\n      </b-navbar-item>\n      <b-navbar-item>\n        <a v-on:click="logOut" class="button is-primary is-inverted is-fullwidth">\n          {{ $t(\'components.logout.button\') }}\n        </a>\n      </b-navbar-item>\n    </b-navbar-dropdown>\n  ',extend:["i18n-translate"],prototype:{computed:{userName:function(){return this.$store.state.global.userName},user_menus:function(){return this.$store.state.global.user_menus}},methods:{call_login_page:function(){this.$router.push({path:"/login"})},routerPush:function(e){this.$router.push({path:e})},logOut:function(){var e=this;a.a.post("/furet-ui/logout").then((function(n){e.$dispatchAll(n.data)})).catch((function(e){console.error(e)}))}}}}),Object(b["b"])("furet-ui-footer",{template:'\n    <footer class="footer">\n      <div class="content has-text-centered is-success">\n        <p>\n          <strong>Furet UI</strong> by <a href="https://github.com/jssuzanne">Jean-Sébastien Suzanne</a>. \n          The source code is licensed <a href="http://opensource.org/licenses/MPL-2.0">MPL-2.0</a> and \n          is available on <a href="https://github.com/AnyBlok/furet_ui">Github</a>.\n        </p>\n      </div>\n    </footer>\n  '}),Object(b["b"])("furet-ui-menu",{template:'\n      <ul class="menu-list">\n        <b-loading v-bind:active.sync="isLoading"></b-loading>\n        <li v-for="menu in menus">\n            <a v-on:click="onClickMenu(menu)"\n               v-bind:class="[menu.id == menuId ? \'is-active\' : \'\']"\n            >\n              <span v-if="menu.label">\n                  {{ $t(menu.label) }}\n              </span>\n            </a>\n            <furet-ui-menu\n                v-if="(menu.children || []).length != 0"\n                v-bind:menus="menu.children || []"\n                v-bind:menuId="menuId"\n                v-bind:code="code"\n            />\n        </li>\n      </ul>\n    ',prototype:{props:["menus","menuId","code"],data:function(){return{isLoading:!1}},methods:{onClickMenu:function(e){var n=this;if(1==!!e.resource){var t={};e.tags&&(t.tags=e.tags),e.order_by&&(t.orders=e.order_by),_["a"].keys(e.filters).length&&(t.filters=JSON.stringify(e.filters)),this.$router.push({name:"resource",params:{code:this.code,menuId:e.id,id:e.resource},query:t}),this.$store.commit("ClearBreadcrumb"),this.$store.commit("CLEAR_CHANGE")}else if(void 0!==e.url)this.$store.commit("ClearBreadcrumb"),this.$store.commit("CLEAR_CHANGE"),e.newtable?window.open(e.url):location.replace(e.url);else if(void 0!==e.method){var i={};this.isLoading=!0,a.a.post("/furet-ui/resource/0/model/".concat(e.model,"/call/").concat(e.method),i).then((function(e){n.isLoading=!1,n.$dispatchAll(e.data)})).catch((function(){n.isLoading=!1}))}}}}}),Object(b["b"])("furet-ui-breadcrumb",{template:'\n  <nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs">\n    <ul>\n      <li v-for="(item, index) in history" :key="index">\n        <a v-on:click="backToResource(index, $event)">\n          <b-icon\n            v-if="item.icon"\n            :icon="item.icon"\n            size="is-small" />\n          <span>{{ item.label }}</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n  ',prototype:{computed:{history:function(){return this.$store.state.global.breadcrumb}},methods:{backToResource:function(e,n){this.$router.push(this.$store.state.global.breadcrumb[e].route),this.$store.commit("ClearBreadcrumbFrom",e),this.$store.commit("CLEAR_CHANGE")}}}}),Object(b["b"])("furet-ui-space",{template:'\n    <div \n        class="columns is-gapless"\n        v-bind:style="{marginTop: \'5px\'}"\n    >\n      <div v-if="isOpenLeft && left_menus.length > 0" class="column is-one-quarter is-half-mobile">\n        <aside class="menu" v-bind:style="{padding: \'5px\'}">\n          <furet-ui-menu \n            v-bind:menus="left_menus" \n            v-bind:menuId="menuId" \n            v-bind:code="code"\n          />\n        </aside>\n      </div>\n      <div class="column" v-bind:style="{paddingLeft: \'10px\', paddingRight: \'10px\'}">\n        <nav class="level">\n          <div class="level-left">\n            <div class="level-item">\n              <a class="button" v-on:click="isOpenLeft = !isOpenLeft" v-if="left_menus.length > 0">\n                <i class="fa fa-bars fa-2x" aria-hidden="true"></i>\n              </a>\n            </div>\n            <div class="level-item">\n              <furet-ui-breadcrumb/>\n            </div>\n          </diV>\n        </nav>\n        <router-view v-bind:key="$route.fullPath"></router-view>\n      </div>\n    </div>\n  ',prototype:{props:["code","menuId"],computed:{isOpenLeft:{get:function(){return this.$store.state.global.isOpenLeft},set:function(e){this.$store.commit("OPEN_LEFT_MENU",e)}},left_menus:function(){return this.$store.state.global.left_menus}},mounted:function(){var e=this;a.a.get("furet-ui/space/".concat(this.code)).then((function(n){e.$dispatchAll(n.data)}))}}}),Object(b["b"])("homepage",{template:'\n    <div class="container has-text-centered">\n      <h1 class="title">Welcome in Furet UI</h1>\n      <div class="column is-half is-offset-one-quarter">\n        <img class="image" v-bind:src="logo" alt="Logo">\n      </div>\n    </div>\n  ',extend:["mixin-logo"]});var v={};Object(b["b"])("furet-ui-waiting-login-page",{template:'\n    <div class="container"> \n        <strong>Waiting loading component</strong>\n    </div>\n  '}),Object(b["b"])("furet-ui-login-page-not-found",{template:"\n    <div class=\"container\"> \n        <strong>Login page '{{ name }}' not found</strong>\n    </div>\n  ",prototype:{props:["name"]}}),Object(b["b"])("furet-ui-login",{template:'\n    <component \n      v-bind:is="loginPageComponent" \n      v-bind:name="loginPageComponentName" \n    />',prototype:{computed:{loginPageComponentName:function(){return this.$store.state.global.loginPage},loginPageComponent:function(){var e=this.loginPageComponentName;return void 0===e?"furet-ui-waiting-resource":void 0!==v[e]?v[e]:"furet-ui-login-page-not-found"}}}}),Object(b["b"])("furet-ui-login-password",{template:'\n    <div class="container has-text-centered">\n      <form v-on:submit="logIn">\n         <furet-ui-page-errors v-bind:errors="errors" />\n         <b-field v-bind:label="$t(\'components.login.username\')">\n           <b-input v-model="username" expanded></b-input>\n         </b-field>\n         <b-field v-bind:label="$t(\'components.login.password\')">\n           <b-input v-model="password" type="password" expanded password-reveal></b-input>\n         </b-field>\n         <br />\n         <div class="buttons">\n           <b-button \n             type="is-primary" \n             native-type="submit" \n             expanded\n             v-bind:disabled="is_not_clickable"\n           >\n           {{ $t(\'components.login.button\') }}\n           </b-button>\n         </div>\n      </form>\n    </div>\n  ',prototype:{data:function(){return{username:"",password:"",errors:[]}},computed:{is_not_clickable:function(){return!this.username||!this.password}},methods:{logIn:function(){var e=this;this.is_not_clickable||(this.errors=[],a.a.post("/furet-ui/login",{login:this.username,password:this.password,redirect:this.$route.query.redirect}).then((function(n){e.$dispatchAll(n.data)})).catch((function(n){e.errors=[n]})))}}}}),v.password="furet-ui-login-password",Object(b["b"])("furet-ui-login-oidc",{template:'\n    <div class="container has-text-centered">\n        <furet-ui-page-errors v-bind:errors="errors" />\n        <b-button \n          type="is-primary" \n          @click="logIn"\n        >Connect with Gitlab</b-button>\n    </div>\n  ',prototype:{data:function(){return{errors:[]}},computed:{},methods:{logIn:function(){var e=this;this.errors=[],a.a.post("/furet-ui/oidc/login",{redirect:this.$route.query.redirect}).then((function(e){document.location.href=e.data})).catch((function(n){e.errors=[n]}))}}}}),v.oidc="furet-ui-login-oidc";t("4160"),t("fb6a"),t("159b");var h={};Object(b["b"])("furet-ui-resource-with-search",{extend:["furet-ui-resource","i18n-translate"],prototype:{props:["id","manager"],computed:{rest_api_url:function(){return"/furet-ui/resource/".concat(this.id,"/crud")},api_params:function(){return{"context[model]":this.resource.model,"context[fields]":this.resource.fields.toString()}}},methods:{revert_modification:function(e){this.$emit("revert-data",e)},api_formater:function(e,n){var t=this;this.$dispatchAll(n.data);var i=[];void 0===n.pks&&(n.pks=[]),void 0===n.total&&(n.total=0),n.pks.forEach((function(e){i.push(t.getEntry(t.resource.model,e))}));var o=this.getNewEntries(this.resource.model),a=n.total+o.length;if(i.length<e.perPage){var r=n.total%e.perPage,s=Math.floor(n.total/e.perPage)+1,u=(e.page-s)*e.perPage;u>0&&(u-=r);var c=u+e.perPage-i.length;e.data=i.concat(o.slice(u,c))}else e.data=i;n.total=a,e.total=a;var d=0,l=0,f=0,m=0,p=0;(this.manager.changed_rows||[]).forEach((function(e){switch(e.__x2m_state){case"ADDED":d++;break;case"UPDATED":l++;break;case"DELETED":f++;break;case"LINKED":m++;break;case"UNLINKED":p++;break}})),e.number_created=d,e.number_updated=l,e.number_deleted=f,e.number_linked=m,e.number_unlinked=p},goToNew:function(e){this.$emit("go-to-new",e)},goToPage:function(e,n){"delete"!==e.__change_state&&this.$emit("go-to-page",e,n)}}}}),Object(b["b"])("furet-ui-resource-with-ssr",{extend:["furet-ui-resource","i18n-translate"],prototype:{props:["id","manager"],data:function(){return{templates:{}}},computed:{form_card_header_template:function(){return this.form_card("header_template")},form_card_body_template:function(){return this.form_card("body_template")},form_card_footer_template:function(){return this.form_card("footer_template")}},methods:{form_card:function(e){if(void 0!==this.templates[e])return this.templates[e];var n={template:"<div></div>",name:"".concat(e,"_").concat(this.resource.id),props:["data","resource"]};return this.resource[e]&&(n.template=this.resource[e],this.templates[e]=n),n}}}});var g=t("a01d");Object(b["b"])("furet-ui-waiting-resource",{template:'\n    <div class="container"> \n        <strong>Waiting loading component</strong>\n    </div>\n  '}),Object(b["b"])("furet-ui-resource-not-found",{template:"\n    <div class=\"container\"> \n        <strong>Resource type '{{ type }}' not found</strong>\n    </div>\n  ",prototype:{props:["type"]}}),Object(b["b"])("furet-ui-resource",{prototype:{props:["id"],computed:{resource:function(){return this.getResource(this.id)}},methods:{getBreadcrumbInfo:function(){throw new Error('You must implement this method **getBreadcrumbInfo** in subclass,\n          it should return a dict:\n          {label: "Label to display in breadcrumb", icon: "list"}')},getResource:function(e){return this.$store.state.resource[e]},updateQueryString:function(e){this.$emit("update-query-string",e)},load_resource:function(e){var n=this;a.a.get("furet-ui/resource/".concat(e)).then((function(e){n.$dispatchAll(e.data)})).catch((function(){}))}},provide:function(){return{currentResource:this}}}}),Object(b["b"])("furet-ui-resource-manager",{extend:["furet-ui-resource"],prototype:{data:function(){return{manager:{children_is_modified:!1},errors:[]}},computed:{resourceComponents:function(){return void 0===this.resource?"furet-ui-waiting-resource":void 0!==h[this.resource.type]?h[this.resource.type]:"furet-ui-resource-not-found"}},methods:{updateModifyState:function(e){var n=e;this.manager=Object.assign({},this.manager,{children_is_modified:n})}},provide:function(){return{updateChangeState:this.updateChangeState,updateModifyState:this.updateModifyState,getEntry:this.getEntryWrapper,getNewEntry:this.getNewEntryWrapper,getNewEntries:this.getNewEntriesWrapper}}}}),Object(b["b"])("furet-ui-space-resource-manager",{template:'\n    <div>\n      <furet-ui-page-errors v-bind:errors="errors"/>\n      <component \n        ref="resource"\n        v-bind:is="resourceComponents" \n        v-bind:id="id" \n        v-bind:manager="manager" \n        v-on:update-query-string="updateQueryString"\n        v-on:create-data="createData"\n        v-on:update-data="updateData"\n        v-on:delete-data="deleteData"\n        v-on:clear-change="clearChange"\n        v-on:go-to-list="goToList"\n        v-on:push-in-breadcrumb="pushInBreadcrumb"\n      />\n    </div>\n  ',extend:["furet-ui-resource-manager"],prototype:{methods:{updateQueryString:function(e){this.$router.push({query:e})},pushInBreadcrumb:function(){var e=this.$refs.resource.getBreadcrumbInfo(),n=e.label,t=e.icon;this.$store.commit("PushBreadcrumb",{route:this.$route,label:n,icon:t}),this.$store.commit("CLEAR_CHANGE")},createData:function(e){var n=this,t=Object.assign({},this.$route.query);e.changes=this.$store.state.data.changes,this.errors=[],a.a.post("/furet-ui/resource/".concat(this.id,"/crud"),e).then((function(e){n.$store.commit("CLEAR_CHANGE"),t.pks=JSON.stringify(e.data.pks),n.updateQueryString(t)})).catch((function(e){n.errors=e.response.data.errors}))},updateData:function(e){var n=this;e.changes=this.$store.state.data.changes,this.errors=[],a.a.patch("/furet-ui/resource/".concat(this.id,"/crud"),e).then((function(){n.$refs.resource.saved()})).catch((function(e){n.errors=e.response.data.errors}))},deleteData:function(e){var n=this;this.errors=[],a.a.delete("/furet-ui/resource/".concat(this.id,"/crud"),{params:e}).then((function(){n.$store.commit("CLEAR_CHANGE"),n.$store.commit("DELETE_DATA",e),n.goToPreviousBreadcrumbElement()})).catch((function(e){n.errors=e.response.data.errors}))},clearChange:function(){this.$store.commit("CLEAR_CHANGE")},goToList:function(){this.goToPreviousBreadcrumbElement()},goToPreviousBreadcrumbElement:function(){var e,n=this.$store.state.global.breadcrumb.length;e=n>0?this.$store.state.global.breadcrumb[this.$store.state.global.breadcrumb.length-1].route:{},this.$router.push(e),this.$store.commit("PopBreadcrumb"),this.$store.commit("CLEAR_CHANGE")},updateChangeState:function(e){this.$store.commit("UPDATE_CHANGE",e)},getEntryWrapper:function(e,n){return this.$store.getters.get_entry(e,n)},getNewEntryWrapper:function(e,n){return this.$store.getters.get_new_entry(e,n)},getNewEntriesWrapper:function(e,n){return this.$store.getters.get_new_entries(e,n)}},provide:function(){return{pushInBreadcrumb:this.pushInBreadcrumb}},mounted:function(){var e=this.$route.query;i["default"].set(this.manager,"query",Object.assign({},e)),this.load_resource(this.id)}}}),Object(b["b"])("furet-ui-form-field-resource-manager",{template:'\n    <div v-bind:style="{width: \'100%\'}" class="box">\n        <furet-ui-page-errors v-bind:errors="errors"/>\n        <component \n          ref="resource"\n          v-bind:is="resourceComponents" \n          v-bind:id="id" \n          v-bind:config="config"\n          v-bind:manager="manager" \n          v-on:update-query-string="updateQueryString"\n          v-on:create-data="createData"\n          v-on:update-data="updateData"\n          v-on:delete-data="deleteData"\n          v-on:revert-data="revertData"\n          v-on:clear-change="clearChange"\n          v-on:modify-state="modifyState"\n          v-on:go-to-list="goToList"\n        />\n    </div>\n  ',extend:["furet-ui-resource-manager"],prototype:{props:["value","x2m_resource","isReadonly","config"],inject:["getEntry","getNewEntry","getNewEntries"],data:function(){return{changes:{},manager:{multi_header_component_name:this.config.multi_header_component_name,page_header_component_name:this.config.page_header_component_name,pagination_size:this.config.pagination_size,changed_rows:this.value||[],readonly:this.isReadonly,query:{additional_filter:this.build_additional_filter()},selectors:this.x2m_resource.selectors||{},children_is_modified:!1}}},methods:{build_additional_filter:function(){var e=this,n={};return this.config.remote_columns&&this.config.local_columns&&_["a"].each(_["a"].zip(this.config.remote_columns,this.config.local_columns),(function(t){n[t[0]]=e.x2m_resource.pks[t[1]]})),n},updateQueryString:function(e){var n=Object.assign({},e);"form"!==n.mode&&(n.additional_filter=this.build_additional_filter()),this.manager=Object.assign({},this.manager,{query:n})},goToList:function(){var e={additional_filter:this.build_additional_filter()};this.manager=Object.assign({},this.manager,{query:e}),this.$refs.resource.$refs.resource.readonly=!0,this.$refs.resource.mode="multi",this.clearChange()},createData:function(e){e.changes=this.changes,e.changes[e["model"]]["new"][e["uuid"]]=Object.assign(e.changes[e["model"]]["new"][e["uuid"]],this.build_additional_filter()),this.$emit("add",e),this.goToList()},updateData:function(e){e.changes=this.changes,this.$emit("update",e),this.goToList()},deleteData:function(e){this.$emit("delete",e),this.goToList()},revertData:function(e){this.$emit("revert",e)},modifyState:function(e){this.$emit("modify-state",e)},clearChange:function(e){this.changes={}},updateChangeState:function(e){this.changes=Object(g["c"])(this.changes,e)},getEntryWrapper:function(e,n){return this.getEntry(e,n)},getNewEntryWrapper:function(e,n){return this.getNewEntry(e,n)},getNewEntriesWrapper:function(e){return this.getNewEntries(e)}},watch:{isReadonly:function(){this.manager.readonly=this.isReadonly},value:function(){var e=Object.assign({},this.manager.query,{additional_filter:this.build_additional_filter()});this.manager=Object.assign({},this.manager,{query:e,changed_rows:this.value})}},mounted:function(){this.load_resource(this.id)}}});t("e270");Object(b["b"])("furet-ui-resource-custom",{template:'\n    <component \n      v-bind:is="resource.component" \n      v-bind:manager="manager" \n      v-bind:id="id" \n      v-on:update-query-string="updateQueryString"\n      />\n  ',extend:["furet-ui-resource"],prototype:{props:["id","manager"],methods:{updateQueryString:function(e){this.$emit("update-query-string",e)}}}}),h.custom="furet-ui-resource-custom",Object(b["b"])("furet-ui-resource-set",{template:'\n    <keep-alive>\n      <component \n        ref="resource"\n        v-bind:is="getResourceComponent" \n        v-bind:id="subResource.id" \n        v-bind:key="subResource.id" \n        v-bind:type="subResource.type" \n        v-bind:manager="resourceManager" \n\n        v-on:update-query-string="updateQueryString"\n        v-on:create-data="createData"\n        v-on:update-data="updateData"\n        v-on:delete-data="deleteData"\n        v-on:revert-data="revertData"\n        v-on:clear-change="clearChange"\n        v-on:modify-state="modifyState"\n\n        v-on:go-to-new="goToNew"\n        v-on:go-to-page="goToPage"\n        v-on:go-to-list="goToList"\n      />\n    </keep-alive>\n  ',extend:["furet-ui-resource"],prototype:{props:["manager","config"],computed:{subResource:function(){return this.getResource(this.resource[this.manager.mode])},getResourceComponent:function(){var e=this.subResource;return void 0===e?"furet-ui-waiting-resource":void 0!==h[e.type]?h[e.type]:"furet-ui-resource-not-found"},resourceManager:function(){return Object.assign({can_create:this.resource.can_create,can_update:this.resource.can_update,can_delete:this.resource.can_delete,create_choices:this.resource.forms||[]},this.manager)}},methods:{updateQueryString:function(e){this.$emit("update-query-string",e)},goToList:function(){this.$emit("go-to-list")},createData:function(e){this.$emit("create-data",e)},updateData:function(e){this.$emit("update-data",e)},deleteData:function(e){this.$emit("delete-data",e)},revertData:function(e){var n={};this.resource.pks.forEach((function(t){n[t]=e[t]}));var t={model:this.config.model,pks:n,uuid:e.__uuid};this.$emit("revert-data",t)},modifyState:function(e){this.$emit("modify-state",e)},clearChange:function(e){this.$emit("clear-change",e)},goToNew:function(e){var n={mode:"form"};void 0!==e&&(n.waiting_value=JSON.stringify(e.waiting_value),n.resource_id=e.resource_id),this.$emit("push-in-breadcrumb"),this.$emit("update-query-string",n)},goToPage:function(e){if(this.resource.can_read)if(e.__uuid)this.$emit("update-query-string",{mode:"form",uuid:e.__uuid});else{this.$emit("push-in-breadcrumb");var n={};this.resource.pks.forEach((function(t){n[t]=e[t]})),this.$emit("update-query-string",{mode:"form",pks:JSON.stringify(n)})}},saved:function(){this.$refs.resource.goToPage(),this.$refs.resource.loadAsyncData()},getBreadcrumbInfo:function(){return this.$refs.resource.getBreadcrumbInfo()},refresh:function(){this.$refs.resource.refresh()}},watch:{manager:function(){var e=this.manager.query||{};void 0!==e.mode?this.manager.mode=e.mode:this.manager.mode="multi"}},created:function(){var e=this.manager.query||{};void 0!==e.mode?this.manager.mode=e.mode:this.manager.mode="multi"}}}),h.set="furet-ui-resource-set";t("4de4");var y=t("91eb");Object(b["b"])("furet-ui-resource-list",{template:'\n    <furet-ui-list\n      ref="list"\n      v-bind:title="resource.title"\n      v-bind:default_filters="resource.filters || []"\n      v-bind:default_tags="resource.tags || []"\n      v-bind:default_header_component_name="manager.multi_header_component_name || null"\n      v-bind:perpage="resource.perpage"\n      v-bind:can_go_to_new="manager.can_create"\n      v-bind:go_to_new_choices="manager.create_choices"\n      v-bind:rest_api_url="rest_api_url"\n      v-bind:rest_api_params="api_params"\n\n      v-bind:rest_api_formater="api_formater"\n      v-bind:query="manager.query"\n      v-bind:readonly="manager.readonly"\n      v-bind:pagination_size="manager.pagination_size"\n\n      v-on:update-query-string="updateQueryString"\n      v-on:go-to-new="goToNew"\n      v-on:go-to-page="goToPage"\n    >\n      <template slot="hidden_columns">\n        <section v-if="hidden_columns.length">\n          <b-field grouped group-multiline>\n            <div \n              v-for="header in hidden_columns"\n              v-bind:key="header.name"\n              class="control"\n            >\n              <b-checkbox \n                v-bind:value="!header.column_column"\n                v-on:input="toggleHiddenColumn(header.name)"\n              > \n                  {{ header.label }}\n              </b-checkbox>\n            </div>\n          </b-field>\n        </section>\n      </template>\n      <template slot="actions" slot-scope="props">\n        <furet-ui-list-button \n          v-for="button in resource.buttons" \n          v-bind:key="button.call"\n          v-bind:resource="resource"\n          v-bind:data="props.data"\n          v-bind:config="button" />\n      </template>\n      <template slot-scope="props">\n        <b-table-column class="is-action">\n          <a class="button is-outlined" v-on:click="revert_modification(props.row)">\n            <b-icon icon="redo-alt" size="is-small"/>\n          </a>\n        </b-table-column>\n        <b-table-column \n          v-for="header in resource.headers" \n          class="is-list-cell"\n          v-bind:key="header.name"\n          v-bind:field="typeof header.sortable === \'string\'? header.sortable : header.name" \n          v-bind:label="translate(header.label)" \n          v-bind:sortable="typeof header.sortable === \'string\'? true: header.sortable"\n          v-bind:visible="!safe_eval(header[\'hidden-column\'], props.row)"\n          >\n            <component \n              v-bind:is="header.component" \n              v-bind:config="header"\n              v-bind:resource="resource"\n              v-bind:data="props.row" />\n        </b-table-column>\n      </template>\n    </furet-ui-list>\n  ',extend:["furet-ui-resource-with-search"],prototype:{props:["id","manager"],inject:["getEntry","getNewEntries"],computed:{hidden_columns:function(){return _["a"].filter(this.resource.headers,(function(e){return e["column-can-be-hidden"]}))}},methods:{safe_eval:function(e,n){var t=Object.assign({manager:this.manager},this.resource);return Object(y["b"])(e,n,t)},getBreadcrumbInfo:function(){return{label:this.$t(this.resource.title),icon:"list"}},toggleHiddenColumn:function(e){this.$store.commit("UPDATE_RESOURCE_TOGGLE_HIDDEN_COLUMN",{id:this.id,field:e})},refresh:function(){this.$refs.list.loadAsyncData()}}}}),h.list="furet-ui-resource-list",Object(b["b"])("furet-ui-list-button",{template:'\n    <a class="furet-ui-list-button button is-primary is-outlined" v-on:click="server_call">\n      <span class="icon" v-if="config.icon">\n        <b-icon v-bind:icon="config.icon" />\n      </span>\n      <span>{{ translate(config.label) }}</span>\n    </a>\n  ',extend:["i18n-translate"],prototype:{props:["resource","data","config"],methods:{get_call_information:function(){return this.config.call?{url:"/furet-ui/resource/".concat(this.resource.id,"/model/").concat(this.resource.model,"/call/").concat(this.config.call),params:{}}:this.config["open-resource"]?{url:"/furet-ui/open/resource/".concat(this.config["open-resource"]),params:{route:this.$route.name,params:this.$route.params,resource_type:this.config["resource-type"]}}:void 0},server_call:function(){var e=this;this.$parent.$parent.errors=[],this.$parent.$parent.loading=!0;var n=this.get_call_information(),t=n.url,i=n.params;a.a.post(t,i).then((function(n){e.$parent.$parent.loading=!1,n.data.length?e.$dispatchAll(n.data):e.$parent.$parent.loadAsyncData()})).catch((function(n){e.$parent.$parent.loading=!1,e.$parent.$parent.errors=n.response.data.errors}))}}}}),Object(b["b"])("furet-ui-resource-thumbnail",{template:'\n    <furet-ui-thumbnail\n      ref="thumbnail"\n      v-bind:title="resource.title"\n      v-bind:default_filters="resource.filters || []"\n      v-bind:default_tags="resource.tags || []"\n      v-bind:default_header_component_name="manager.multi_header_component_name || null"\n      v-bind:perpage="resource.perpage"\n      v-bind:can_go_to_new="manager.can_create"\n      v-bind:go_to_new_choices="manager.create_choices"\n      v-bind:rest_api_url="rest_api_url"\n      v-bind:rest_api_params="api_params"\n\n      v-bind:rest_api_formater="api_formater"\n      v-bind:query="manager.query"\n      v-bind:readonly="manager.readonly"\n      v-bind:pagination_size="manager.pagination_size"\n\n      v-on:update-query-string="updateQueryString"\n      v-on:go-to-new="goToNew"\n      v-on:go-to-page="goToPage"\n    >\n      <template slot="actions" slot-scope="props">\n        <furet-ui-list-button \n          v-for="button in resource.buttons" \n          v-bind:key="button.call"\n          v-bind:resource="resource"\n          v-bind:data="props.data"\n          v-bind:config="button" />\n      </template>\n      <template slot-scope="props">\n        <div class="card">\n          <component \n            v-bind:is="form_card_header_template" \n            v-bind:resource="resource"\n            v-bind:data="props.data"\n          />\n          <div class="card-content">\n            <component \n              v-bind:is="form_card_body_template" \n              v-bind:resource="resource"\n              v-bind:data="props.data"\n              v-bind:key="\'body_\' + resource.id"\n            />\n          </div>\n          <component \n            v-bind:is="form_card_footer_template" \n            v-bind:resource="resource"\n            v-bind:data="props.data"\n            v-bind:key="\'footer_\' + resource.id"\n          />\n        </div>\n      </template>\n    </furet-ui-thumbnail>\n  ',extend:["furet-ui-resource-with-ssr","furet-ui-resource-with-search"],prototype:{inject:["getEntry","getNewEntries"],methods:{getBreadcrumbInfo:function(){return{label:this.$t(this.resource.title),icon:"th"}},refresh:function(){this.$refs.thumbnail.loadAsyncData()}},provide:function(){return{partIsReadonly:!0}}}}),h.thumbnail="furet-ui-resource-thumbnail",Object(b["b"])("furet-ui-thumbnail-footer-button",{template:'\n    <a v-bind:class="config.class" v-on:click="server_call">\n      <span class="icon" v-if="config.icon">\n        <b-icon v-bind:icon="config.icon" />\n      </span>\n      <span>{{ translate(config.label) }}</span>\n    </a>\n  ',extend:["i18n-translate"],prototype:{props:["resource","data","config"],methods:{get_call_information:function(){var e=this;if(this.config.call){var n={};return this.resource.pks.forEach((function(t){n[t]=e.data[t]})),{url:"/furet-ui/resource/".concat(this.resource.id,"/model/").concat(this.resource.model,"/call/").concat(this.config.call),params:{pks:n}}}if(this.config["open-resource"])return{url:"/furet-ui/open/resource/".concat(this.config["open-resource"]),params:{route:this.$route.name,params:this.$route.params,resource_type:this.config["resource-type"]}}},server_call:function(){var e=this;this.$parent.$parent.$parent.errors=[],this.$parent.$parent.$parent.loading=!0;var n=this.get_call_information(),t=n.url,i=n.params;a.a.post(t,i).then((function(n){e.$parent.$parent.$parent.loading=!1,n.data.length?e.$dispatchAll(n.data):e.$parent.$parent.$parent.loadAsyncData()})).catch((function(n){e.$parent.$parent.$parent.loading=!1,e.$parent.$parent.$parent.errors=n.response.data.errors}))}}}});t("c975");var j=t("2909"),k=t("11c1");Object(b["b"])("furet-ui-resource-form",{template:'\n    <section>\n      <b-loading v-bind:active.sync="loading"></b-loading>\n      <furet-ui-page-errors v-bind:errors="errors"/>\n      <component\n        v-bind:is="headerComponentName"\n        name="furet-ui-page"\n        v-bind:title="resource.title"\n        v-bind:can_go_to_new="readonly && manager.can_create"\n        v-bind:go_to_new_choices="manager.create_choices"\n        v-bind:can_modify="readonly && manager.can_update"\n        v-bind:can_delete="readonly && manager.can_delete"\n        v-bind:show_save="!readonly"\n        v-bind:can_save="manager.children_is_modified"\n        v-bind:readonly="manager.readonly"\n\n        v-on:go-to-list="goToList"\n        v-on:go-to-edit="goToEdit"\n        v-on:go-to-new="goToNew"\n        v-on:go-to-page="goToPage"\n        v-on:delete-entry="deleteEntry"\n        v-on:save="save"\n\n        v-bind:data="data"\n      >\n        <template slot="header" v-if="resource.header_template">\n          <component \n            v-bind:is="form_card_header_template" \n            v-bind:resource="resource"\n            v-bind:data="data"\n          />\n        </template>\n      </component>\n      <div class="section">\n        <component \n          v-bind:is="form_card_body_template" \n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:key="\'body_\' + resource.id"\n        />\n      </div>\n      <component \n        v-bind:is="form_card_footer_template" \n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:key="\'footer_\' + resource.id"\n      />\n    </section>\n  ',extend:["furet-ui-resource-with-ssr"],prototype:{inject:["getEntry","getNewEntry","updateChangeState"],data:function(){return{loading:!1,errors:[],readonly:!0,pks:{},uuid:null,selectors:{},tabs:{},refreshCallbacks:[],headerComponentName:this.manager.page_header_component_name||"furet-ui-header-page"}},computed:{data:function(){return this.uuid?this.getNewEntry(this.resource.model,this.uuid):this.pks?this.getEntry(this.resource.model,this.pks):void 0},resource:function(){return Object.assign({readonly:this.readonly,pks:this.pks,uuid:this.uuid,selectors:this.selectors,tabs:this.tabs},this.$store.state.resource[this.id])}},methods:{getBreadcrumbInfo:function(){return{label:this.translate(this.resource.title||""),icon:"newspaper"}},goToList:function(){this.uuid=null,this.$emit("modify-state",!1),this.$emit("go-to-list")},goToNew:function(e){this.$emit("modify-state",!1);var n={mode:"form"};void 0!==e&&(n.waiting_value=JSON.stringify(e.waiting_value),n.resource_id=e.resource_id),this.updateQueryString(n)},goToEdit:function(){this.updateReadOnly(!1)},goToPage:function(){this.$emit("clear-change",{pks:this.pks,uuid:this.uuid}),this.updateReadOnly(!0),this.uuid&&this.goToList(),this.refresh_fields()},updateReadOnly:function(e){this.readonly=e,this.$emit("modify-state",!e)},getDefault:function(){var e=this;void 0!==this.manager.query.waiting_value&&_["a"].each(JSON.parse(this.manager.query.waiting_value),(function(n,t){e.updateChangeState({model:e.resource.model,uuid:e.uuid,fieldname:t,value:n})})),this.errors=[],this.loading=!0;var n={data:{uuid:this.uuid}};a.a.post("/furet-ui/resource/".concat(this.resource.id,"/model/").concat(this.resource.model,"/call/default_values"),n).then((function(n){e.$dispatchAll(n.data),e.loading=!1})).catch((function(n){e.loading=!1,e.errors=n.response.data.errors}))},deleteEntry:function(){this.$emit("modify-state",!1),this.$emit("delete-data",{model:this.resource.model,pks:Object.assign({},this.pks)})},save:function(){this.$emit("modify-state",!1),this.uuid?(this.$emit("create-data",{model:this.resource.model,uuid:this.uuid}),this.uuid=null):this.$emit("update-data",{model:this.resource.model,pks:Object.assign({},this.pks)})},refresh_fields:function(){this.$emit("clear-change",{pks:this.pks,uuid:this.uuid}),this.updateReadOnly(!0),this.refreshCallbacks.forEach((function(e){e()}))},refresh:function(){this.loadAsyncData(),this.refresh_fields()},loadAsyncData:function(){var e=this;this.loading=!0;var n={"context[model]":this.resource.model,"context[fields]":this.resource.fields.toString()};_["a"].each(_["a"].keys(this.pks),(function(t){n["filter[".concat(t,"][eq]")]=e.pks[t]})),this.errors=[],a.a.get("/furet-ui/resource/".concat(this.id,"/crud"),{params:n}).then((function(n){e.$dispatchAll(n.data.data),e.loading=!1})).catch((function(n){e.errors=n.response.data.errors,e.loading=!1}))},parse_query:function(){if(void 0!==this.manager.query)if(this.manager.query.pks){var e=JSON.parse(this.manager.query.pks);JSON.stringify(e)!=JSON.stringify(this.pks)&&(this.pks=e,this.uuid=null,this.loadAsyncData())}else this.manager.query.uuid?this.uuid!=this.manager.query.uuid&&(this.updateReadOnly(!1),this.uuid=this.manager.query.uuid,this.getDefault()):null!==this.uuid||(this.updateReadOnly(!1),this.uuid=Object(k["v1"])(),this.getDefault())},isReadonly:function(){return this.readonly},registryRefreshCallback:function(e){-1===this.refreshCallbacks.indexOf(e)&&this.refreshCallbacks.push(e)}},provide:function(){return{partIsReadonly:this.isReadonly,registryRefreshCallback:this.registryRefreshCallback}},watch:{manager:function(){this.parse_query()}},created:function(){this.parse_query()}}}),h.form="furet-ui-resource-form",Object(b["b"])("furet-ui-form-button",{template:'\n      <button \n        v-bind:disabled="isReadonly" \n        v-bind:class="getClass" \n        v-on:click="server_call"\n        v-if="!isHidden"\n      >\n        <span class="icon" v-if="config.icon">\n          <b-icon v-bind:icon="config.icon" />\n        </span>\n        <span>{{ translate(config.label) }}</span>\n      </button>\n  ',extend:["furet-ui-helper-mixin","i18n-translate"],prototype:{inject:["currentResource"],computed:{getClass:function(){return void 0!==this.config.class&&0!=this.config.class.length?["button"].concat(Object(j["a"])(this.config.class)):["button","is-primary","is-outlined"]},isHidden:function(){return!!this.currentResource.uuid||void 0!=this.config.hidden&&Object(y["b"])(this.config.hidden,this.data||{},this.resource)}},methods:{getIsReadonly:function(){if(!this.resource.readonly)return!0;if(!this.partIsReadonly())return!0;var e=Object(y["b"])(this.config.readonly,this.data,this.resource);return!!e},server_call:function(){var e=this;this.currentResource.errors=[],this.currentResource.loading=!0;var n={pks:this.resource.pks};a.a.post("/furet-ui/resource/".concat(this.resource.id,"/model/").concat(this.resource.model,"/call/").concat(this.config.call),n).then((function(n){e.currentResource.loading=!1,n.data.length?e.$dispatchAll(n.data):e.currentResource.loadAsyncData()})).catch((function(n){e.currentResource.loading=!1,e.currentResource.errors=n.response.data.errors}))}}}}),Object(b["b"])("furet-ui-resource-polymorphic-form",{template:'\n    <section>\n      <b-loading v-bind:active.sync="loading"></b-loading>\n      <furet-ui-page-errors v-bind:errors="errors"/>\n      <component \n        ref="resource"\n        v-if="subResource"\n        v-bind:is="getResourceComponent" \n        v-bind:id="subResource.id" \n        v-bind:key="subResource.id" \n        v-bind:manager="manager" \n\n        v-on:update-query-string="updateQueryString"\n        v-on:create-data="createData"\n        v-on:update-data="updateData"\n        v-on:delete-data="deleteData"\n        v-on:revert-data="revertData"\n        v-on:clear-change="clearChange"\n        v-on:modify-state="modifyState"\n\n        v-on:go-to-new="goToNew"\n        v-on:go-to-list="goToList"\n      />\n    </section>\n  ',extend:["furet-ui-resource"],prototype:{props:["manager"],inject:["getEntry"],data:function(){return{errors:[],loading:!1}},computed:{subResource:function(){var e=this.resource_id;return this.getResource(e)},resource_id:function(){if(void 0!==this.manager.query.resource_id)return this.manager.query.resource_id;var e=void 0,n=this.getEntry(this.resource.model,this.pks),t={};return _["a"].forEach(this.resource.fields,(function(e){t[e]=n[e]})),_["a"].forEach(this.resource.forms,(function(n){Object(g["b"])(n.waiting_value)===Object(g["b"])(t)&&(e=n.resource_id)})),e},getResourceComponent:function(){var e=this.subResource;return void 0===e?"furet-ui-waiting-resource":void 0!==h[e.type]?h[e.type]:"furet-ui-resource-not-found"}},methods:{updateQueryString:function(e){this.$emit("update-query-string",e)},goToNew:function(){this.$emit("go-to-new")},goToList:function(){this.$emit("go-to-list")},createData:function(e){this.$emit("create-data",e)},updateData:function(e){this.$emit("update-data",e)},deleteData:function(e){this.$emit("delete-data",e)},revertData:function(e){this.$emit("revert-data",e)},clearChange:function(e){this.$emit("clear-change",e)},modifyState:function(e){this.$emit("modify-state",e)},getBreadcrumbInfo:function(){return this.$refs.resource.getBreadcrumbInfo()},refresh:function(){this.$refs.resource.refresh()},goToPage:function(){this.$refs.resource.goToPage()},loadAsyncData:function(){var e=this;this.loading=!0;var n={"context[model]":this.resource.model,"context[fields]":this.resource.fields.toString()};_["a"].each(_["a"].keys(this.pks),(function(t){n["filter[".concat(t,"][eq]")]=e.pks[t]})),this.errors=[],a.a.get("/furet-ui/resource/".concat(this.id,"/crud"),{params:n}).then((function(n){e.$dispatchAll(n.data.data),e.loading=!1})).catch((function(n){e.errors=n.response.data.errors,e.loading=!1}))},parse_query:function(){if(void 0!==this.manager.query&&this.manager.query.pks){var e=JSON.parse(this.manager.query.pks);JSON.stringify(e)!=JSON.stringify(this.pks)&&(this.pks=e,this.loadAsyncData())}}},watch:{manager:function(){this.parse_query()}},created:function(){this.parse_query()}}}),h.polymorphicform="furet-ui-resource-polymorphic-form";t("7db0"),t("a15b"),t("d81d"),t("466d"),t("1276"),t("2ca0"),t("498a");var O=t("3835");Object(b["b"])("furet-ui-page-errors",{template:'\n    <div class="container">\n      <b-message type="is-danger" v-if="errors && errors.length" v-bind:closable="false" v-bind:title="$i18n.t(\'error\')">\n        <ul>\n          <li v-for="error in errors">\n            <pre>{{ error }}</pre>\n          </li>\n        </ul>\n      </b-message>\n    </div>\n  ',prototype:{props:["errors"]}}),Object(b["b"])("furet-ui-page-infos",{template:'\n    <div class="container">\n      <b-message type="is-success" v-if="infos && infos.length" v-bind:closable="false" v-bind:title="$i18n.t(\'info\')">\n        <ul>\n          <li v-for="info in infos">\n            <pre>{{ info }}</pre>\n          </li>\n        </ul>\n      </b-message>\n    </div>\n  ',prototype:{props:["infos"]}}),Object(b["b"])("furet-ui-page-header-date",{template:"\n    <span>{{ formatDate(value) }}</span>\n  ",extend:["date-display"],prototype:{props:["value"]}}),Object(b["b"])("furet-ui-list-total",{template:'\n    <b-field grouped group-multiline v-bind:class="pagination_size">\n      <div class="control">\n        <strong>{{ $t(\'components.header.total\') }} :</strong>\n        {{ total }}\n      </div>\n      <div v-if="number_created" class="control has-text-x2m-created">\n        <strong>{{ $t(\'components.header.created\') }} :</strong>\n        +{{ number_created }}\n      </div>\n      <div v-if="number_updated" class="control has-text-x2m-updated">\n        <strong>{{ $t(\'components.header.updated\') }} :</strong>\n        {{ number_updated }}\n      </div>\n      <div v-if="number_deleted" class="control has-text-x2m-deleted">\n        <strong>{{ $t(\'components.header.deleted\') }} :</strong>\n        -{{ number_deleted }}\n      </div>\n      <div v-if="number_linked" class="control has-text-x2m-linked">\n        <strong>{{ $t(\'components.header.linked\') }} :</strong>\n        +{{ number_linked }}\n      </div>\n      <div v-if="number_unlinked" class="control has-text-x2m-unlinked">\n        <strong>{{ $t(\'components.header.unlinked\') }} :</strong>\n        -{{ number_unlinked }}\n      </div>\n    </b-field>\n  ',prototype:{props:["total","number_created","number_updated","number_deleted","number_linked","number_unlinked","pagination_size"]}}),Object(b["b"])("furet-ui-list-pagination",{template:'\n    <div>\n      <div class="top level">\n        <div class="level-left">\n          <furet-ui-list-total\n            v-bind:pagination_size="pagination_size"\n            v-bind:total="total"\n            v-bind:number_created="number_created"\n            v-bind:number_updated="number_updated"\n            v-bind:number_deleted="number_deleted"\n            v-bind:number_linked="number_linked"\n            v-bind:number_unlinked="number_unlinked"\n          />\n        </div>\n        <div class="level-right">\n          <div class="level-item">\n            <b-pagination\n              v-bind:total="total"\n              v-bind:per-page="perPage"\n              v-bind:size="pagination_size"\n              v-bind:current="page"\n              v-on:change="onPageChange"\n            />\n          </div>\n        </div>\n      </div>\n      <b-loading v-bind:active.sync="loading"></b-loading>\n      <slot />\n      <div class="top level">\n        <div class="level-left">\n          <furet-ui-list-total\n            v-bind:pagination_size="pagination_size"\n            v-bind:total="total"\n            v-bind:number_created="number_created"\n            v-bind:number_updated="number_updated"\n            v-bind:number_deleted="number_deleted"\n            v-bind:number_linked="number_linked"\n            v-bind:number_unlinked="number_unlinked"\n          />\n        </div>\n        <div class="level-right">\n          <div class="level-item">\n            <b-pagination\n              v-bind:total="total"\n              v-bind:per-page="perPage"\n              v-bind:size="pagination_size"\n              v-bind:current="page"\n              v-on:change="onPageChange"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  ',prototype:{props:["total","number_created","number_updated","number_deleted","number_linked","number_unlinked","pagination_size","perPage","page","loading"],methods:{onPageChange:function(e){this.$emit("change",e)}}}}),Object(b["b"])("furet-ui-page-multi-entries-header",{template:'\n    <header id="furet-ui-page-multi-entries-header">\n      <div class="level">\n        <div class="level-left">\n          <h2 class="level-item is-size-3">{{ title }}</h2>&nbsp;<span class="level-item">&nbsp;<slot name="aftertitle" v-bind:data="data" /></span>\n        </div>\n        <div class="level-right">\n          <div class="level-item">\n            <b-field grouped group-multiline>\n              <div class="control" v-for="tag in tags" v-if="tag.selected" v-bind:key="tag.key">\n                  <b-tag \n                    v-bind:class="[\'furet-ui-page-multi-entries-header-tag\', tag.key]" \n                    type="is-primary" closable \n                    v-on:close="removeTag(tag)">{{ $t(tag.label) }} </b-tag>\n              </div>\n              <div class="control" v-for="filter in filters" v-if="filter.values.length" v-bind:key="filter.key + \'-\' + filter.mode + \'-\' + filter.opt">\n                <b-taglist attached>\n                  <b-tag type="is-danger" v-if="filter.mode == \'exclude\'"> ~ </b-tag>\n                  <b-tag type="is-dark">{{ $t(filter.label) }}</b-tag>\n                  <b-tag \n                    type="is-primary" \n                    closable \n                    v-for="value in filter.values" \n                    v-bind:class="[\'furet-ui-page-multi-entries-header-filter\', filter.key, value]" \n                    v-on:close="removeFilter(filter.key, filter.mode, filter.opt, value)" \n                    v-bind:key="value">{{ value }} </b-tag>\n                </b-taglist>\n              </div>\n            </b-field>\n          </div>\n          <div class="level-item" v-if="filters.length" >\n            <b-autocomplete\n              v-model="filterSearch"\n              v-bind:data="filteredDataArray"\n              v-bind:placeholder="this.$i18n.t(\'components.header.search\')"\n              icon="search"\n              v-on:select="updateFilters"\n              clear-on-select\n            >\n              <template slot="empty">{{ $t(\'components.header.notFound\') }}</template>\n              <template slot-scope="props">\n                {{ props.option.mode == \'exclude\' ? \' ~ \' : \'\' }} <small>{{ $t(props.option.label) }} </small> : <strong>{{ props.option.value }}</strong>\n              </template>\n            </b-autocomplete>\n          </div>\n          <div class="level-item buttons">\n            <a id="furet-ui-page-multi-entries-header-refresh" class="button" v-on:click="refresh"><b-icon icon="redo" /></a>\n            <a id="furet-ui-page-multi-entries-header-tags" v-if="tags.length" class="button" v-on:click.stop="tag_list_open = ! tag_list_open">\n              <b-icon :icon="tag_list_open ? \'arrow-circle-up\' : \'arrow-circle-down\'" />\n            </a>\n          </div>\n        </div>\n      </div>\n      <b-collapse class="panel is-pulled-right" v-bind:open.sync="tag_list_open">\n        <b-taglist>\n          <b-tag v-for="tag in tags" v-bind:key="tag.key" v-bind:class="[\'is-small\', tag.selected ? \'\': \'has-text-weight-bold\']" >\n            <a \n              v-bind:class="[\'furet-ui-page-multi-entries-header-toggle-tag\', tag.key]" \n              v-on:click.stop="toggleTag(tag)">{{ $t(tag.label) }}</a>\n          </b-tag>\n        </b-taglist>\n      </b-collapse>\n      <div class="buttons is-grouped is-centered">\n        <div v-if="can_go_to_new">\n          <b-dropdown \n            :triggers="[\'hover\']" \n            v-if="(go_to_new_choices || []).length"\n            v-bind:disabled="readonly"\n          >\n            <button \n              class="button is-primary is-outlined" \n              slot-scope="{ active }"\n              slot="trigger">\n              <span class="icon"><b-icon icon="plus" /></span>\n              <span>{{ $t(\'components.header.new\') }}</span>\n              <span class="icon"><b-icon :icon="active ? \'caret-up\' : \'caret-down\'" /></span>\n            </button>\n            <b-dropdown-item \n              v-for="choice in go_to_new_choices"\n              v-bind:key="choice.resource_id"\n              aria-role="listitem"\n              v-on:click="goToNewPolymorphic(choice)"\n            >\n              {{ choice.label }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <button \n            id="furet-ui-page-multi-entries-header-new" \n            v-else\n            v-bind:disabled="readonly"\n            class="button is-primary is-outlined" \n            v-on:click="goToNew"\n          >\n            <span class="icon"><b-icon icon="plus" /></span>\n            <span>{{ $t(\'components.header.new\') }}</span>\n          </button>\n        </div>\n        <slot name="actions" v-bind:data="data" />\n      </div>\n    </header>\n  ',prototype:{props:["title","filters","tags","data","can_go_to_new","go_to_new_choices","readonly"],data:function(){return{filterSearch:"",tag_list_open:!1}},computed:{filteredDataArray:function(){var e=this;return _["a"].map(this.filters,(function(n){return{key:n.key,mode:n.mode,label:n.label,value:e.filterSearch,opt:n.opt}}))}},methods:{goToNew:function(){this.$emit("go-to-new")},goToNewPolymorphic:function(e){this.$emit("go-to-new",e)},updateFilters:function(e){this.$emit("updateFilters",e)},refresh:function(){this.$emit("refresh")},removeFilter:function(e,n,t,i){this.$emit("removeFilter",e,n,t,i)},toggleTag:function(e){this.$emit("toggleTag",e)},removeTag:function(e){this.$emit("removeTag",e)}}}}),Object(b["b"])("mixin-page-multi-entries",{prototype:{props:["title","default_filters","default_tags","defaultSortField","defaultSortOrder","perpage","can_go_to_new","go_to_new_choices","rest_api_url","rest_api_params","rest_api_formater","query","default_header_component_name","pagination_size","readonly"],data:function(){var e=[];return this.defaultSortField&&e.push({field:this.defaultSortField,order:this.defaultSortOrder||"asc"}),{data:[],errors:[],total:0,number_created:0,number_updated:0,number_deleted:0,number_linked:0,number_unlinked:0,loading:!1,page:1,perPage:this.perpage||25,filters:_["a"].map(this.default_filters||[],(function(e){return Object.assign({},e,{values:Object.assign([],e.values||[])})})),additional_filter:{},tags:_["a"].map(this.default_tags||[],(function(e){return Object.assign({},e)})),sortingPriority:e,headerComponentName:this.default_header_component_name||"furet-ui-page-multi-entries-header"}},computed:{selectedEntries:function(){return this.data},row_state:function(){return this.row_state_callback}},methods:{goToNew:function(e){this.$emit("go-to-new",e)},goToPage:function(e){var n=(this.page-1)*this.perPage+this.data.indexOf(e);this.$emit("go-to-page",e,{offset:n,query:this.query})},updateData:function(){var e={page:this.page},n={},t=[],i=[];this.sortingPriority.forEach((function(e){i.push("".concat(e.field,":").concat(e.order))})),i.length&&(e.orders=i.toString()),_["a"].each(this.filters,(function(e){if(e.values.length){var t="exclude"===e.mode?"~":"",i=e.opt?"[".concat(e.opt,"]"):"";n["".concat(t,"filter[").concat(e.key,"]").concat(i)]=e.values.join()}})),_["a"].keys(n).length&&(e.filters=JSON.stringify(n)),_["a"].each(this.tags,(function(e){e.selected&&t.push(e.key)})),t.length&&(e.tags=t.join()),this.$emit("update-query-string",e)},updateFilters:function(e){if(e){var n=_["a"].find(this.filters,(function(n){return n.key===e.key&&n.mode===e.mode&&n.opt===e.opt}));n.op.startsWith("or-")||"in"===n.op?n.values.push(e.value):n.values=[e.value],this.page=1,this.updateData()}},removeFilter:function(e,n,t,i){var o=_["a"].find(this.filters,(function(i){return i.key===e&&i.mode===n&&i.opt===t}));o.values=_["a"].filter(o.values,(function(e){return e!==i})),this.page=1,this.updateData()},toggleTag:function(e){e.selected=!e.selected,this.updateData()},removeTag:function(e){e.selected=!1,this.updateData()},from_x2m_with_a_newest_parent:function(){var e=this;if(null===this.additional_filter)return!1;var n=!1;return _["a"].each(_["a"].keys(this.additional_filter),(function(t){void 0===e.additional_filter[t]&&(n=!0)})),n},row_state_callback:function(e,n){var t="";switch(e.__change_state){case"create":t="is-created";break;case"update":t="is-updated";break;case"delete":t="is-deleted";break;case"link":t="is-linked";break;case"unlink":t="is-unlinked";break;default:t="is-unmodified"}return t},loadAsyncData:function(){var e=this;if(this.from_x2m_with_a_newest_parent())this.rest_api_formater&&this.rest_api_formater(this,{});else{var n=Object.assign({},this.rest_api_params||{});n.offset=(this.page-1)*this.perPage,n.limit=this.perPage,this.sortingPriority.forEach((function(e){var t=e.field,i=e.order;n["order_by[".concat(t,"]")]=i})),_["a"].each(this.filters,(function(e){if(e.values.length){var t=e.op.startsWith("or-")||"in"===e.op?e.values.toString():e.values[0],i="exclude"===e.mode?"~":"";n["".concat(i,"filter[").concat(e.key,"][").concat(e.op,"]")]=t}})),null!==this.additional_filter&&_["a"].each(_["a"].keys(this.additional_filter),(function(t){void 0!==e.additional_filter[t]&&(n["filter[".concat(t,"][in]")]=e.additional_filter[t].toString())}));var t=[];_["a"].each(this.tags,(function(e){e.selected&&t.push(e.key)})),t.length&&(n.tags=t.toString()),this.loading=!0,a.a.get(this.rest_api_url,{params:n}).then((function(n){e.rest_api_formater?e.rest_api_formater(e,n.data||{}):(e.data=n.data||[],e.total=n.headers["x-total-records"]||n.data.length),e.loading=!1})).catch((function(n){e.errors=n.response.data.errors,e.loading=!1}))}},refresh:function(){this.page=1,this.updateData()},onPageChange:function(e){this.page=e,this.updateData()},onSort:function(e,n){var t=this.sortingPriority.find((function(n){return n.field===e}));t?t.order="desc"===t.order?"asc":"desc":this.sortingPriority.push({field:e,order:n}),this.updateData()},onSortingPriorityRemoved:function(e){this.sortingPriority=this.sortingPriority.filter((function(n){return n.field!==e})),this.updateData()},parse_query:function(){var e=this,n=new RegExp(".*\\[(.+)\\]\\[(.+)\\]"),t=new RegExp(".*\\[(.+)\\]"),i=this.query;void 0!==i&&(i.page&&(this.page=parseInt(i.page,10)),i.orders&&i.orders.split(",").forEach((function(n){var t=n.split(":"),i=Object(O["a"])(t,2),o=i[0],a=i[1];e.sortingPriority.push({field:o,order:a})})),_["a"].forEach(this.filters,(function(e){e.values=[]})),_["a"].forEach(this.tags,(function(e){e.selected=!1})),i.filters&&_["a"].each(JSON.parse(i.filters),(function(i,o){if(o.startsWith("filter")){var a,r=o.match(n),s=o.match(t),u="";r?(u=r[1],a=r[2]):u=s[1];var c=_["a"].find(e.filters,(function(e){return e.key===u&&e.opt===a&&"exclude"!==e.mode}));c.values=i.split(",")}else if(o.startsWith("~filter")){var d,l=o.match(n),f=o.match(t),m="";l?(m=l[1],d=l[2]):m=f[1];var p=_["a"].find(e.filters,(function(e){return e.key===m&&e.opt===d&&"exclude"===e.mode}));p.values=i.split(",")}})),i.tags&&_["a"].each(i.tags.split(","),(function(n){_["a"].find(e.tags,(function(e){return e.key===n.trim()})).selected=!0})),i.additional_filter?this.additional_filter=i.additional_filter:null===i.additional_filter&&(this.additional_filter=null),this.loadAsyncData())}},watch:{query:function(){this.parse_query()}},mounted:function(){this.parse_query()}}}),Object(b["b"])("furet-ui-header-page",{template:'\n    <header id="header_page">\n      <slot name="header" v-bind:data="data">\n        <div class="level">\n          <div class="level-left">\n            <h2 class="level-item is-size-3">{{ $t(title) }}</h2>&nbsp;<span class="level-item"><slot name="aftertitle" v-bind:data="data" /></span>\n          </div>\n          <div class="level-right">\n            <slot name="states" v-bind:data="data" />\n          </div>\n        </div>\n      </slot>\n      <div class="buttons is-grouped is-centered">\n        <a v-if="show_save" class="button is-warning is-outlined" v-on:click="goToPage">\n          <span class="icon">\n            <b-icon icon="times" />\n          </span>\n          <span>{{ $t(\'components.header.cancel\') }}</span>\n        </a>\n        <a v-else class="button is-primary is-outlined" v-on:click="goToList">\n          <span class="icon">\n            <b-icon icon="arrow-left" />\n          </span>\n          <span>{{ $t(\'components.header.return\') }}</span>\n        </a>\n        <a v-if="prevous_target" class="button is-primary is-outlined" v-on:click="goToPreviousPage">\n          <span class="icon">\n            <b-icon icon="page-previous" />\n          </span>\n          <span>{{ $t(\'components.header.previous\') }}</span>\n        </a>\n        <a v-if="next_target" class="button is-primary is-outlined" v-on:click="goToNextPage">\n          <span class="icon">\n            <b-icon icon="page-next" />\n          </span>\n          <span>{{ $t(\'components.header.next\') }}</span>\n        </a>\n        <div v-if="can_go_to_new">\n          <b-dropdown \n            :triggers="[\'hover\']" \n            v-if="go_to_new_choices.length"\n            v-bind:disabled="readonly"\n          >\n            <button \n              class="button is-primary is-outlined" \n              slot-scope="{ active }"\n              slot="trigger">\n              <span class="icon"><b-icon icon="plus" /></span>\n              <span>{{ $t(\'components.header.new\') }}</span>\n              <span class="icon"><b-icon :icon="active ? \'caret-up\' : \'caret-down\'" /></span>\n            </button>\n            <b-dropdown-item \n              v-for="choice in go_to_new_choices"\n              v-bind:key="choice.resource_id"\n              aria-role="listitem"\n              v-on:click="goToNewPolymorphic(choice)"\n            >\n              {{ choice.label }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <button v-else v-bind:disabled="readonly" class="button is-primary is-outlined" v-on:click="goToNew">\n            <span class="icon">\n              <b-icon icon="plus" />\n            </span>\n            <span>{{ $t(\'components.header.new\') }}</span>\n          </button>\n        </div>\n        <button v-if="can_modify" v-bind:disabled="readonly" class="button is-primary is-outlined" v-on:click="goToEdit">\n          <span class="icon">\n            <b-icon icon="pencil-alt" />\n          </span>\n          <span>{{ $t(\'components.header.edit\') }}</span>\n        </button>\n        <button v-if="show_save" v-bind:disabled="can_save" class="button is-primary is-outlined" v-on:click="save">\n          <span class="icon">\n            <b-icon icon="save" />\n          </span>\n          <span>{{ $t(\'components.header.save\') }}</span>\n        </button>\n        <button v-if="can_delete" v-bind:disabled="readonly" class="button is-danger is-outlined" v-on:click="deleteEntry">\n          <span class="icon">\n            <b-icon icon="trash" />\n          </span>\n          <span>{{ $t(\'components.header.delete\') }}</span>\n        </button>\n        <slot name="head_actions" v-bind:data="data" />\n      </div>\n    </header>\n  ',prototype:{props:["title","can_go_to_new","go_to_new_choices","can_modify","can_delete","show_save","can_save","data","readonly"],computed:{prevous_target:function(){return this.$store.getters.previousBrowserTarget},next_target:function(){return this.$store.getters.nextBrowserTarget}},methods:{goToList:function(){this.$emit("go-to-list")},goToPage:function(e){this.$emit("go-to-page",e)},goToPreviousPage:function(){var e=this.prevous_target;void 0!==e&&(this.$store.commit("DECREASE_BROWSER_OFFSET"),this.$emit("go-to-page",e))},goToNextPage:function(){var e=this.next_target;void 0!==e&&(this.$store.commit("INCREASE_BROWSER_OFFSET"),this.$emit("go-to-page",e))},goToNew:function(){this.$emit("go-to-new")},goToNewPolymorphic:function(e){this.$emit("go-to-new",e)},goToEdit:function(){this.$emit("go-to-edit")},save:function(){this.$emit("save")},deleteEntry:function(){this.$emit("delete-entry")}}}}),Object(b["b"])("furet-ui-list",{template:'\n    <section id="furet-ui-list">\n      <furet-ui-page-errors v-bind:errors="errors"/>\n      <component\n        v-bind:is="headerComponentName"\n        v-bind:title="title"\n        v-bind:filters="filters"\n        v-bind:tags="tags"\n        v-bind:data="data"\n        v-bind:can_go_to_new="can_go_to_new"\n        v-bind:go_to_new_choices="go_to_new_choices"\n        v-bind:readonly="readonly"\n        v-on:updateFilters="updateFilters"\n        v-on:removeFilter="removeFilter"\n        v-on:refresh="refresh"\n        v-on:toggleTag="toggleTag"\n        v-on:removeTag="removeTag"\n        v-on:go-to-new="goToNew"\n      >\n        <template slot="actions" slot-scope="props">\n          <slot name="actions" v-bind:data="props.data" />\n        </template>\n      </component>\n      <slot name="hidden_columns" />\n      <b-table\n        ref="list_table"\n        v-bind:data="data"\n        v-bind:loading="loading"\n\n        paginated\n        backend-pagination\n        pagination-position="both"\n        v-bind:pagination-size="pagination_size"\n\n        v-bind:total="total"\n        v-bind:current-page.sync="page"\n        v-bind:per-page="perPage"\n        v-on:page-change="onPageChange"\n\n        backend-sorting\n        sort-multiple\n        :sort-multiple-data="sortingPriority"\n\n        v-on:sort="onSort"\n        @sorting-priority-removed="onSortingPriorityRemoved"\n\n        striped\n        hoverable\n        v-bind:detailed="detailed"\n        v-bind:detail-key="detail_key"\n        v-bind:checkable="isCheckable"\n        v-bind:checked-rows.sync="checkedRows"\n        v-bind:row-class="row_state"\n\n        v-on:dblclick="goToPage"\n      >\n        <template slot-scope="props">\n          <slot v-bind:row="props.row" />\n        </template>\n\n        <template slot="top-left">\n          <furet-ui-list-total\n            v-bind:pagination_size="pagination_size"\n            v-bind:total="total"\n            v-bind:number_created="number_created"\n            v-bind:number_updated="number_updated"\n            v-bind:number_deleted="number_deleted"\n            v-bind:number_linked="number_linked"\n            v-bind:number_unlinked="number_unlinked"\n          />\n        </template>\n\n        <template slot="bottom-left">\n          <furet-ui-list-total\n            v-bind:pagination_size="pagination_size"\n            v-bind:total="total"\n            v-bind:number_created="number_created"\n            v-bind:number_updated="number_updated"\n            v-bind:number_deleted="number_deleted"\n            v-bind:number_linked="number_linked"\n            v-bind:number_unlinked="number_unlinked"\n          />\n        </template>\n\n        <template v-if="detailed" slot="detail" slot-scope="props">\n          <slot name="detail" v-bind:row="props.row" />\n        </template>\n\n        <template slot="empty">\n          <section class="section">\n            <div class="content has-text-grey has-text-centered">\n              <p>{{ $t(\'components.header.notFound\') }}</p>\n            </div>\n          </section>\n        </template>\n      </b-table>\n    </section>\n  ',extend:["mixin-page-multi-entries"],prototype:{props:["is_checkable","checkedElements","detailed","detail_key"],data:function(){return{isCheckable:this.is_checkable||!1,checkedRows:this.checkedElements||[]}},computed:{selectedEntries:function(){return 0!==this.checkedRows.length?this.checkedRows:this.data}}}}),Object(b["b"])("furet-ui-thumbnail",{template:'\n    <section id="furet-ui-thumbnail">\n      <furet-ui-page-errors v-bind:errors="errors"/>\n      <component\n        v-bind:is="headerComponentName"\n        v-bind:title="title"\n        v-bind:filters="filters"\n        v-bind:tags="tags"\n        v-bind:data="data"\n        v-bind:can_go_to_new="can_go_to_new"\n        v-bind:go_to_new_choices="go_to_new_choices"\n        v-bind:readonly="readonly"\n        v-on:updateFilters="updateFilters"\n        v-on:removeFilter="removeFilter"\n        v-on:refresh="refresh"\n        v-on:toggleTag="toggleTag"\n        v-on:removeTag="removeTag"\n        v-on:go-to-new="goToNew"\n      >\n        <template slot="actions" slot-scope="props">\n          <slot name="actions" v-bind:data="props.data" />\n        </template>\n      </component>\n\n      <furet-ui-list-pagination\n        v-bind:loading="loading"\n        v-bind:total="total"\n        v-bind:perPage="perPage"\n        v-bind:page="page"\n        v-bind:number_created="number_created"\n        v-bind:number_updated="number_updated"\n        v-bind:number_deleted="number_deleted"\n        v-bind:number_linked="number_linked"\n        v-bind:number_unlinked="number_unlinked"\n        v-bind:pagination_size="pagination_size"\n        v-on:change="onPageChange"\n      >\n        <div v-if="data.length > 0" class="columns is-multiline">\n          <div \n            v-for="thumbnail in data" \n            v-on:dblclick="goToPage(thumbnail)"\n            class="column is-one-quarter-desktop is-half-tablet is-12-mobile"\n          >\n            <slot v-bind:data="thumbnail" />\n          </div>\n        </div>\n        <section v-else class="section">\n          <div class="content has-text-grey has-text-centered">\n            <p>{{ $t(\'components.header.notFound\') }}</p>\n          </div>\n        </section>\n      </furet-ui-list-pagination>\n\n    </section>\n  ',extend:["mixin-page-multi-entries"]});var E={list:{},form:{},thumbnail:{}},w=t("f579"),D=t.n(w);Object(b["b"])("furet-ui-list-field-barcode",{template:'\n    <span v-if="isHidden" />\n    <barcode v-else v-bind:value="value" v-bind="config.options">\n      Can\'t generate the barcode\n    </barcode>\n  ',extend:["furet-ui-list-field-common"],prototype:{components:{barcode:D.a}}}),E.list.barcode="furet-ui-list-field-barcode",Object(b["b"])("furet-ui-thumbnail-field-barcode",{template:'\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <barcode v-bind:value="value" v-bind="config.options">\n        Can\'t generate the barcode\n      </barcode>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common"],prototype:{components:{barcode:D.a}}}),E.thumbnail.barcode="furet-ui-thumbnail-field-barcode",Object(b["b"])("furet-ui-form-field-barcode",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <barcode v-if="isReadonly" v-bind:value="value" v-bind="config.options">\n        Can\'t generate the barcode\n      </barcode>\n      <b-input \n        v-else\n        v-bind:value="value" \n        v-on:input="updateValue"\n        v-bind:maxlength="config.maxlength"\n        v-bind:placeholder="config.placeholder"\n        icon-pack="fa"\n        v-bind:icon="config.icon"\n        v-bind:key="config.key"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{components:{barcode:D.a}}}),E.form.barcode="furet-ui-form-field-barcode";var P=function(e){return!!Object(y["c"])(e.value)};Object(b["b"])("furet-ui-list-field-boolean",{template:'\n    <div>\n      <span v-if="isHidden" />\n      <component \n        v-else-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n        v-bind:checked="checked"\n      />\n      <b-checkbox \n        v-else\n        v-model="checked"\n        disabled\n      />\n    </div>',extend:["furet-ui-list-field-common"],prototype:{computed:{checked:function(){return P(this)},component_template:function(){return{template:this.config.slot,props:["resource","data","config","value","checked"]}}}}}),E.list.boolean="furet-ui-list-field-boolean",Object(b["b"])("furet-ui-common-field-yesno",{prototype:{computed:{value:function(){var e="components.fields.yesno";return this.$t(Object(y["c"])(this.data[this.config.name]||"")?"".concat(e,".yes"):"".concat(e,".no"))}}}}),Object(b["b"])("furet-ui-list-field-yesno",{template:y["a"],extend:["furet-ui-list-field-common","furet-ui-common-field-yesno"]}),E.list.yesno="furet-ui-list-field-yesno",Object(b["b"])("furet-ui-thumbnail-field-boolean",{template:'\n  <furet-ui-thumbnail-field-common-tooltip-field\n    v-bind:resource="resource"\n    v-bind:data="data"\n    v-bind:config="config"\n  >\n    <component \n      v-if="config.slot" \n      v-bind:is="component_template"\n      v-bind:config="config"\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:value="value"\n      v-bind:checked="checked"\n    />\n    <b-checkbox \n      v-else\n      v-model="checked" \n      disabled\n      v-bind:key="config.key"\n    >\n      {{ config.label }}\n    </b-checkbox>\n  </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common"],prototype:{computed:{checked:function(){return P(this)},component_template:function(){return{template:this.config.slot,props:["resource","data","config","value","checked"]}}}}}),E.thumbnail.boolean="furet-ui-thumbnail-field-boolean",Object(b["b"])("furet-ui-thumbnail-field-yesno",{template:y["d"],extend:["furet-ui-thumbnail-field-common","furet-ui-common-field-yesno"]}),E.thumbnail.yesno="furet-ui-thumbnail-field-yesno",Object(b["b"])("furet-ui-form-field-boolean",{template:'\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <component \n        v-if="isReadonly && config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n        v-bind:checked="checked"\n      />\n      <b-checkbox \n        v-model="checked" \n        v-bind:disabled="isReadonly"\n        v-bind:key="config.key"\n      >\n        {{ config.label }}\n      </b-checkbox>\n    </furet-ui-form-field-common-tooltip>',extend:["furet-ui-form-field-common"],prototype:{computed:{checked:{get:function(){return!!Object(y["c"])(this.value)||null},set:function(e){this.updateValue(e)}},component_template:function(){return{template:this.config.slot,props:["resource","data","config","value","checked"]}}}}}),E.form.boolean="furet-ui-form-field-boolean",Object(b["b"])("furet-ui-list-field-color",{template:'\n    <span v-if="isHidden" />\n    <component \n      v-else-if="config.slot" \n      v-bind:is="component_template"\n      v-bind:config="config"\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:value="value"\n    />\n    <b-input \n      v-else-if="value"\n      type="color"\n      v-bind:value="value" \n      disabled\n    />\n    <span v-else />\n  ',extend:["furet-ui-list-field-common"]}),E.list.color="furet-ui-list-field-color",Object(b["b"])("furet-ui-thumbnail-field-color",{template:'\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <component \n        v-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n      />\n      <b-input \n        v-else-if="value"\n        type="color"\n        v-bind:value="value" \n        disabled\n      />\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.color="furet-ui-thumbnail-field-color",Object(b["b"])("furet-ui-form-field-color",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div class="field has-addons">\n        <p v-if="isReadonly" class="control is-expanded">\n          <component \n            v-if="config.slot" \n            v-bind:is="component_template"\n            v-bind:config="config"\n            v-bind:resource="resource"\n            v-bind:data="data"\n            v-bind:value="value"\n          />\n          <b-input \n            v-else-if="data"\n            type="color"\n            v-bind:value="value" \n            disabled\n          >\n          </b-input>\n        </p>\n        <p v-else class="control">\n          <b-input \n            style="width: 100px"\n            v-if="data || !isReadonly"\n            type="color"\n            v-bind:value="value" \n            v-on:input="updateValue"\n            v-bind:disabled="isReadonly"\n          >\n          </b-input>\n        </p>\n        <p class="control is-expanded">\n          <b-input \n            v-if="!isReadonly"\n            v-bind:value="value" \n            v-on:input="updateValue"\n            v-bind:placeholder="config.placeholder"\n            icon-pack="fa"\n            v-bind:icon="config.icon"\n            pattern="#[A-Fa-f1-9]{6}"\n          />\n        </p>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"]}),E.form.color="furet-ui-form-field-color",Object(b["b"])("furet-ui-common-field-datetime",{prototype:{computed:{value:function(){p.a.locale(f.locale);var e=this.data[this.config.name],n=this.$store.state.global.userTimeZone;return e?p()(e).tz(n).format("LLL"):""}}}}),Object(b["b"])("furet-ui-list-field-datetime",{template:y["a"],extend:["furet-ui-list-field-common","furet-ui-common-field-datetime"]}),E.list.datetime="furet-ui-list-field-datetime",Object(b["b"])("furet-ui-thumbnail-field-datetime",{template:y["d"],extend:["furet-ui-thumbnail-field-common","furet-ui-common-field-datetime"]}),E.thumbnail.datetime="furet-ui-thumbnail-field-datetime",Object(b["b"])("furet-ui-form-field-datetime",{extend:["furet-ui-form-field-common"],template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="readonly_value"\n        />\n        <span v-else>{{ readonly_value}}</span>\n      </div>\n      <b-datetimepicker\n        v-else\n        rounded\n        v-bind:placeholder="config.placeholder"\n        v-bind:value="value" \n        v-on:input="updateDateTimeValue"\n        v-bind:editable="config.editable"\n        v-bind:datepicker="config.datepicker"\n        v-bind:timepicker="config.timepicker"\n        icon-pack="fa"\n        v-bind:icon="config.icon"\n        v-bind:key="config.key"\n      >\n        <template slot="left">\n          <button class="button is-primary"\n            v-on:click="updateDateTimeValue(new Date())">\n            <b-icon icon="clock"></b-icon>\n            <span>Now</span>\n          </button>\n        </template>\n        <template slot="right">\n          <button class="button is-danger"\n            v-on:click="updateValue(null)">\n            <b-icon icon="times"></b-icon>\n            <span>Clear</span>\n          </button>\n        </template>\n      </b-datetimepicker>\n    </furet-ui-form-field-common-tooltip-field>\n  ',prototype:{computed:{readonly_value:function(){p.a.locale(f.locale);var e=this.data[this.config.name],n=this.$store.state.global.userTimeZone;return e?p()(e).tz(n).format("LLL"):""},value:function(){p.a.locale(f.locale);var e=this.data[this.config.name];return e?new Date(Date.parse(e)):null}},methods:{updateDateTimeValue:function(e){this.updateValue(e.toISOString())}}}}),E.form.datetime="furet-ui-form-field-datetime",Object(b["b"])("furet-ui-list-field-email",{template:y["a"],extend:["furet-ui-list-field-common"]}),E.list.email="furet-ui-list-field-email",Object(b["b"])("furet-ui-thumbnail-field-email",{template:y["d"],extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.email="furet-ui-thumbnail-field-email",Object(b["b"])("furet-ui-form-field-email",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="value"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <b-input \n        v-else\n        type="email"\n        v-bind:value="value" \n        v-on:input="updateValue"\n        v-bind:maxlength="config.maxlength"\n        v-bind:placeholder="config.placeholder"\n        icon-pack="fa"\n        v-bind:icon="config.icon"\n        v-bind:key="config.key"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"]}),E.form.email="furet-ui-form-field-email",Object(b["b"])("furet-ui-list-field-integer",{template:y["a"],extend:["furet-ui-list-field-common"]}),E.list.integer="furet-ui-list-field-integer",Object(b["b"])("furet-ui-thumbnail-field-integer",{template:y["d"],extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.integer="furet-ui-thumbnail-field-integer",Object(b["b"])("furet-ui-form-field-integer",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="value"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <b-numberinput \n        v-else\n        step="1"\n        controlsPosition="compact"\n        expanded\n        icon-pack="fa"\n        v-bind:value="value" \n        v-on:input="updateValue"\n        v-bind:min="format_min_max(config.min)"\n        v-bind:max="format_min_max(config.max)"\n        v-bind:key="config.key"\n        v-bind:icon="config.icon"\n        v-bind:placeholder="config.placeholder"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{methods:{format_min_max:function(e){if(null!==e)return e}}}}),E.form.integer="furet-ui-form-field-integer",Object(b["b"])("furet-ui-list-field-function",{template:y["a"],extend:["furet-ui-list-field-common"]}),E.list.function="furet-ui-list-field-function",Object(b["b"])("furet-ui-thumbnail-field-function",{template:y["d"],extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.function="furet-ui-thumbnail-field-function",Object(b["b"])("furet-ui-form-field-function",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <component \n        v-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n      />\n      <span v-else>{{ value }}</span>\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"]}),E.form.function="furet-ui-form-field-function";var x=function(e){if(e)try{var n=e;return"string"===typeof e&&(n=JSON.parse(e)),JSON.stringify(n,null,2)}catch(t){return null}return e};Object(b["b"])("furet-ui-list-field-json",{template:'\n    <div>\n      <span v-if="isHidden" />\n      <component \n        v-else-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n      />\n      <pre \n        v-else\n        v-bind:style="{width: \'100%\', padding: 2, backgroundColor: \'white\'}"\n      >{{value}}</pre>\n    </div>',extend:["furet-ui-list-field-common"],prototype:{computed:{value:function(){var e=this.data[this.config.name]||"";return x(e)}}}}),E.list.json="furet-ui-list-field-json",E.list.jsonb="furet-ui-list-field-json",Object(b["b"])("furet-ui-thumbnail-field-json",{template:'\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <component \n        v-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n      />\n      <pre \n        v-else v-bind:style="{width: \'100%\', padding: 2, backgroundColor: \'white\'}"\n      >{{value}}</pre>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common"],prototype:{computed:{value:function(){var e=this.data[this.config.name]||"";return x(e)}}}}),E.thumbnail.json="furet-ui-thumbnail-field-json",E.thumbnail.jsonb="furet-ui-thumbnail-field-json",Object(b["b"])("furet-ui-form-field-json",{template:'\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <b-field \n        v-bind:label="config.label"\n        v-bind:type="getType"\n        v-bind:message="getMessage"\n        v-bind:style="{\'width\': \'inherit\'}"\n      >\n        <div v-if="isReadonly">\n          <component \n            v-if="config.slot" \n            v-bind:is="component_template"\n            v-bind:config="config"\n            v-bind:resource="resource"\n            v-bind:data="data"\n            v-bind:value="value"\n          />\n          <pre v-else\n              v-bind:style="{width: \'100%\', padding: 2, backgroundColor: \'white\'}"\n          >{{value}}</pre>\n        </div>\n        <b-input \n          type="textarea"\n          v-else \n          v-bind:value="value" \n          v-on:input="updateValue"\n          v-bind:placeholder="config.placeholder"\n        />\n      </b-field>\n    </furet-ui-form-field-common-tooltip>\n  ',extend:["furet-ui-form-field-common","furet-ui-form-field-common-tooltip-field"],prototype:{computed:{raw_value:function(){return this.data[this.config.name]||""},value:function(){return x(this.raw_value)},getType:function(){return this.isRequired?this.raw_value?this.isJsonInvalid?"is-danger":"is-info":"is-danger":this.isJsonInvalid?"is-danger":""},getMessage:function(){return this.isRequired&&!this.value?this.isJsonInvalid?this.$t("components.fields.json.invalid"):this.$i18n.t("components.fields.common.required"):this.isJsonInvalid?this.$t("components.fields.json.invalid"):""},isJsonInvalid:function(){if(!this.isReadonly){if(!this.raw_value)return!1;try{JSON.parse(this.raw_value)}catch(e){return!0}}return!1}}}}),E.form.json="furet-ui-form-field-json",E.form.jsonb="furet-ui-form-field-json";t("a9e3"),t("b680");Object(b["b"])("furet-ui-common-field-float",{prototype:{computed:{value:function(){var e=this.data[this.config.name]||"";return e?Number(e).toFixed(this.config.rounded||2):""}}}}),Object(b["b"])("furet-ui-list-field-float",{template:y["a"],extend:["furet-ui-list-field-common","furet-ui-common-field-float"]}),E.list.float="furet-ui-list-field-float",Object(b["b"])("furet-ui-thumbnail-field-float",{template:y["d"],extend:["furet-ui-thumbnail-field-common","furet-ui-common-field-float"]}),E.thumbnail.float="furet-ui-thumbnail-field-float",Object(b["b"])("furet-ui-form-field-float",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="rounded_value"\n        />\n        <span v-else>{{ rounded_value }}</span>\n      </div>\n      <b-numberinput \n        v-else\n        v-bind:step="step"\n        controlsPosition="compact"\n        expanded\n        icon-pack="fa"\n        v-bind:value="value" \n        v-on:input="updateValue"\n        v-bind:min="format_min_max(config.min)"\n        v-bind:max="format_min_max(config.max)"\n        v-bind:key="config.key"\n        v-bind:icon="config.icon"\n        v-bind:placeholder="config.placeholder"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{computed:{rounded:function(){return this.config.rounded||2},step:function(){return Math.pow(.1,this.rounded).toFixed(this.rounded)},rounded_value:function(){return Number(this.value).toFixed(this.rounded)}},methods:{format_min_max:function(e){if(null!==e)return e}}}}),E.form.float="furet-ui-form-field-float",E.list.decimal="furet-ui-list-field-float",E.thumbnail.decimal="furet-ui-thumbnail-field-float",E.form.decimal="furet-ui-form-field-float",Object(b["b"])("furet-ui-common-field-password",{prototype:{computed:{value:function(){var e=this.data[this.config.name]||null;return e?_["a"].map(e,(function(){return"*"})).join(""):""}}}}),Object(b["b"])("furet-ui-list-field-password",{template:y["a"],extend:["furet-ui-list-field-common","furet-ui-common-field-password"]}),E.list.password="furet-ui-list-field-password",Object(b["b"])("furet-ui-thumbnail-field-password",{template:y["d"],extend:["furet-ui-thumbnail-field-common","furet-ui-common-field-password"]}),E.thumbnail.password="furet-ui-thumbnail-field-password",Object(b["b"])("furet-ui-form-field-password",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="readonly_value"\n        />\n        <span v-else>{{ readonly_value }}</span>\n      </div>\n      <b-input \n        v-else\n        v-bind:value="value" \n        v-on:input="updateValue"\n        v-bind:maxlength="config.maxlength"\n        v-bind:placeholder="config.placeholder"\n        icon-pack="fa"\n        v-bind:icon="config.icon"\n        type="password"\n        v-bind:password-reveal="reveal"\n        v-bind:key="config.key"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{computed:{readonly_value:function(){var e=this.data[this.config.name]||null;return e?_["a"].map(e,(function(){return"*"})).join(""):""},reveal:function(){return Object(y["b"])(this.config.reveal,this.data,this.resource)}}}}),E.form.password="furet-ui-form-field-password";var $=t("5873");Object(b["b"])("furet-ui-list-field-rich-text",{template:'\n    <div>\n      <span v-if="isHidden" />\n      <div \n        v-else \n        class="content is-small"\n        v-html="value" \n        v-bind:style="{width: \'100%\'}"\n      />\n    </div>',extend:["furet-ui-list-field-common"]}),E.list.richtext="furet-ui-list-field-rich-text",Object(b["b"])("furet-ui-thumbnail-field-rich-text",{template:'\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div \n        class="content is-small"\n        v-html="value" \n        v-bind:style="{width: \'100%\'}"\n      />\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.richtext="furet-ui-thumbnail-field-rich-text",Object(b["b"])("furet-ui-form-field-rich-text",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div\n        class="box content is-small"\n        v-if="isReadonly"\n        v-html="value"\n      />\n      <vue-editor \n        v-else\n        v-bind:placeholder="config.placeholder"\n        v-model="value"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{components:{VueEditor:$["a"]},computed:{value:{get:function(){return this.data[this.config.name]||null},set:function(e){this.updateValue(e)}}}}}),E.form.richtext="furet-ui-form-field-rich-text",Object(b["b"])("furet-ui-common-field-selection",{prototype:{computed:{value:function(){var e=this.config.selections||{},n=this.data[this.config.name]||"";return void 0==e[n]?" --- ":this.$t(e[n])},color:function(){var e=this.config.colors||{},n=this.data[this.config.name]||"";return e[n]}}}}),E.list.selection="furet-ui-list-field-selection",Object(b["b"])("furet-ui-list-field-selection",{template:'\n    <div>\n      <span v-if="isHidden" />\n      <component \n        v-else-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n      />\n      <div v-else>\n        <b-tag v-if="color !== undefined" v-bind:type="color">{{value}}</b-tag>\n        <span v-else>{{value}}</span>\n      </div>\n    </div>\n  ',extend:["furet-ui-list-field-common","furet-ui-common-field-selection"]}),E.list.selection="furet-ui-list-field-selection",Object(b["b"])("furet-ui-thumbnail-field-selection",{template:'\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <component \n        v-if="config.slot" \n        v-bind:is="component_template"\n        v-bind:config="config"\n        v-bind:resource="resource"\n        v-bind:data="data"\n        v-bind:value="value"\n      />\n      <div v-else>\n        <b-tag v-if="color !== undefined" v-bind:type="color">{{value}}</b-tag>\n        <span v-else>{{value}}</span>\n      </div>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common","furet-ui-common-field-selection"]}),E.thumbnail.selection="furet-ui-thumbnail-field-selection",Object(b["b"])("furet-ui-form-field-selection",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="formated_value"\n        />\n        <div v-else>\n          <b-tag v-if="color !== undefined" v-bind:type="color">{{formated_value}}</b-tag>\n          <span v-else>{{formated_value}}</span>\n        </div>\n      </div>\n      <div class="field has-addons" v-else>\n        <p class="control" v-if="color">\n          <a class="button">\n            <b-icon icon="info-circle" v-bind:type="color"/>\n          </a>\n        </p>\n        <b-select \n          v-bind:placeholder="config.placeholder"\n          icon-pack="fa"\n          v-bind:icon="config.icon"\n          v-bind:value="value"\n          expanded\n          v-on:input="updateValue"\n          v-bind:key="config.key"\n        >\n          <option \n            v-for="option in getSelections"\n            v-bind:key="option.value"\n            v-bind:value="option.value"\n          >\n            {{ option.label }}\n          </option>\n        </b-select>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{computed:{formated_value:function(){var e=this.config.selections||{};return void 0==e[this.value]?" --- ":this.$t(e[this.value])},getSelections:function(){var e=this,n=this.config.colors||{},t=[];return this.isRequired||t.push({label:"",value:null,color:null}),_["a"].each(this.config.selections,(function(i,o){t.push({value:o,label:e.$t(i),color:n[o]})})),t},color:function(){var e=this.config.colors||{};return e[this.value]}}}}),E.form.selection="furet-ui-form-field-selection",Object(b["b"])("furet-ui-field-statusbar-common",{prototype:{computed:{getStates:function(){var e=this,n=[];return _["a"].each(this.config.selections,(function(t,i){var o="",a=!0,r=-1!==(e.config["done-states"]||[]).indexOf(i),s=-1!==(e.config["dangerous-states"]||[]).indexOf(i);e.value==i?o=r?"is-success":s?"is-danger":"is-info":s&&(a=!1),a&&n.push({value:i,label:t,type:o})})),n}}}}),Object(b["b"])("furet-ui-list-field-statusbar",{template:'\n    <span v-if="isHidden" />\n    <b-taglist v-else attached>\n      <b-tag \n        v-for="state in getStates" \n        v-bind:key="state.value" \n        v-bind:type="state.type" \n        size="is-medium"\n      >\n        {{ state.label }}\n      </b-tag>\n    </b-taglist>\n  ',extend:["furet-ui-list-field-common","furet-ui-field-statusbar-common"]}),E.list.statusbar="furet-ui-list-field-statusbar",Object(b["b"])("furet-ui-thumbnail-field-statusbar",{template:'\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <b-taglist attached>\n        <b-tag \n          v-for="state in getStates" \n          v-bind:key="state.value" \n          v-bind:type="state.type" \n          size="is-small"\n        >\n          {{ state.label }}\n        </b-tag>\n      </b-taglist>\n    </furet-ui-form-field-common-tooltip>\n  ',extend:["furet-ui-thumbnail-field-common","furet-ui-field-statusbar-common"]}),E.thumbnail.statusbar="furet-ui-thumbnail-field-statusbar",Object(b["b"])("furet-ui-form-field-statusbar",{template:'\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <b-taglist attached>\n        <b-tag type="is-dark" size="is-medium">{{ config.label }}</b-tag>\n        <b-tag \n          v-for="state in getStates" \n          v-bind:key="state.value" \n          v-bind:type="state.type" \n          size="is-medium"\n        >\n          {{ state.label }}\n        </b-tag>\n      </b-taglist>\n    </furet-ui-form-field-common-tooltip>\n  ',extend:["furet-ui-form-field-common","furet-ui-field-statusbar-common"]}),E.form.statusbar="furet-ui-form-field-statusbar",Object(b["b"])("furet-ui-list-field-string",{template:y["a"],extend:["furet-ui-list-field-common"]}),E.list.string="furet-ui-list-field-string",Object(b["b"])("furet-ui-thumbnail-field-string",{template:y["d"],extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.string="furet-ui-thumbnail-field-string",Object(b["b"])("furet-ui-form-field-string",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="value"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <b-input \n        v-else\n        v-bind:value="value" \n        v-on:input="updateValue"\n        v-bind:maxlength="config.maxlength"\n        v-bind:placeholder="config.placeholder"\n        icon-pack="fa"\n        v-bind:icon="config.icon"\n        v-bind:key="config.key"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"]}),E.form.string="furet-ui-form-field-string",E.list.timestamp="furet-ui-list-field-datetime",E.thumbnail.timestamp="furet-ui-thumbnail-field-datetime",E.form.timestamp="furet-ui-form-field-datetime",Object(b["b"])("furet-ui-list-field-url",{template:y["a"],extend:["furet-ui-list-field-common"]}),E.list.url="furet-ui-list-field-url",Object(b["b"])("furet-ui-thumbnail-field-url",{template:y["d"],extend:["furet-ui-thumbnail-field-common"]}),E.thumbnail.url="furet-ui-thumbnail-field-url",Object(b["b"])("furet-ui-form-field-url",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly">\n        <component \n          v-if="config.slot" \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:value="value"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <div \n        v-else\n        class="field has-addons" \n      >\n        <p class="control is-expanded">\n          <b-input \n            v-bind:value="value" \n            v-on:input="updateValue"\n            v-bind:maxlength="config.maxlength"\n            v-bind:placeholder="config.placeholder"\n            icon-pack="fa"\n            v-bind:icon="config.icon"\n            v-bind:key="config.key"\n          />\n        </p>\n        <p class="control" v-if="value">\n          <a class="button" v-bind:href="value" target="_blank">\n            <b-icon icon="external-link-alt"></b-icon>\n          </a>\n        </p>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"]}),E.form.url="furet-ui-form-field-url";var T=t("c9cc");Object(b["b"])("furet-ui-field-many2one-common",{prototype:{computed:{value:function(){var e=this.data[this.config.name]||"";if(e){var n=this.config.model;return this.format(this.config.display,this.getEntry(n,e))}return""}},methods:{onClick:function(){var e=this.data[this.config.name];e&&this.openResource(e)}}}}),Object(b["b"])("furet-ui-list-field-many2one",{template:'\n    <div>\n      <span v-if="isHidden" />\n      <a v-else-if="config.slot" v-on:click.stop="onClick">\n        <component \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:relation="slot_fields"\n        />\n      </a>\n      <a v-else v-on:click.stop="onClick">{{value}}</a>\n    </div>',extend:["furet-ui-list-field-common","furet-ui-field-relationship","furet-ui-field-many2one-common"]}),E.list.many2one="furet-ui-list-field-many2one",Object(b["b"])("furet-ui-thumbnail-field-many2one",{template:'\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <a v-if="config.slot" v-on:click.stop="onClick">\n        <component \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:relation="slot_fields"\n        />\n      </a>\n      <a v-else v-on:click.stop="onClick">{{value}}</a>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  ',extend:["furet-ui-thumbnail-field-common","furet-ui-field-relationship","furet-ui-field-many2one-common","furet-ui-field-relationship-search"]}),E.thumbnail.many2one="furet-ui-thumbnail-field-many2one",Object(b["b"])("furet-ui-form-field-many2one",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <a v-if="isReadonly" v-on:click.stop="onClick">\n        <component \n          v-if="config.slot"\n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:relation="slot_fields"\n        />\n        <span v-else>{{value}}</span>\n      </a>\n      <b-autocomplete\n        v-else\n        v-bind:value="value"\n        v-bind:data="choices"\n        v-bind:placeholder="config.placeholder"\n        v-bind:max-height="config.maxheight ? config.maxheight : \'200px\'"\n        icon-pack="fa"\n        v-bind:check-infinite-scroll="true"\n        v-bind:icon="config.icon"\n        v-on:typing="onChange"\n        v-on:select="onSelect"\n        v-on:infinite-scroll="getMoreAsyncData"\n      >\n        <template slot-scope="props">\n          <component \n            v-if="config.slot"\n            v-bind:is="component_template"\n            v-bind:config="config"\n            v-bind:resource="resource"\n            v-bind:data="data"\n            v-bind:relation="props.option.relation"\n          />\n          <span v-else>\n            {{ props.option.label }}\n          </span>\n        </template>\n        <template #footer>\n          <span v-if="((page * config.limit) > total)" class="has-text-grey">{{ $t(\'components.fields.relationship.no_more\') }}</span>\n        </template>\n        <template #empty>\n          <span class="has-text-grey">{{ $t(\'components.fields.relationship.not_found\') }}</span>\n        </template>\n      </b-autocomplete>\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common","furet-ui-field-relationship","furet-ui-field-many2one-common","furet-ui-field-relationship-search"],prototype:{methods:{onSelect:function(e){this.updateValue(e.pk)},beforeOnChange:function(){this.value&&this.updateValue(null)}}}}),E.form.many2one="furet-ui-form-field-many2one",Object(b["b"])("furet-ui-common-field-one2many",{prototype:{computed:{values:function(){var e=this,n=[],t=this.config.display,i=this.config.model;return this.value.forEach((function(o){n.push({pk:o,label:e.format(t,e.getEntry(i,o))})})),n}}}}),Object(b["b"])("furet-ui-list-field-one2many",{template:T["a"],extend:["furet-ui-list-field-common","furet-ui-field-relationship","furet-ui-common-field-one2many"]}),E.list.one2many="furet-ui-list-field-one2many",Object(b["b"])("furet-ui-thumbnail-field-one2many",{template:T["b"],extend:["furet-ui-thumbnail-field-common","furet-ui-field-relationship","furet-ui-common-field-one2many"]}),E.thumbnail.one2many="furet-ui-thumbnail-field-one2many",Object(b["b"])("furet-ui-page-o2m-list-header",{template:'\n    <header id="furet-ui-page-multi-entries-header">\n      <div class="level">\n        <div class="level-left">\n          <div class="buttons is-grouped is-left">\n            <div v-if="can_go_to_new">\n              <b-dropdown \n                :triggers="[\'hover\']" \n                v-if="go_to_new_choices.length"\n                v-bind:disabled="readonly"\n              >\n                <button \n                  class="button is-x2m-created is-small" \n                  slot-scope="{ active }"\n                  slot="trigger">\n                  <span class="icon"><b-icon icon="plus" /></span>\n                  <span>{{ $t(\'components.header.new\') }}</span>\n                  <span class="icon"><b-icon :icon="active ? \'caret-up\' : \'caret-down\'" /></span>\n                </button>\n                <b-dropdown-item \n                  v-for="choice in go_to_new_choices"\n                  v-bind:key="choice.resource_id"\n                  aria-role="listitem"\n                  v-on:click="goToNewPolymorphic(choice)"\n                >\n                  {{ choice.label }}\n                </b-dropdown-item>\n              </b-dropdown>\n              <button \n                id="furet-ui-page-multi-entries-header-new" \n                v-else\n                v-bind:disabled="readonly"\n                class="button is-x2m-created is-small" \n                v-on:click="goToNew"\n              >\n                <span class="icon"><b-icon icon="plus" /></span>\n                <span>{{ $t(\'components.header.new\') }}</span>\n              </button>\n            </div>\n            <slot name="actions" v-bind:data="data" />\n          </div>\n        </div>\n        <div class="level-right">\n          <div class="level-item">\n            <b-field grouped group-multiline>\n              <div class="control" v-for="tag in tags" v-if="tag.selected" v-bind:key="tag.key">\n                  <b-tag \n                    v-bind:class="[\'furet-ui-page-multi-entries-header-tag\', tag.key]" \n                    type="is-primary" closable \n                    v-on:close="removeTag(tag)">{{ $t(tag.label) }} </b-tag>\n              </div>\n              <div class="control" v-for="filter in filters" v-if="filter.values.length" v-bind:key="filter.key + \'-\' + filter.mode + \'-\' + filter.opt">\n                <b-taglist attached>\n                  <b-tag type="is-danger" v-if="filter.mode == \'exclude\'"> ~ </b-tag>\n                  <b-tag type="is-dark">{{ $t(filter.label) }}</b-tag>\n                  <b-tag \n                    type="is-primary" \n                    closable \n                    v-for="value in filter.values" \n                    v-bind:class="[\'furet-ui-page-multi-entries-header-filter\', filter.key, value]" \n                    v-on:close="removeFilter(filter.key, filter.mode, filter.opt, value)" \n                    v-bind:key="value">{{ value }} </b-tag>\n                </b-taglist>\n              </div>\n            </b-field>\n          </div>\n          <div class="level-item" v-if="filters.length" >\n            <b-autocomplete\n              v-model="filterSearch"\n              v-bind:data="filteredDataArray"\n              v-bind:placeholder="this.$i18n.t(\'components.header.search\')"\n              icon="search"\n              v-on:select="updateFilters"\n              clear-on-select\n              size="is-small"\n            >\n              <template slot="empty">{{ $t(\'components.header.notFound\') }}</template>\n              <template slot-scope="props">\n                {{ props.option.mode == \'exclude\' ? \' ~ \' : \'\' }} <small>{{ $t(props.option.label) }} </small> : <strong>{{ props.option.value }}</strong>\n              </template>\n            </b-autocomplete>\n          </div>\n          <div class="level-item buttons">\n            <a id="furet-ui-page-multi-entries-header-refresh" class="button is-small" v-on:click="refresh"><b-icon icon="redo" /></a>\n            <a id="furet-ui-page-multi-entries-header-tags" v-if="tags.length" class="button is-small" v-on:click.stop="tag_list_open = ! tag_list_open">\n              <b-icon :icon="tag_list_open ? \'arrow-circle-up\' : \'arrow-circle-down\'" />\n            </a>\n          </div>\n        </div>\n      </div>\n      <b-collapse class="panel is-pulled-right" v-bind:open.sync="tag_list_open">\n        <b-taglist>\n          <b-tag v-for="tag in tags" v-bind:key="tag.key" v-bind:class="[\'is-small\', tag.selected ? \'\': \'has-text-weight-bold\']" >\n            <a \n              v-bind:class="[\'furet-ui-page-multi-entries-header-toggle-tag\', tag.key]" \n              v-on:click.stop="toggleTag(tag)">{{ $t(tag.label) }}</a>\n          </b-tag>\n        </b-taglist>\n      </b-collapse>\n    </header>\n  ',extend:["furet-ui-page-multi-entries-header"]}),Object(b["b"])("furet-ui-page-o2m-page-header",{template:'\n    <header id="header_page">\n      <div class="buttons is-grouped has-addons">\n        <a v-if="show_save" class="button is-small" v-on:click="goToPage">\n          <span class="icon">\n            <b-icon icon="times" />\n          </span>\n          <span>{{ $t(\'components.header.cancel\') }}</span>\n        </a>\n        <a v-else class="button is-small" v-on:click="goToList">\n          <span class="icon">\n            <b-icon icon="arrow-left" />\n          </span>\n          <span>{{ $t(\'components.header.return\') }}</span>\n        </a>\n        <a v-if="prevous_target" class="button is-small" v-on:click="goToPreviousPage">\n          <span class="icon">\n            <b-icon icon="page-previous" />\n          </span>\n          <span>{{ $t(\'components.header.previous\') }}</span>\n        </a>\n        <a v-if="next_target" class="button is-small" v-on:click="goToNextPage">\n          <span class="icon">\n            <b-icon icon="page-next" />\n          </span>\n          <span>{{ $t(\'components.header.next\') }}</span>\n        </a>\n        <div v-if="can_go_to_new">\n          <b-dropdown \n            :triggers="[\'hover\']" \n            v-if="go_to_new_choices.length"\n            v-bind:disabled="readonly"\n          >\n            <button \n              class="button is-x2m-created is-small" \n              slot-scope="{ active }"\n              slot="trigger">\n              <span class="icon"><b-icon icon="plus" /></span>\n              <span>{{ $t(\'components.header.new\') }}</span>\n              <span class="icon"><b-icon :icon="active ? \'caret-up\' : \'caret-down\'" /></span>\n            </button>\n            <b-dropdown-item \n              v-for="choice in go_to_new_choices"\n              v-bind:key="choice.resource_id"\n              aria-role="listitem"\n              v-on:click="goToNewPolymorphic(choice)"\n            >\n              {{ choice.label }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <button v-else v-bind:disabled="readonly" class="button is-x2m-created is-small" v-on:click="goToNew">\n            <span class="icon">\n              <b-icon icon="plus" />\n            </span>\n            <span>{{ $t(\'components.header.new\') }}</span>\n          </button>\n        </div>\n        <button v-if="can_modify" v-bind:disabled="readonly" class="button is-x2m-updated is-small" v-on:click="goToEdit">\n          <span class="icon">\n            <b-icon icon="pencil-alt" />\n          </span>\n          <span>{{ $t(\'components.header.edit\') }}</span>\n        </button>\n        <button v-if="show_save & data.__uuid !== undefined" v-bind:disabled="can_save" class="button is-x2m-created is-small" v-on:click="save">\n          <span class="icon">\n            <b-icon icon="save" />\n          </span>\n          <span>{{ $t(\'components.header.apply\') }}</span>\n        </button>\n        <button v-if="show_save & data.__uuid === undefined" v-bind:disabled="can_save" class="button is-x2m-updated is-small" v-on:click="save">\n          <span class="icon">\n            <b-icon icon="save" />\n          </span>\n          <span>{{ $t(\'components.header.apply\') }}</span>\n        </button>\n        <button v-if="can_delete" v-bind:disabled="readonly" class="button is-x2m-deleted is-small" v-on:click="deleteEntry">\n          <span class="icon">\n            <b-icon icon="trash" />\n          </span>\n          <span>{{ $t(\'components.header.delete\') }}</span>\n        </button>\n        <slot name="head_actions" v-bind:data="data" />\n      </div>\n    </header>\n  ',extend:["furet-ui-header-page"]}),Object(b["b"])("furet-ui-form-field-one2many",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <furet-ui-form-field-resource-manager\n        ref="manager"\n        v-bind:id="config.resource"\n        v-bind:x2m_resource="resource"\n        v-bind:isReadonly="isReadonly"\n        v-bind:config="x2mconfig"\n        v-bind:value="value"\n\n        v-on:add="o2m_add"\n        v-on:revert="o2m_revert"\n        v-on:update="o2m_update"\n        v-on:delete="o2m_delete"\n\n        v-on:modify-state="modifyState"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  ',extend:["furet-ui-form-field-common"],prototype:{inject:["registryRefreshCallback","updateModifyState"],computed:{x2mconfig:function(){return void 0===this.config.multi_header_component_name&&(this.config.multi_header_component_name="furet-ui-page-o2m-list-header"),void 0===this.config.page_header_component_name&&(this.config.page_header_component_name="furet-ui-page-o2m-page-header"),this.config.pagination_size="is-small",this.config}},methods:{addState:function(e,n){return[Object.assign({},e.pks,{__x2m_state:n})]},o2m_revert:function(e){var n=[],t={};t[e.model]={},e.uuid?(n.push({__revert:!0,uuid:e.uuid}),t[e.model]["new"]={},t[e.model]["new"][e.uuid]={__revert:!0}):(t[e.model][Object(g["b"])(e.pks)]={__revert:!0},n.push(Object.assign({__revert:!0},e.pks))),this.updateValue(n,t)},o2m_add:function(e){var n=[];n.push({__x2m_state:"ADDED",uuid:e.uuid}),this.updateValue(n,e.changes)},o2m_update:function(e){this.updateValue(this.addState(e,"UPDATED"),e.changes)},o2m_delete:function(e){var n={};n[e.model]={};var t=Object(g["b"])(e.pks);n[e.model][t]=Object.assign({__change_state:"delete"},e.pks),this.updateValue(this.addState(e,"DELETED"),n)},refresh:function(){this.$refs.manager.$refs.resource.refresh()},modifyState:function(e){this.updateModifyState(e)}},mounted:function(){this.registryRefreshCallback(this.refresh)}}}),E.form.one2many="furet-ui-form-field-one2many",Object(b["b"])("furet-ui-field-many2many-common",{prototype:{computed:{values:function(){var e=this,n=[],t=this.config.display,i=this.config.model;return null===this.value?[]:(this.value.forEach((function(o){var a=e.getEntry(i,o);n.push({pk:o,label:e.format(t,a),relation:a})})),n)}},methods:{openResource:function(e){var n={code:this.$route.params.code,menuId:0,id:0};if(this.config.menu&&(n.menuId=this.config.menu),this.config.resource){var t={mode:"form",pks:JSON.stringify(e.pk)};n.id=this.config.resource,this.pushInBreadcrumb(),this.$router.push({name:"resource",params:n,query:t})}}}}}),Object(b["b"])("furet-ui-list-field-many2many",{template:T["a"],extend:["furet-ui-list-field-common","furet-ui-field-relationship","furet-ui-field-many2many-common"]}),E.list.many2many="furet-ui-list-field-many2many",Object(b["b"])("furet-ui-thumbnail-field-many2many",{template:T["b"],extend:["furet-ui-thumbnail-field-common","furet-ui-field-relationship","furet-ui-field-many2many-common"]}),E.thumbnail.many2many="furet-ui-thumbnail-field-many2many",Object(b["b"])("furet-ui-form-field-many2many-tags",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div v-if="isReadonly" >\n        <div class="buttons">\n          <b-button \n            v-on:click.stop="openResource(record)"\n            v-for="record in values"\n            :key="getKey(record)"\n            type="is-info"\n            size="is-small"\n            >\n              <component \n                v-if="config.slot"\n                v-bind:is="component_template"\n                v-bind:config="config"\n                v-bind:resource="resource"\n                v-bind:data="data"\n                v-bind:relation="get_slot_fields_for(record.pk)"\n              />\n              <span v-else>{{ record.label }}</span>\n          </b-button>\n        </div>\n    </div>\n    <b-taginput\n      v-else\n      v-bind:value="values"\n      v-bind:data="choices"\n      autocomplete\n      ref="taginput"\n      v-bind:placeholder="config.placeholder"\n      v-bind:allow-new="false"\n      v-bind:open-on-focus="false"\n      v-bind:check-infinite-scroll="true"\n      icon-pack="fa"\n      type="is-info"\n      v-bind:icon="config.icon"\n      v-on:typing="onChange"\n      v-on:add="onSelect"\n      v-on:remove="onUnSelect"\n      v-on:infinite-scroll="getMoreAsyncData"\n    >\n      <template slot="empty">\n        <span class="has-text-grey">{{ $t(\'components.fields.relationship.not_found\') }}</span>\n      </template>\n      \x3c!-- template to display search results --\x3e\n      <template slot-scope="searched">\n        <component \n          v-if="config.slot"\n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:relation="searched.option.relation"\n        />\n        <span v-else>\n          {{ searched.option.label }}\n        </span>\n      </template>\n      <template #footer>\n        <span v-if="((page * config.limit) > total)" class="has-text-grey">{{ $t(\'components.fields.relationship.no_more\') }}</span>\n      </template>\n      <template slot="selected" slot-scope="props">\n        <b-tag\n          v-for="(tag, index) in props.tags"\n          v-bind:key="index"\n          v-bind:type="getType(tag)"\n          v-bind:tabstop="false"\n          v-bind:closable="isClosable(tag)"\n          v-on:close="$refs.taginput.removeTag(index, $event)"\n        >\n          <component \n            v-if="config.slot"\n            v-bind:is="component_template"\n            v-bind:config="config"\n            v-bind:resource="resource"\n            v-bind:data="data"\n            v-bind:relation="tag.relation"\n          />\n          <span v-else>\n            {{ tag.label }}\n          </span>\n        </b-tag>\n      </template>\n    </b-taginput>\n  </furet-ui-form-field-common-tooltip-field>',extend:["furet-ui-form-field-common","furet-ui-field-relationship","furet-ui-field-many2many-common","furet-ui-field-relationship-search"],prototype:{methods:{isClosable:function(e){return!e.pk||!e.pk.__x2m_state||"UNLINKED"!==e.pk.__x2m_state},getType:function(e){return e.pk&&e.pk.__x2m_state&&"UNLINKED"===e.pk.__x2m_state?"":"is-primary"},onUnSelect:function(e){var n={},t=Object.assign([],this.value);e.pk.__x2m_state&&"LINKED"===e.pk.__x2m_state?Object.assign(t[t.indexOf(e.pk)],{__revert:!0}):Object.assign(t[t.indexOf(e.pk)],{__x2m_state:"UNLINKED"}),this.updateValue(t,n)},onSelect:function(e){var n={};this.updateValue(this.value.concat([Object.assign({},e.pk,{__x2m_state:"LINKED"})]),n)}}}}),E.form.many2manytags="furet-ui-form-field-many2many-tags",Object(b["b"])("furet-ui-unknown-field",{template:"<div>Unknown Field <strong>{{config.type}}</strong></div>",prototype:{props:["config","data"]}}),Object(b["b"])("furet-ui-field",{template:'\n    <component \n      v-bind:is="component" \n      v-bind:resource="resource" \n      v-bind:config="config" \n      v-bind:data="data"\n    />\n  ',prototype:{props:["resource","config","data"],computed:{component:function(){return(E[this.resource.type]||{})[this.config.type]||"furet-ui-unknown-field"}}}});var R=t("2f62"),M=(t("a434"),t("4fad"),{appLoaded:!1,userName:"",userTimeZone:"Europe/Paris",authenticated:!1,root_menus:[],user_menus:[],previous_route:{},left_menus:[],isOpenLeft:!1,breadcrumb:[],loginPage:"password"}),C={loggedIn:function(e){return e.authenticated},isLoaded:function(e){return e.appLoaded}},L={},A={PushBreadcrumb:function(e,n){e.breadcrumb.push(n)},ClearBreadcrumbFrom:function(e,n){e.breadcrumb.splice(n,e.breadcrumb.length-n)},PopBreadcrumb:function(e){e.breadcrumb.pop()},ClearBreadcrumb:function(e){e.breadcrumb=[]},SET_LOGIN_PAGE:function(e,n){n&&n.login_page&&(e.loginPage=n.login_page)},"FURETUI LOADED":function(e){e.appLoaded=!0},LOGIN:function(e,n){e.authenticated=!0,void 0!==n&&void 0!==n.userName&&(e.userName=n.userName)},LOGOUT:function(e){e.authenticated=!1,e.userName=""},UPDATE_PREVIOUS_ROUTE:function(e,n){e.previous_route=n.route},UPDATE_ROOT_MENUS:function(e,n){e.root_menus=n.menus},UPDATE_USER_MENUS:function(e,n){e.user_menus=n.menus},UPDATE_GLOBAL:function(e,n){for(var t=0,i=Object.entries(n);t<i.length;t++){var o=Object(O["a"])(i[t],2),a=o[0],r=o[1];e[a]=r}},OPEN_LEFT_MENU:function(e,n){e.isOpenLeft=n},UPDATE_CURRENT_LEFT_MENUS:function(e,n){e.left_menus=n.menus}},I={state:M,getters:C,actions:L,mutations:A},U={},q={},S={},N={UPDATE_RESOURCES:function(e,n){n.definitions.forEach((function(n){var t=!0;void 0!==e[n.id]&&JSON.stringify(n)===JSON.stringify(e[n.id])&&(t=!1),t&&i["default"].set(e,String(n.id),n)}))},UPDATE_RESOURCE_TOGGLE_HIDDEN_COLUMN:function(e,n){e[n.id].headers.forEach((function(t){t.name==n.field&&(t["hidden-column"]=!t["hidden-column"],i["default"].set(e,n.id,Object.assign({},e[n.id])))}))}},B={state:U,getters:q,actions:S,mutations:N},W={global:I,data:g["a"],resource:B};i["default"].use(R["a"]);var K=!1,z={modules:W,strict:K},F=function(){return new R["a"].Store(z)},H=(t("45fc"),t("8c4f"));i["default"].use(H["a"]);var J=[{name:"homepage",path:"/",component:{template:"<homepage />"},meta:{requiresAuth:!1}},{name:"login",path:"/login",component:{template:"<furet-ui-login />"},meta:{requiresAuth:!1}},{name:"space",path:"/space/:code/menu/:menuId",component:{template:'\n          <furet-ui-space \n            v-bind:code="$route.params.code"\n            v-bind:menuId="$route.params.menuId"\n          />'},meta:{requiresAuth:!0},children:[{name:"resource",path:"resource/:id",component:{template:'\n                <furet-ui-space-resource-manager v-bind:id="$route.params.id" />\n            '}}]}],V=function(e,n){var t=new H["a"]({routes:n});return t.beforeEach((function(n,t,i){var o=function(){e.state.global.appLoaded&&(n.matched.some((function(e){return e.meta.requiresAuth}))?e.getters.loggedIn?i():i({path:"/login",query:{redirect:n.fullPath}}):i())};e.state.global.appLoaded?o():e.watch((function(e){return e.global.appLoaded}),(function(e){!0===e&&o()}))})),t},G=t("c1df"),Q=t.n(G),Z={install:function(e,n){e.prototype.$dispatchAll=function(t){var i,o,a=n.router,r=n.store,s=n.i18n,u=e.prototype.$notify;_["a"].each(t,(function(e){if(e.type)switch(e.type){case"UPDATE_LOCALES":_["a"].each(e.locales,(function(e){s.setLocaleMessage(e.locale,e.messages)}));break;case"SET_LOCALE":s.locale=e.locale,Q.a.locale(e.locale),e.timezone&&r.commit("UPDATE_GLOBAL",{userTimeZone:e.timezone});break;case"UPDATE_ROUTE":e.name?a.push({name:e.name,params:e.params,query:e.query}):e.path&&a.push({path:e.path});break;case"NOTIFY":delete e.type,u(e);break;case"RELOAD":location.reload();break;default:i=e.type,delete e.type,o=e.process||"commit",r[o](i,e)}}))}}};t("f843");i["default"].config.productionTip=!1,i["default"].use(u.a),i["default"].use(r["a"],{defaultIconPack:"fa"});var X=function(e,n){var t=document.getElementById(e);if(null!==t){console.log(" ==> start furet ui on element #".concat(e)),Object(b["a"])();var o=F(),r=V(o,n);Object(c["sync"])(o,r),i["default"].use(Z,{router:r,store:o,i18n:f}),new i["default"]({template:'\n      <div>\n        <app/>\n        <b-loading :is-full-page="true" :active.sync="isLoading"></b-loading>\n      </div>\n    ',router:r,store:o,i18n:f,data:function(){return{isLoading:!0}},created:function(){var e=this;a.a.get("furet-ui/initialize",this.$route.name).then((function(n){e.$dispatchAll(n.data),e.$store.commit("FURETUI LOADED"),e.isLoading=!1})).catch((function(e){console.error("call initialize",e)}))}}).$mount("#".concat(e))}};X("furet-ui",J);n["default"]={startFuretUI:X}},"88bd":function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));t("4160"),t("159b");var i=t("2909"),o=t("a026"),a={},r=[],s=function(e,n){var t;e in a?t=a[e]:(t={template:void 0,extend:[],prototypes:[]},a[e]=t,r.push(e)),void 0!==n.template&&(t.template=n.template),void 0!==n.prototype&&t.prototypes.push(n.prototype),void 0!==n.extend&&n.extend.forEach((function(e){t.extend.push(e)}))},u=function e(n){var t=a[n],o=[];return 0!==t.extend.length&&t.extend.forEach((function(n){o.push.apply(o,Object(i["a"])(e(n)))})),o.push.apply(o,Object(i["a"])(t.prototypes)),o},c=function(e){var n=a[e],t=u(e);return{template:n.template,mixins:t}},d=function(){r.forEach((function(e){o["default"].component(e,(function(n){n(c(e))}))}))}},"91eb":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return safe_eval_boolean})),__webpack_require__.d(__webpack_exports__,"b",(function(){return safe_eval})),__webpack_require__.d(__webpack_exports__,"a",(function(){return listTemplate})),__webpack_require__.d(__webpack_exports__,"d",(function(){return thumbnailTemplate}));var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_2__),_home_jssuzanne_anyblok_furet_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("53ca"),_factory__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("88bd"),debounce__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b012"),debounce__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(debounce__WEBPACK_IMPORTED_MODULE_5__),safe_eval_boolean=function(e){return null===e||void 0===e?null:("object"===Object(_home_jssuzanne_anyblok_furet_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(e)&&["[object String]","[object Boolean]"].includes(toString.call(e))&&(e=e.valueOf()),"string"===typeof e?"null"===e.trim().toLowerCase()||"undefined"===e.trim().toLowerCase()?null:["true","t","yes","y","on","1"].includes(e.trim().toLowerCase()):"number"===typeof e?1===e:"boolean"===typeof e&&e)},safe_eval=function safe_eval(condition,fields,resource){var now=Date.now(),toDate=function(e){return new Date(e)},selectors=Object.assign((resource.manager||{}).selectors||{},resource.selectors||{}),tabs=resource.tabs,res=!1;try{res=safe_eval_boolean(eval(condition))}catch(e){console.log(e)}return res},listTemplate='\n  <div>\n    <span v-if="isHidden" />\n    <component \n      v-else-if="config.slot" \n      v-bind:is="component_template"\n      v-bind:config="config"\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:value="value"\n    />\n    <span v-else>{{value}}</span>\n  </div>\n',thumbnailTemplate='\n  <furet-ui-thumbnail-field-common-tooltip-field\n    v-bind:resource="resource"\n    v-bind:data="data"\n    v-bind:config="config"\n  >\n    <component \n      v-if="config.slot" \n      v-bind:is="component_template"\n      v-bind:config="config"\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:value="value"\n    />\n    <span v-else>{{value}}</span>\n  </furet-ui-thumbnail-field-common-tooltip-field>\n';Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-list-field-common",{prototype:{props:["resource","data","config"],computed:{value:function(){return this.data[this.config.name]||""},isHidden:function(){return void 0!==this.config.hidden&&safe_eval(this.config.hidden,this.data||{},this.resource)},component_template:function(){return{template:this.config.slot,props:["resource","data","config","value"]}}}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-form-field-common-tooltip",{template:'\n    <div v-if="isHidden" />\n    <b-tooltip \n      v-bind:label="getTooltip" \n      v-bind:position="tooltipPosition"\n      v-bind:style="{\'width\': \'100%\'}"\n      v-else\n    >\n      <slot />\n    </b-tooltip>',prototype:{props:["resource","data","config"],computed:{isHidden:function(){return void 0!==this.config.hidden&&safe_eval(this.config.hidden,this.data||{},this.resource)},getTooltip:function(){return this.config.tooltip||""},tooltipPosition:function(){return this.config.tooltip_position||"is-top"}}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-form-field-common-tooltip-field",{template:'\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <b-field \n        v-bind:label="label"\n        v-bind:type="getType"\n        v-bind:message="getMessage"\n        v-bind:style="{\'width\': \'inherit\'}"\n      >\n        <slot />\n      </b-field>\n    </furet-ui-form-field-common-tooltip>',extend:["i18n-translate"],prototype:{props:["resource","data","config"],inject:["partIsReadonly"],computed:{value:function(){return this.data&&this.data[this.config.name]||""},label:function(){return this.translate(this.config.label)},isReadonly:function(){if(this.resource.readonly)return!0;if(this.partIsReadonly())return!0;var e=safe_eval(this.config.readonly,this.data||{},this.resource);if(this.config.writable){var n=safe_eval(this.config.writable,this.data||{},this.resource);return e&&!n}return e},isRequired:function(){return!this.isReadonly&&safe_eval(this.config.required,this.data||{},this.resource)},getType:function(){return this.isRequired?this.value?"is-info":"is-danger":""},getMessage:function(){return this.isRequired&&!this.value?this.$i18n.t("components.fields.common.required"):""}}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-form-field-common-readonly",{prototype:{props:["resource","data","config"],inject:["partIsReadonly"],computed:{isReadonly:function(){if(this.resource.readonly)return!0;if(this.partIsReadonly())return!0;var e=safe_eval(this.config.readonly,this.data||{},this.resource);if(this.config.writable){var n=safe_eval(this.config.writable,this.data||{},this.resource);return e&&!n}return e}}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-form-field-common",{extend:["furet-ui-form-field-common-readonly"],prototype:{inject:["updateChangeState"],computed:{value:function(){return this.data&&this.data[this.config.name]||null},isRequired:function(){return safe_eval(this.config.required,this.data||{},this.resource)},component_template:function(){return{template:this.config.slot,props:["resource","data","config","value"]}}},methods:{updateValue:Object(debounce__WEBPACK_IMPORTED_MODULE_5__["debounce"])((function(e,n){var t={model:this.resource.model,pk:this.resource.pks,uuid:this.resource.uuid,fieldname:this.config.name,value:e,merge:n};this.updateChangeState(t)}),200)}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-thumbnail-field-common-tooltip-field",{template:'\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <b-field \n        v-bind:label="label"\n        v-bind:style="{\'width\': \'inherit\'}"\n      >\n        <slot />\n      </b-field>\n    </furet-ui-form-field-common-tooltip>',extend:["i18n-translate"],prototype:{props:["resource","data","config"],computed:{label:function(){return this.translate(this.config.label)}}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_4__["b"])("furet-ui-thumbnail-field-common",{prototype:{props:["resource","data","config"],computed:{value:function(){return this.data&&this.data[this.config.name]||null},component_template:function(){return{template:this.config.slot,props:["resource","data","config","value"]}}}}})},a01d:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return s}));t("4de4"),t("4160"),t("c975"),t("4fad"),t("b64b"),t("d3b7"),t("159b"),t("ddb0");var i=t("3835"),o=t("a026"),a=t("c46f"),r=function(e){var n=a["a"].sortBy(a["a"].keys(e)),t=[];return n.forEach((function(n){"__x2m_state"!==n&&t.push([n,e[n]])})),JSON.stringify(t)},s=function(e,n){var t=Object.assign({},e);void 0!==n.merge&&a["a"].each(a["a"].keys(n.merge),(function(e){void 0===t[e]&&(t[e]={}),a["a"].each(a["a"].keys(n.merge[e]),(function(i){void 0===t[e][i]&&(t[e][i]={}),"new"===i?(void 0===t[e].new&&(t[e].new={}),a["a"].each(a["a"].keys(n.merge[e].new),(function(i){void 0===t[e].new[i]&&(t[e].new[i]={}),!0===n.merge[e].new[i].__revert&&(t[e].new[i]={}),Object.assign(t[e].new[i],n.merge[e].new[i])}))):(!0===n.merge[e][i].__revert&&(t[e][i]={}),Object.assign(t[e][i],n.merge[e][i]))}))})),void 0==t[n.model]&&(t[n.model]={});var i=null;if(null!=n.uuid)void 0==t[n.model].new&&(t[n.model].new={}),void 0==t[n.model].new[n.uuid]&&(t[n.model].new[n.uuid]={}),i=t[n.model].new[n.uuid];else{var o=r(n.pk);void 0==t[n.model][o]&&(t[n.model][o]={}),i=t[n.model][o]}return Array.isArray(i[n.fieldname])&&Array.isArray(n.value)?(a["a"].each(n.value,(function(e){var t=Object.assign({},e);delete t.__revert,delete t.__x2m_state;var o=i[n.fieldname].filter((function(e){return a["a"].isMatch(e,t)})),r=i[n.fieldname].indexOf(o[0]);1===o.length&&r>-1?i[n.fieldname][r]=Object.assign(i[n.fieldname][r],e):i[n.fieldname].push(e)})),i[n.fieldname]=i[n.fieldname].filter((function(e){return!0!==e.__revert}))):i[n.fieldname]=n.value,t},u={data:{},changes:{}},c={get_entry:function(e){return function(n,t){var i=r(t),o=(e.data[n]||{})[i]||{},a={};return(e.changes[n]||{})[i]&&(!0!==e.changes[n][i].__revert||Object.keys(e.changes[n][i]).length>1)&&Object.assign(a,{__change_state:"update"},e.changes[n][i]),Object.assign({},o,a)}},get_new_entry:function(e){return function(n,t){var i=((e.changes[n]||{}).new||{})[t]||{};return!0!==i.__revert||Object.keys(i).length>1?Object.assign({__uuid:t,__change_state:"create"},i):{}}},get_new_entries:function(e){return function(n){var t=[];return Object.entries((e.changes[n]||{}).new||{}).forEach((function(e){var n=Object(i["a"])(e,2),o=n[0],a=n[1];(!0!==a.__revert||Object.keys(a).length>1)&&t.push(Object.assign({},a,{__uuid:o,__change_state:"create"}))})),t}}},d={},l={UPDATE_DATA:function(e,n){var t=Object.assign({},e.data);void 0==t[n.model]&&(t[n.model]={});var i=r(n.pk);t[n.model][i]=Object.assign({},t[n.model][i],n.data),e.data=t},DELETE_DATA:function(e,n){var t=r(n.pks);e.data[n.model]&&o["default"].delete(e.data[n.model],t)},UPDATE_CHANGE:function(e,n){e.changes=s(e.changes,n)},CLEAR_CHANGE:function(e){e.changes={}},CLEAR_DATA:function(e){e.data={},e.changes={}}};n["a"]={state:u,getters:c,actions:d,mutations:l}},c9cc:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RelationShipX2MList})),__webpack_require__.d(__webpack_exports__,"b",(function(){return RelationShipX2MThumbnail}));var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4160"),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__),axios__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__),_factory__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("88bd"),_store_modules_data__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a01d"),debounce__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b012"),debounce__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(debounce__WEBPACK_IMPORTED_MODULE_10__),safe_eval=function safe_eval(style,fields){return eval(style)};Object(_factory__WEBPACK_IMPORTED_MODULE_8__["b"])("furet-ui-field-relationship",{prototype:{inject:["getEntry","pushInBreadcrumb"],computed:{slot_fields:function(){var e=this.data[this.config.name]||"";return this.get_slot_fields_for(e)},component_template:function(){return{template:this.config.slot,props:["resource","data","config","relation"]}}},methods:{get_slot_fields_for:function(e){if(e){var n=this.config.model;return this.getEntry(n,e)}return{}},format:function(e,n){return safe_eval(e,n)},getKey:function(e){return Object(_store_modules_data__WEBPACK_IMPORTED_MODULE_9__["b"])(e.pk)},getStyle:function(e){var n="";if(void 0!==this.config.style){var t=this.getEntry(this.config.model,e.pk);n=safe_eval(this.config.style,t,{})}return n},openResource:function(e){var n={code:this.$route.params.code,menuId:0,id:0};if(this.config.menu&&(n.menuId=this.config.menu),this.config.resource){var t={mode:"form",pks:JSON.stringify(e)};n.id=this.config.resource,this.pushInBreadcrumb(),this.$router.push({name:"resource",params:n,query:t})}}}}});var RelationShipX2MList='\n  <div>\n    <span v-if="isHidden" />\n    <div v-else>\n      <span \n        v-for="value in values"\n        class="tag" \n        v-bind:key="getKey(value)"\n        v-bind:style="getStyle(value)"\n      >\n        <a v-if="config.slot" v-on:click.stop="openResource(value)">\n          <component \n            v-bind:is="component_template"\n            v-bind:config="config"\n            v-bind:resource="resource"\n            v-bind:data="data"\n            v-bind:relation="get_slot_fields_for(value.pk)"\n          />\n        </a>\n        <a v-else v-on:click.stop="openResource(value)">{{value.label}}</a>\n      </span>\n    </div>\n  </div>',RelationShipX2MThumbnail='\n  <furet-ui-thumbnail-field-common-tooltip-field\n    v-bind:resource="resource"\n    v-bind:data="data"\n    v-bind:config="config"\n  >\n    <span \n      v-for="value in values"\n      class="tag" \n      v-bind:key="getKey(value)"\n      v-bind:style="getStyle(value)"\n    >\n      <a v-if="config.slot" v-on:click.stop="openResource(value)">\n        <component \n          v-bind:is="component_template"\n          v-bind:config="config"\n          v-bind:resource="resource"\n          v-bind:data="data"\n          v-bind:relation="get_slot_fields_for(value.pk)"\n        />\n      </a>\n      <a v-else v-on:click.stop="openResource(value)">{{value.label}}</a>\n    </span>\n  </furet-ui-thumbnail-field-common-tooltip-field>';Object(_factory__WEBPACK_IMPORTED_MODULE_8__["b"])("furet-ui-field-relationship-search",{prototype:{data:function(){return{pks:[],page:0,total:0,isFetching:!1,tmp_value:null}},computed:{choices:function(){var e=this,n=[];return this.pks.forEach((function(t){var i=e.getEntry(e.config.model,t);n.push({pk:t,label:e.format(e.config.display,i),relation:i})})),n}},methods:{beforeOnChange:function(){},onChange:Object(debounce__WEBPACK_IMPORTED_MODULE_10__["debounce"])((function(e){this._onChange(e)}),200),getMoreAsyncData:Object(debounce__WEBPACK_IMPORTED_MODULE_10__["debounce"])((function(){this._onChange(this.tmp_value)}),250),_onChange:function(e){var n=this;if(this.beforeOnChange(),this.tmp_value===e&&e.length||(this.tmp_value=e,this.pks=[],this.page=0,this.total=0),!(this.page*this.config.limit>this.total)){var t={"context[model]":this.config.model,"context[fields]":this.config.fields.toString(),limit:this.config.limit,offset:this.page*this.config.limit};if(this.config.filter_by.forEach((function(n){t["filter[".concat(n,"][ilike]")]=e})),this.value&&Array.isArray(this.value)&&this.value.length>0){var i=this.config.remote_columns.join(":"),o=this.value.map((function(e){return n.config.remote_columns.map((function(n){return e[n]})).join(":")})).join(",");o&&(t["~primary-keys[".concat(i,"]")]=o)}this.isFetching=!0,axios__WEBPACK_IMPORTED_MODULE_7___default.a.get("/furet-ui/resource/".concat(this.resource.id,"/crud"),{params:t}).then((function(e){n.$dispatchAll(e.data.data),e.data.pks.forEach((function(e){return n.pks.push(e)})),n.page++,n.total=e.data.total})).catch((function(){})).finally((function(){n.isFetching=!1}))}}}}})},e270:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__),_home_jssuzanne_anyblok_furet_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("53ca"),underscore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("c46f"),_factory__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("88bd"),_fields_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("91eb");Object(_factory__WEBPACK_IMPORTED_MODULE_6__["b"])("furet-ui-helper-mixin",{prototype:{props:["resource","data","config"],inject:["partIsReadonly"],computed:{isReadonly:function(){return this.getIsReadonly()},isHidden:function(){return void 0!=this.config.hidden&&Object(_fields_common__WEBPACK_IMPORTED_MODULE_7__["b"])(this.config.hidden,this.data||{},this.resource)}},methods:{getIsReadonly:function(){if(this.resource.readonly)return!0;if(this.partIsReadonly())return!0;var e=Object(_fields_common__WEBPACK_IMPORTED_MODULE_7__["b"])(this.config.readonly,this.data,this.resource);if(this.config.writable){var n=Object(_fields_common__WEBPACK_IMPORTED_MODULE_7__["b"])(this.config.writable,this.data,this.resource);return!(!e||n)}return!!e}},provide:function(){return{partIsReadonly:this.getIsReadonly}}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_6__["b"])("furet-ui-fieldset",{template:'\n    <fieldset v-if="!isHidden" v-bind="config.props">\n      <slot />\n    </fieldset>\n  ',extend:["furet-ui-helper-mixin"]}),Object(_factory__WEBPACK_IMPORTED_MODULE_6__["b"])("furet-ui-tabs",{template:'\n    <b-tabs \n      v-if="!isHidden" \n      ref="tabs" \n      v-model="resource.tabs[config.name]" \n      v-bind="config.props"\n    >\n      <slot />\n    </b-tabs>\n  ',extend:["furet-ui-helper-mixin"]});var eval_counter=function eval_counter(value,fields){if(0===underscore__WEBPACK_IMPORTED_MODULE_5__["a"].keys(fields).length)return 0;if(!value)return 0;var res=0;try{res=eval(value),"object"===Object(_home_jssuzanne_anyblok_furet_ui_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_4__["a"])(res)?void 0!==res.length?res=res.length:void 0!==res.count&&(res=res.count):void 0==res&&(res=0)}catch(e){}return res};Object(_factory__WEBPACK_IMPORTED_MODULE_6__["b"])("furet-ui-tab",{prototype:{functional:!0,render:function(e,n){var t=function(){return void 0==n.props.config.hidden||!Object(_fields_common__WEBPACK_IMPORTED_MODULE_7__["b"])(n.props.config.hidden,n.props.data,n.props.resource)}(),i=Object.assign({},n.data);i.attrs.visible=t;var o=n.props;if(void 0!==o.counter){var a=eval_counter(o.counter,n.props.data);i.attrs.label="".concat(o.label," (").concat(a,")")}return e("b-tab-item",i,[e("furet-ui-div",{props:o},n.children)])}}}),Object(_factory__WEBPACK_IMPORTED_MODULE_6__["b"])("furet-ui-div",{template:'\n    <div v-if="!isHidden" v-bind="config.props">\n      <slot />\n    </div>\n  ',extend:["furet-ui-helper-mixin"]}),Object(_factory__WEBPACK_IMPORTED_MODULE_6__["b"])("furet-ui-selector",{template:'\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource="resource"\n      v-bind:data="data"\n      v-bind:config="config"\n    >\n      <div class="field has-addons" v-if="isHidden">\n        <b-select \n          v-bind:disabled="isReadonly" \n          icon-pack="fa"\n          v-bind:icon="config.icon"\n          v-model="resource.selectors[config.name]"\n          expanded\n        >\n          <option \n            v-for="option in getSelections"\n            v-bind:key="option.value"\n            v-bind:value="option.value"\n          >\n             {{ option.label }}\n          </option>\n        </b-select>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  ',prototype:{props:["resource","data","config"],computed:{isHidden:function(){return void 0!=this.config.hidden&&Object(_fields_common__WEBPACK_IMPORTED_MODULE_7__["b"])(this.config.hidden,this.data,this.resource)},isReadonly:function(){var e=Object(_fields_common__WEBPACK_IMPORTED_MODULE_7__["b"])(this.config.readonly,this.data,this.resource);return e},getSelections:function(){var e=this.config.colors||{},n=[];return n.push({label:"",value:null,color:null}),underscore__WEBPACK_IMPORTED_MODULE_5__["a"].each(this.config.selections,(function(t,i){n.push({value:i,label:t,color:e[i]})})),n}},methods:{updateValue:function(e){this.resource.selectors[this.config.name]=e}}}})},f843:function(e,n,t){}});
//# sourceMappingURL=app.9113385c.js.map