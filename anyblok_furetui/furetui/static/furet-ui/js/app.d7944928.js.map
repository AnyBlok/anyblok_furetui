{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/i18n.js","webpack:///./src/components/mixins.js","webpack:///./src/components/app.js","webpack:///./src/components/homepage.js","webpack:///./src/components/login/login-pages.js","webpack:///./src/components/login/login-page.js","webpack:///./src/components/login/password.js","webpack:///./src/components/login/oidc.js","webpack:///./src/components/resource/resources.js","webpack:///./src/components/resource/manager.js","webpack:///./src/components/resource/custom.js","webpack:///./src/components/resource/set.js","webpack:///./src/components/resource/list.js","webpack:///./src/components/resource/thumbnail.js","webpack:///./src/components/resource/form.js","webpack:///./src/components/resource/singleton.js","webpack:///./src/components/resource/polymorphic_form.js","webpack:///./src/components/pages/mixins.js","webpack:///./src/components/pages/list.js","webpack:///./src/components/pages/thumbnail.js","webpack:///./src/components/fields/fields.js","webpack:///./src/components/fields/barcode.js","webpack:///./src/components/fields/boolean.js","webpack:///./src/components/fields/color.js","webpack:///./src/components/fields/datetime.js","webpack:///./src/components/fields/mail.js","webpack:///./src/components/fields/integer.js","webpack:///./src/components/fields/function.js","webpack:///./src/components/fields/json.js","webpack:///./src/components/fields/float.js","webpack:///./src/components/fields/decimal.js","webpack:///./src/components/fields/password.js","webpack:///./src/components/fields/rich-text.js","webpack:///./src/components/fields/selection.js","webpack:///./src/components/fields/statusbar.js","webpack:///./src/components/fields/string.js","webpack:///./src/components/fields/timestamp.js","webpack:///./src/components/fields/url.js","webpack:///./src/components/fields/relationship/many2one.js","webpack:///./src/components/fields/relationship/one2many.js","webpack:///./src/components/fields/relationship/many2many.js","webpack:///./src/components/fields/index.js","webpack:///./src/store/modules/global.js","webpack:///./src/store/modules/resource.js","webpack:///./src/store/modules/index.js","webpack:///./src/store/index.js","webpack:///./src/router.js","webpack:///./src/plugins/dispatch.js","webpack:///./src/main.js","webpack:///./src/components/factory.js","webpack:///./src/components/fields/common.js","webpack:///./src/store/modules/data.js","webpack:///./src/components/fields/relationship/common.js","webpack:///./src/components/resource/helper.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","Vue","use","VueI18n","i18nConf","locale","fallbackLocale","messages","en","error","components","login","appbar","button","username","password","logout","header","search","new","edit","cancel","save","delete","notFound","return","previous","next","browse","total","created","updated","deleted","linked","unlinked","fields","common","required","yesno","yes","no","json","invalid","relationship","no_more","not_found","i18n","defineComponent","computed","logo","this","format_url","methods","path","formatDate","date","timezone","$store","state","global","userTimeZone","moment","document","documentElement","lang","tz","format","template","isOpen","extend","space_code","route","params","space_menus","menus","root_menus","selectMenu","menu","$router","commit","loggedIn","getters","call_login_page","userName","user_menus","routerPush","logOut","axios","post","then","$dispatchAll","catch","console","props","isLoading","onClickMenu","resource","query","tags","order_by","orders","_","filters","JSON","stringify","menuId","undefined","url","newtable","open","location","replace","method","model","response","history","breadcrumb","backToResource","index","_event","isOpenLeft","set","newvalue","left_menus","mounted","loginPages","loginPageComponentName","loginPage","loginPageComponent","errors","is_not_clickable","logIn","redirect","$route","href","oidc","resources","rest_api_url","api_params","toString","revert_modification","row","$emit","api_formater","obj","res","pks","forEach","pk","getEntry","news","getNewEntries","perPage","modulus","page_count","Math","floor","start","page","end","concat","manager","changed_rows","change","__x2m_state","number_created","number_updated","number_deleted","number_linked","number_unlinked","goToNew","choice","goToPage","options","__change_state","templates","form_card_header_template","form_card","form_card_body_template","form_card_footer_template","part","getResource","getBreadcrumbInfo","updateQueryString","load_resource","provide","currentResource","children_is_modified","resourceComponents","type","updateModifyState","assign","updateChangeState","getEntryWrapper","getNewEntry","getNewEntryWrapper","getNewEntriesWrapper","pushInBreadcrumb","$refs","label","icon","createData","changes","updateData","patch","saved","deleteData","goToPreviousBreadcrumbElement","clearChange","goToList","breadcrumb_lenght","action","get_entry","uuid","get_new_entry","get_new_entries","inject","multi_header_component_name","config","page_header_component_name","pagination_size","readonly","isReadonly","additional_filter","build_additional_filter","selectors","x2m_resource","remote_columns","local_columns","each","zip","cols","newquery","revertData","modifyState","_data","update_change_object","pk2string","watch","custom","subResource","getResourceComponent","resourceManager","can_create","can_update","can_delete","forms","__uuid","waiting_value","resource_id","can_read","loadAsyncData","refresh","hidden_columns","filter","headers","safe_eval","hidden","title","toggleHiddenColumn","field","list","get_call_information","resource_type","server_call","$parent","loading","thumbnail","partIsReadonly","tabs","refreshCallbacks","headerComponentName","goToEdit","updateReadOnly","refresh_fields","getDefault","parse","fieldname","deleteEntry","callback","parse_query","uuidv1","registryRefreshCallback","indexOf","form","getClass","class","isHidden","getIsReadonly","readonlyParams","singleton","entry","identifiers","polymorphicform","onPageChange","filterSearch","tag_list_open","filteredDataArray","f","opt","goToNewPolymorphic","updateFilters","option","removeFilter","toggleTag","tag","removeTag","sortingPriority","defaultSortField","order","defaultSortOrder","perpage","default_filters","values","default_tags","default_header_component_name","selectedEntries","row_state","row_state_callback","offset","sort","join","selected","find","op","startsWith","v","from_x2m_with_a_newest_parent","_index","style_class","rest_api_formater","rest_api_params","limit","preop","onSort","existingPriority","onSortingPriorityRemoved","priority","regexWithOption","RegExp","regexWithoutOption","parseInt","split","queryStringValue","queryStringName","resWithOption","match","resWithoutOption","trim","prevous_target","previousBrowserTarget","next_target","nextBrowserTarget","goToPreviousPage","target","goToNextPage","isCheckable","is_checkable","checkedRows","checkedElements","barcode","VueBarcode","computed_boolean_checked","safe_eval_boolean","checked","component_template","slot","boolean","base","$t","listTemplate","thumbnailTemplate","updateValue","color","datetime","readonly_value","Date","updateDateTimeValue","toISOString","email","integer","format_min_max","function","parsed","jsonb","raw_value","getType","isRequired","isJsonInvalid","getMessage","$i18n","Number","toFixed","rounded","float","step","pow","rounded_value","decimal","reveal","richtext","VueEditor","selections","colors","selection","formated_value","getSelections","getStates","added","isDone","isDangerous","statusbar","string","timestamp","display","onClick","openResource","many2one","onSelect","beforeOnChange","RelationShipX2MList","one2many","RelationShipX2MThumbnail","x2mconfig","addState","actions","o2m_revert","__revert","o2m_add","o2m_update","o2m_delete","relation","many2many","isClosable","onUnSelect","many2manytags","component","defaultState","appLoaded","authenticated","previous_route","isLoaded","mutations","PushBreadcrumb","ClearBreadcrumbFrom","PopBreadcrumb","pop","ClearBreadcrumb","SET_LOGIN_PAGE","login_page","LOGIN","LOGOUT","UPDATE_PREVIOUS_ROUTE","UPDATE_ROOT_MENUS","UPDATE_USER_MENUS","UPDATE_GLOBAL","entries","OPEN_LEFT_MENU","UPDATE_CURRENT_LEFT_MENUS","UPDATE_RESOURCES","definitions","definition","updateDefinition","String","UPDATE_RESOURCE_TOGGLE_HIDDEN_COLUMN","Vuex","debug","process","storeDef","strict","createStore","Store","Router","routes","meta","requiresAuth","children","createRouter","store","router","beforeEach","to","from","proceed","matched","some","record","fullPath","install","datas","notify","$notify","locales","setLocaleMessage","reload","productionTip","Notifications","Buefy","defaultIconPack","startFuretUI","elementId","elementExists","getElementById","log","createComponents","sync","PluginDispatch","$mount","componentNames","elementName","declaration","klass","prototypes","getPrototypeFor","otherElementName","getComponentPrototype","mixins","includes","valueOf","toLowerCase","In","Not","Equal","a","b","Diff","Greater","GreaterOrEqual","Lesser","LesserOrEqual","IsTrue","IsFalse","And","reduce","current","Or","condition","now","toDate","eval","getTooltip","tooltip","tooltipPosition","tooltip_position","writable","writableParams","debounce","merge","sortBy","state_changes","ref_key","Array","isArray","val","copy_val","isMatch","element","style","slot_fields","get_slot_fields_for","getKey","getStyle","isFetching","tmp_value","choices","onChange","_onChange","getMoreAsyncData","filter_by","item","finally","eval_counter","count","functional","render","createElement","context","visible","attrs","counter"],"mappings":"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","file":"js/app.d7944928.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","import Vue from 'vue';\nimport VueI18n from 'vue-i18n';\n\nVue.use(VueI18n);\n\nexport const i18nConf = {\n  locale: 'en',\n  fallbackLocale: 'en',\n  messages: {\n    en: {\n      error: 'Error',\n      components: {\n        login: {\n          appbar: 'Log in',\n          button: 'Log in',\n          username: 'User name',\n          password: 'Password',\n        },\n        logout: {\n          button: 'Log out',\n        },\n        header: {\n          search: 'Search',\n          new: 'New',\n          edit: 'Edit',\n          cancel: 'Cancel',\n          save: 'Save',\n          apply: 'Apply',\n          delete: 'Delete',\n          notFound: 'No result found',\n          return: 'Return',\n          previous: 'Previous',\n          next: 'Next',\n          browse: 'Browse',\n          total: 'Total',\n          created: 'Created',\n          updated: 'Updated',\n          deleted: 'Deleted',\n          linked: 'Linked',\n          unlinked: 'Unlinked',\n        },\n        fields: {\n          common: {\n            required: 'This is a required field',\n          },\n          yesno: {\n            yes: 'Yes',\n            no: 'No',\n          },\n          json: {\n            invalid: 'Json is invalid',\n          },\n          relationship: {\n            no_more: 'No more datas found.',\n            not_found: 'No data found with current filter.',\n          },\n        },\n      },\n    },\n  },\n};\n\nexport const i18n = new VueI18n(i18nConf);\n","import moment from 'moment-timezone';\nimport { defineComponent } from './factory';\n\ndefineComponent('mixin-logo', {\n  prototype: {\n    computed: {\n      logo() {\n        return this.format_url('/furet-ui/logo');\n      },\n    },\n    methods: {\n      format_url(path) {\n        if (process.env.VUE_APP_API_REST_URL) {\n          return `${process.env.VUE_APP_API_REST_URL}${path}`;\n        }\n        return path\n      },\n    },\n  },\n});\n\ndefineComponent('date-display', {\n  prototype: {\n    methods: {\n      formatDate(date) {\n        if (date) {\n          const timezone = this.$store.state.global.userTimeZone;\n          moment.locale(document.documentElement.lang);\n          return moment(date).tz(timezone).format('LLL');\n        }\n        return '';\n      },\n    },\n  },\n});\n","import axios from 'axios';\nimport _ from 'underscore';\nimport { defineComponent } from './factory';\n\ndefineComponent('app', {\n  template: `\n    <div id=\"furet-ui-app\">\n      <furet-ui-appbar />\n      <notifications position=\"top center\"/>\n      <router-view v-bind:key=\"$route.fullPath\"></router-view>\n      <furet-ui-footer />\n    </div>`,\n});\n\ndefineComponent('furet-ui-appbar', {\n  template: `\n    <header class=\"hero is-primary\">\n      <furet-ui-appbar-header />\n      <furet-ui-appbar-body />\n      <furet-ui-appbar-footer />\n    </header>\n  `,\n});\n\ndefineComponent('furet-ui-appbar-header', {\n  template: `\n    <b-navbar type=\"is-primary\">\n      <template #brand>\n        <furet-ui-appbar-header-brand />\n      </template>\n      <template #start>\n        <furet-ui-appbar-header-menus />\n      </template>\n      <template #end>\n        <furet-ui-appbar-header-user />\n      </template>\n    </b-navbar>\n  `,\n  prototype: {\n    data() {\n      return {\n        isOpen: false,\n      };\n    },\n  },\n});\n\ndefineComponent('furet-ui-appbar-body', {\n  template: `\n    <div class=\"hero-body\">\n      <div class=\"container has-text-centered\">\n        <h1 class=\"title\">\n          Furet UI\n        </h1>\n        <p class=\"subtitle\">\n          Web Client for all your AnyBlok backend\n        </p>\n      </div>\n    </div>\n  `,\n});\n\ndefineComponent('furet-ui-appbar-footer', {\n  template: `\n    <div class=\"hero-foot\" />\n  `,\n});\n\ndefineComponent('furet-ui-appbar-header-brand', {\n  template: `\n    <b-navbar-item tag=\"router-link\" :to=\"{ path: '/' }\">\n      <img class=\"image\" v-bind:src=\"logo\" />\n    </b-navbar-item>\n  `,\n  extend: ['mixin-logo'],\n});\n\ndefineComponent('furet-ui-appbar-header-menus', {\n  template: `\n    <div class=\"navbar-start\">\n      <b-navbar-item v-for=\"menu in space_menus\" v-bind:key=\"menu.code\" v-on:click=\"selectMenu(menu)\" tab=\"dir\" :active=\"menu.code === space_code ? true : false\">\n          <button :class=\"['button', 'is-primary', menu.code === space_code ? 'is-active' : '']\">\n            <b-icon\n              v-bind:icon=\"menu.icon.code\"\n              v-bind:type=\"menu.icon.type\">\n            </b-icon>\n            <span>{{ menu.label }}</span>\n          </button>\n      </b-navbar-item>\n    </div>\n  `,\n  prototype: {\n    computed: {\n      space_code () {\n        return this.$store.state.route.params.code;\n      },\n      space_menus () {\n        const menus = this.$store.state.global.root_menus;\n        return menus;\n      }\n    },\n    methods: {\n      selectMenu (menu) {\n        this.$router.push(menu.path);\n        this.$store.commit(\"ClearBreadcrumb\");\n        this.$store.commit(\"CLEAR_CHANGE\");\n      }\n    }\n  },\n});\n\ndefineComponent('furet-ui-appbar-header-user', {\n  template: `\n    <div>\n      <furet-ui-appbar-header-logged-user v-if=\"loggedIn\" />\n      <furet-ui-appbar-header-unlogged-user v-else />\n    </div>\n  `,\n  prototype: {\n    computed: {\n      loggedIn () {\n        return this.$store.getters.loggedIn;\n      },\n    },\n  },\n});\n\ndefineComponent('furet-ui-appbar-header-unlogged-user', {\n  template: `\n    <b-navbar-item tag=\"div\">\n      <div class=\"buttons\">\n        <a class=\"button is-light\" @click=\"call_login_page\">\n          {{ $t('components.login.appbar') }}\n        </a>\n      </div>\n    </b-navbar-item>\n  `,\n  prototype: {\n    methods: {\n      call_login_page () {\n        this.$router.push({path: '/login'});\n      },\n    },\n  },\n});\n\ndefineComponent('furet-ui-appbar-header-logged-user', {\n  template: `\n    <b-navbar-dropdown :label=\"userName\" hoverable >\n      <b-navbar-item v-for=\"menu in user_menus\" :key=\"menu.label\">\n        <a v-on:click=\"routerPush(menu.path)\" class=\"button is-primary is-inverted is-fullwidth\">\n          {{ menu.label }}\n        </a>\n      </b-navbar-item>\n      <b-navbar-item>\n        <a v-on:click=\"logOut\" class=\"button is-primary is-inverted is-fullwidth\">\n          {{ $t('components.logout.button') }}\n        </a>\n      </b-navbar-item>\n    </b-navbar-dropdown>\n  `,\n  prototype: {\n    computed: {\n      userName () {\n        return this.$store.state.global.userName;\n      },\n      user_menus() {\n        return this.$store.state.global.user_menus;\n      },\n    },\n    methods: {\n      call_login_page () {\n        this.$router.push({path: '/login'});\n      },\n      routerPush (path) {\n        this.$router.push({path});\n      },\n      logOut() {\n        axios.post('/furet-ui/logout')\n          .then((result) => {\n            this.$dispatchAll(result.data);\n          })\n          .catch((error) => {\n            console.error(error);\n          })\n      },\n    },\n  },\n});\n\ndefineComponent('furet-ui-footer', {\n  template: `\n    <footer class=\"footer\">\n      <div class=\"content has-text-centered is-success\">\n        <p>\n          <strong>Furet UI</strong> by <a href=\"https://github.com/jssuzanne\">Jean-Sébastien Suzanne</a>. \n          The source code is licensed <a href=\"http://opensource.org/licenses/MPL-2.0\">MPL-2.0</a> and \n          is available on <a href=\"https://github.com/AnyBlok/furet_ui\">Github</a>.\n        </p>\n      </div>\n    </footer>\n  `,\n});\n\ndefineComponent('furet-ui-menu', {\n    template: `\n      <ul class=\"menu-list\">\n        <b-loading v-bind:active.sync=\"isLoading\"></b-loading>\n        <li v-for=\"menu in menus\">\n            <a v-on:click=\"onClickMenu(menu)\"\n               v-bind:class=\"[menu.id == menuId ? 'is-active' : '']\"\n            >\n              <b-icon\n                v-bind:icon=\"menu.icon_code\"\n                v-bind:type=\"menu.icon_type\">\n              </b-icon>\n              <span v-if=\"menu.label\">\n                  {{ menu.label }}\n              </span>\n            </a>\n            <furet-ui-menu\n                v-if=\"(menu.children || []).length != 0\"\n                v-bind:menus=\"menu.children || []\"\n                v-bind:menuId=\"menuId\"\n                v-bind:code=\"code\"\n            />\n        </li>\n      </ul>\n    `,\n    prototype: {\n      props: ['menus', 'menuId', 'code'],\n      data () {\n        return {\n          isLoading: false,\n        }\n      },\n      methods: {\n        onClickMenu (menu) {\n          if (!!menu.resource == true) {\n            // TODO CLEAR DATA\n            const query = {};\n            if (menu.tags) query.tags = menu.tags\n            if (menu.order_by) query.orders = menu.order_by\n            if (_.keys(menu.filters).length) {\n              query.filters = JSON.stringify(menu.filters);\n            }\n            this.$router.push({\n              name: 'resource', \n              params: {code: this.code, menuId: menu.id, id: menu.resource},\n              query,\n            });\n            this.$store.commit(\"ClearBreadcrumb\");\n            this.$store.commit(\"CLEAR_CHANGE\");\n          } else if (menu.url !== undefined) {\n            this.$store.commit(\"ClearBreadcrumb\");\n            this.$store.commit(\"CLEAR_CHANGE\");\n            if (menu.newtable) window.open(menu.url)\n            else location.replace(menu.url)\n          } else if (menu.method !== undefined) {\n            const params = {};\n            this.isLoading = true;\n            axios.post(`/furet-ui/resource/0/model/${menu.model}/call/${menu.method}`, params)\n              .then((response) => {\n                this.isLoading = false;\n                this.$dispatchAll(response.data)\n              })\n              .catch(() => {\n                this.isLoading = false;\n              });\n          }\n        }\n      }\n    }\n});\n\n/**\n * furet-ui-breadcrumb is used to display a navigational aid to keep track\n * and maintain awareness of the user location.\n *\n * Its state is saved in an Array to the `global.breadcrumb` vuex store.\n * Each element is an Object::\n *\n *  {\n *     icon: \"home\",  // a fontAwesome icon name https://fontawesome.com/\n *     label: \"Home\", // Name of the element in the breadcrumb\n *     route: Object  // A vue-router route which is saved to restore when\n *                    // user want's to come back.\n *   }\n */\ndefineComponent(\"furet-ui-breadcrumb\", {\n  template: `\n  <nav class=\"breadcrumb has-succeeds-separator\" aria-label=\"breadcrumbs\">\n    <ul>\n      <li v-for=\"(item, index) in history\" :key=\"index\">\n        <a v-on:click=\"backToResource(index, $event)\">\n          <b-icon\n            v-if=\"item.icon\"\n            :icon=\"item.icon\"\n            size=\"is-small\" />\n          <span>{{ item.label }}</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n  `,\n  prototype: {\n    computed: {\n      history () {\n        return this.$store.state.global.breadcrumb;\n      }\n    },\n    methods: {\n      backToResource: function(index, _event) {\n        this.$router.push(this.$store.state.global.breadcrumb[index].route);\n        this.$store.commit(\"ClearBreadcrumbFrom\", index);\n        this.$store.commit(\"CLEAR_CHANGE\");\n      }\n    }\n  }\n});\n\ndefineComponent('furet-ui-space', {\n  template: `\n    <div \n        class=\"columns is-gapless\"\n        v-bind:style=\"{marginTop: '5px'}\"\n    >\n      <div v-if=\"isOpenLeft && left_menus.length > 0\" class=\"column is-one-quarter is-half-mobile\">\n        <aside class=\"menu\" v-bind:style=\"{padding: '5px'}\">\n          <furet-ui-menu \n            v-bind:menus=\"left_menus\" \n            v-bind:menuId=\"menuId\" \n            v-bind:code=\"code\"\n          />\n        </aside>\n      </div>\n      <div class=\"column\" v-bind:style=\"{paddingLeft: '10px', paddingRight: '10px'}\">\n        <nav class=\"level\">\n          <div class=\"level-left\">\n            <div class=\"level-item\">\n              <a class=\"button\" v-on:click=\"isOpenLeft = !isOpenLeft\" v-if=\"left_menus.length > 0\">\n                <i class=\"fa fa-bars fa-2x\" aria-hidden=\"true\"></i>\n              </a>\n            </div>\n            <div class=\"level-item\">\n              <furet-ui-breadcrumb/>\n            </div>\n          </diV>\n        </nav>\n        <router-view v-bind:key=\"$route.fullPath\"></router-view>\n      </div>\n    </div>\n  `,\n  prototype: {\n    props: ['code', 'menuId'],\n    computed: {\n      isOpenLeft: {\n        get () {\n          return this.$store.state.global.isOpenLeft;\n        },\n        set (newvalue) {\n          this.$store.commit('OPEN_LEFT_MENU', newvalue);\n        },\n      },\n      left_menus () {\n        return this.$store.state.global.left_menus;\n      },\n    },\n    mounted() {\n      axios.get(`furet-ui/space/${this.code}`).then((result) => {\n        this.$dispatchAll(result.data);\n      });\n    }\n  },\n});\n","import { defineComponent } from './factory';\n\ndefineComponent('homepage', {\n  template: `\n    <div class=\"container has-text-centered\">\n      <h1 class=\"title\">Welcome in Furet UI</h1>\n      <div class=\"column is-half is-offset-one-quarter\">\n        <img class=\"image\" v-bind:src=\"logo\" alt=\"Logo\">\n      </div>\n    </div>\n  `,\n  extend: ['mixin-logo'],\n});\n","export const loginPages = {};\nexport default {\n    loginPages,\n}\n","import  {loginPages}  from './login-pages';\nimport { defineComponent } from '../factory';\n\ndefineComponent('furet-ui-waiting-login-page', {\n  template: `\n    <div class=\"container\"> \n        <strong>Waiting loading component</strong>\n    </div>\n  `,\n});\n\ndefineComponent('furet-ui-login-page-not-found', {\n  template: `\n    <div class=\"container\"> \n        <strong>Login page '{{ name }}' not found</strong>\n    </div>\n  `,\n  prototype: {\n    props: ['name'],\n  },\n});\n\ndefineComponent('furet-ui-login', {\n  template: `\n    <component \n      v-bind:is=\"loginPageComponent\" \n      v-bind:name=\"loginPageComponentName\" \n    />`,\n  prototype: {\n    computed: {\n      loginPageComponentName () {\n        return this.$store.state.global.loginPage;\n      },\n      loginPageComponent () {\n        const loginPage = this.loginPageComponentName;\n        if (loginPage === undefined) return 'furet-ui-waiting-resource';\n        if (loginPages[loginPage] !== undefined) return loginPages[loginPage];\n        return 'furet-ui-login-page-not-found';\n      },\n    },\n  },\n});\n","import axios from \"axios\";\nimport { defineComponent } from \"../factory\";\nimport { loginPages } from \"./login-pages\";\n\ndefineComponent(\"furet-ui-login-password\", {\n  template: `\n    <div class=\"container has-text-centered\">\n      <form v-on:submit=\"logIn\">\n         <furet-ui-page-errors v-bind:errors=\"errors\" />\n         <b-field v-bind:label=\"$t('components.login.username')\">\n           <b-input v-model=\"username\" expanded></b-input>\n         </b-field>\n         <b-field v-bind:label=\"$t('components.login.password')\">\n           <b-input v-model=\"password\" type=\"password\" expanded password-reveal></b-input>\n         </b-field>\n         <br />\n         <div class=\"buttons\">\n           <b-button \n             type=\"is-primary\" \n             native-type=\"submit\" \n             expanded\n             v-bind:disabled=\"is_not_clickable\"\n           >\n           {{ $t('components.login.button') }}\n           </b-button>\n         </div>\n      </form>\n    </div>\n  `,\n  prototype: {\n    data() {\n      return {\n        username: \"\",\n        password: \"\",\n        errors: [],\n      };\n    },\n    computed: {\n      is_not_clickable() {\n        if (!this.username) return true;\n        if (!this.password) return true;\n        return false;\n      },\n    },\n    methods: {\n      logIn() {\n        if (this.is_not_clickable) return;\n        this.errors = [];\n        axios\n          .post(\"/furet-ui/login\", {\n            login: this.username,\n            password: this.password,\n            redirect: this.$route.query.redirect,\n          })\n          .then((result) => {\n            this.$dispatchAll(result.data);\n          })\n          .catch((error) => {\n            this.errors = [error];\n          });\n      },\n    },\n  },\n});\n\nloginPages.password = \"furet-ui-login-password\";\n","import axios from \"axios\";\nimport { defineComponent } from \"../factory\";\nimport { loginPages } from \"./login-pages\";\n\ndefineComponent(\"furet-ui-login-oidc\", {\n  template: `\n    <div class=\"container has-text-centered\">\n        <furet-ui-page-errors v-bind:errors=\"errors\" />\n        <b-button \n          type=\"is-primary\" \n          @click=\"logIn\"\n        >Connect with Gitlab</b-button>\n    </div>\n  `,\n  prototype: {\n    data() {\n      return {\n        errors: [],\n      };\n    },\n    computed: {},\n    methods: {\n      logIn() {\n        this.errors = [];\n        axios\n          .post(\"/furet-ui/oidc/login\", {\n            redirect: this.$route.query.redirect,\n          })\n          .then((result) => {\n            document.location.href = result.data;\n          })\n          .catch((error) => {\n            this.errors = [error];\n          });\n      },\n    },\n  },\n});\n\nloginPages.oidc = \"furet-ui-login-oidc\";\n","import { defineComponent } from '../factory';\nexport const resources = {};\nexport default {\n    resources,\n}\n\n\ndefineComponent('furet-ui-resource-with-search', {\n  extend: ['furet-ui-resource'],\n  prototype: {\n    props: ['id', 'manager'],\n    computed: {\n      rest_api_url () {\n        return `/furet-ui/resource/${this.id}/crud`;\n      },\n      api_params () {\n        return {\n          'context[model]': this.resource.model,\n          'context[fields]': this.resource.fields.toString(),\n        }\n      }\n    },\n    methods: {\n      revert_modification(row){\n        this.$emit(\"revert-data\", row)\n      },\n      api_formater (obj, data) {\n        this.$dispatchAll(data.data);\n        let res = [];\n        if(data.pks === undefined) data.pks = [];\n        if(data.total === undefined) data.total = 0;\n\n        data.pks.forEach(pk => {\n          res.push(this.getEntry(this.resource.model, pk))\n        });\n        const news = this.getNewEntries(this.resource.model);\n        const total = data.total + news.length;\n        if (res.length < obj.perPage){\n          const modulus = data.total % obj.perPage;\n          const page_count = Math.floor(data.total / obj.perPage) + 1;\n          let start = ((obj.page - page_count) * obj.perPage);\n          if(start > 0 ){\n            start -= modulus;\n          }\n          const end = start + obj.perPage - res.length;\n          obj.data = res.concat(news.slice(start, end));\n        } else {\n          obj.data = res;\n        }\n        data.total = total;\n        obj.total = total;\n\n        let created = 0;\n        let updated = 0;\n        let deleted = 0;\n        let linked = 0;\n        let unlinked = 0;\n\n        (this.manager.changed_rows || []).forEach(change => {\n          switch (change.__x2m_state) {\n            case 'ADDED':\n              created++;\n              break;\n            case 'UPDATED':\n              updated++;\n              break;\n            case 'DELETED':\n              deleted++;\n              break;\n            case 'LINKED':\n              linked++;\n              break;\n            case 'UNLINKED':\n              unlinked++;\n              break;\n          }\n        })\n        obj.number_created = created;\n        obj.number_updated = updated;\n        obj.number_deleted = deleted;\n        obj.number_linked = linked;\n        obj.number_unlinked = unlinked;\n      },\n      goToNew(choice) {\n        this.$emit('go-to-new', choice);\n      },\n      goToPage(row, options) {\n        if(row.__change_state !== \"delete\") this.$emit('go-to-page', row, options);\n      },\n    },\n  },\n});\n\n\ndefineComponent('furet-ui-resource-with-ssr', {\n  extend: ['furet-ui-resource'],\n  prototype: {\n    props: ['id', 'manager'],\n    data () {\n      return {\n        templates: {},\n      };\n    },\n    computed: {\n      form_card_header_template () {\n        return this.form_card('header_template');\n      },\n      form_card_body_template () {\n        return this.form_card('body_template');\n      },\n      form_card_footer_template () {\n        return this.form_card('footer_template');\n      },\n    },\n    methods: {\n      form_card (part) {\n        if (this.templates[part] !== undefined) return this.templates[part];\n        const template = {\n          template: '<div></div>',\n          name: `${part}_${this.resource.id}`,\n          props: ['data', 'resource'],\n        }\n        if (this.resource[part]) {\n            template.template = this.resource[part];\n            this.templates[part] = template;\n        }\n        return template;\n      },\n    },\n  },\n});\n","import _ from 'underscore';\nimport Vue from 'vue';\nimport axios from 'axios';\nimport  {resources}  from './resources';\nimport { defineComponent } from '../factory';\nimport { update_change_object, pk2string } from \"../../store/modules/data\";\n\ndefineComponent('furet-ui-waiting-resource', {\n  template: `\n    <div class=\"container\"> \n        <strong>Waiting loading component</strong>\n    </div>\n  `,\n});\n\ndefineComponent('furet-ui-resource-not-found', {\n  template: `\n    <div class=\"container\"> \n        <strong>Resource type '{{ type }}' not found</strong>\n    </div>\n  `,\n  prototype: {\n    props: ['type']\n  },\n});\n\ndefineComponent('furet-ui-resource', {\n  prototype: {\n    props: ['id'],\n    computed: {\n      resource () {\n        return this.getResource(this.id);\n      },\n    },\n    methods: {\n      /** This method should be implement in subclass to return\n       * label and icon to be displayed in breadcrumb\n       *\n       * @return {Object} {label: \"Label to display in breadcrumb\", icon: \"list\"} -\n       *    Where `label` and `icon` are String.\n       *    `icon` is a https://fontawesome.com icon name\n       */\n      getBreadcrumbInfo() {\n        throw new Error(\n          `You must implement this method **getBreadcrumbInfo** in subclass,\n          it should return a dict:\n          {label: \"Label to display in breadcrumb\", icon: \"list\"}`\n        );\n      },\n      getResource (id) {\n        return this.$store.state.resource[id];\n      },\n      updateQueryString (query) {\n        this.$emit('update-query-string', query);\n      },\n      load_resource (id) {\n        axios\n          .get(`furet-ui/resource/${id}`).then((result) => {\n            this.$dispatchAll(result.data);\n          })\n          .catch(() => {\n            //console.error(error)\n          });\n      },\n    },\n    provide: function () {\n      return {\n        currentResource: this,\n      }\n    },\n  },\n});\n\ndefineComponent('furet-ui-resource-manager', {\n  extend: ['furet-ui-resource'],\n  prototype: {\n    data () {\n      return {\n        manager: {\n          children_is_modified: false,\n        },\n        errors: [],\n      };\n    },\n    computed: {\n      resourceComponents () {\n        if (this.resource === undefined) return 'furet-ui-waiting-resource';\n        if (resources[this.resource.type] !== undefined) return resources[this.resource.type];\n        return 'furet-ui-resource-not-found';\n      },\n    },\n    methods: {\n      updateModifyState (state) {\n        const children_is_modified = state;\n        this.manager = Object.assign({}, this.manager, { children_is_modified });\n      }\n    },\n    provide: function () {\n      return {\n        updateChangeState: this.updateChangeState,\n        updateModifyState: this.updateModifyState,\n        getEntry: this.getEntryWrapper,\n        getNewEntry: this.getNewEntryWrapper,\n        getNewEntries: this.getNewEntriesWrapper,\n      }\n    },\n  },\n});\n\ndefineComponent('furet-ui-space-resource-manager', {\n  template: `\n    <div>\n      <furet-ui-page-errors v-bind:errors=\"errors\"/>\n      <component \n        ref=\"resource\"\n        v-bind:is=\"resourceComponents\" \n        v-bind:id=\"id\" \n        v-bind:manager=\"manager\" \n        v-on:update-query-string=\"updateQueryString\"\n        v-on:create-data=\"createData\"\n        v-on:update-data=\"updateData\"\n        v-on:delete-data=\"deleteData\"\n        v-on:clear-change=\"clearChange\"\n        v-on:go-to-list=\"goToList\"\n        v-on:push-in-breadcrumb=\"pushInBreadcrumb\"\n      />\n    </div>\n  `,\n  extend: ['furet-ui-resource-manager'],\n  prototype: {\n    methods: {\n      updateQueryString (query) {\n        this.$router.push({ query });\n      },\n      /** This method add an element to the breadcrumb\n       *\n       * It gets label and icon information on child resource component\n       * calling ``getBreadcrumbInfo`` to know the icon and label to display\n       * and commit the new element to vuex store with the current route.\n      */\n      pushInBreadcrumb (){\n        const {label, icon} = this.$refs.resource.getBreadcrumbInfo();\n        this.$store.commit(\n          \"PushBreadcrumb\", {\n          route: this.$route,\n          label,\n          icon\n        });\n        this.$store.commit(\"CLEAR_CHANGE\");\n      },\n      createData (data) {\n        const query = Object.assign({}, this.$route.query);\n        data.changes = this.$store.state.data.changes;\n        this.errors = [];\n        axios.post(`/furet-ui/resource/${this.id}/crud`, data)\n          .then((response) => {\n            this.$store.commit('CLEAR_CHANGE')\n            query.pks = JSON.stringify(response.data.pks);\n            this.updateQueryString(query)\n          })\n          .catch((error) => {\n            this.errors = error.response.data.errors;\n          });\n      },\n      updateData (data) {\n        data.changes = this.$store.state.data.changes;\n        this.errors = [];\n        axios.patch(`/furet-ui/resource/${this.id}/crud`, data)\n          .then(() => {\n            this.$refs.resource.saved();\n          })\n          .catch((error) => {\n            this.errors = error.response.data.errors;\n          });\n      },\n      deleteData (data) {\n        this.errors = [];\n        axios.delete(`/furet-ui/resource/${this.id}/crud`, {params: data})\n          .then(() => {\n            this.$store.commit('CLEAR_CHANGE');\n            this.$store.commit('DELETE_DATA', data);\n            this.goToPreviousBreadcrumbElement();\n          })\n          .catch((error) => {\n            this.errors = error.response.data.errors;\n          });\n      },\n      clearChange () {\n        this.$store.commit('CLEAR_CHANGE')\n      },\n      goToList() {\n        this.goToPreviousBreadcrumbElement();\n      },\n      /**\n       * Go back to the previous breadcrumb element. As if the user\n       * clicked on the last element.\n       *\n       * If there is no previous element it clear the vue-router.\n       */\n      goToPreviousBreadcrumbElement() {\n          const breadcrumb_lenght = this.$store.state.global.breadcrumb.length;\n          let route;\n          if (breadcrumb_lenght > 0){\n            route = this.$store.state.global.breadcrumb[\n              this.$store.state.global.breadcrumb.length - 1\n            ].route;\n          } else {\n            route = {}\n          }\n          this.$router.push(route);\n          this.$store.commit(\"PopBreadcrumb\");\n          this.$store.commit(\"CLEAR_CHANGE\");\n      },\n      updateChangeState (action) {\n        this.$store.commit('UPDATE_CHANGE', action)\n      },\n      getEntryWrapper (model, pk) {\n        return this.$store.getters.get_entry(model, pk)\n      },\n      getNewEntryWrapper (model, uuid) {\n        return this.$store.getters.get_new_entry(model, uuid)\n      },\n      getNewEntriesWrapper (model, uuid) {\n        return this.$store.getters.get_new_entries(model, uuid)\n      },\n    },\n    provide() {\n      return {\n        pushInBreadcrumb: this.pushInBreadcrumb\n      }\n    },\n    mounted() {\n      const query = this.$route.query;\n      // this.manager.query = Object.assign({}, query);\n      Vue.set(this.manager, 'query', Object.assign({}, query))\n      this.load_resource(this.id)\n    }\n  },\n});\n\ndefineComponent(\"furet-ui-form-field-resource-manager\", {\n  template: `\n    <div v-bind:style=\"{width: '100%'}\" class=\"box\">\n        <furet-ui-page-errors v-bind:errors=\"errors\"/>\n        <component \n          ref=\"resource\"\n          v-bind:is=\"resourceComponents\" \n          v-bind:id=\"id\" \n          v-bind:config=\"config\"\n          v-bind:manager=\"manager\" \n          v-on:update-query-string=\"updateQueryString\"\n          v-on:create-data=\"createData\"\n          v-on:update-data=\"updateData\"\n          v-on:delete-data=\"deleteData\"\n          v-on:revert-data=\"revertData\"\n          v-on:clear-change=\"clearChange\"\n          v-on:modify-state=\"modifyState\"\n          v-on:go-to-list=\"goToList\"\n        />\n    </div>\n  `,\n  extend: [\"furet-ui-resource-manager\"],\n  prototype: {\n    props: [\"value\", \"x2m_resource\", \"isReadonly\", \"config\"],\n    inject: [\"getEntry\", \"getNewEntry\", \"getNewEntries\"],\n    data() {\n      return {\n        changes: {},\n        manager: {\n          multi_header_component_name: this.config.multi_header_component_name,\n          page_header_component_name: this.config.page_header_component_name,\n          pagination_size: this.config.pagination_size,\n          changed_rows: this.value || [],\n          readonly: this.isReadonly,\n          query: { additional_filter: this.build_additional_filter() },\n          selectors: this.x2m_resource.selectors || {},\n          children_is_modified: false\n        }\n      };\n    },\n    methods: {\n      build_additional_filter() {\n        let filters = {};\n        if (this.config.remote_columns && this.config.local_columns) {\n          _.each(\n            _.zip(this.config.remote_columns, this.config.local_columns),\n            cols => {\n              filters[cols[0]] = this.x2m_resource.pks[cols[1]];\n            }\n          );\n        }\n        return filters;\n      },\n      updateQueryString(newquery) {\n        const query = Object.assign({}, newquery);\n        if (query.mode !== \"form\")\n          query.additional_filter = this.build_additional_filter();\n        this.manager = Object.assign({}, this.manager, { query });\n      },\n      goToList() {\n        const query = {additional_filter: this.build_additional_filter()};\n        this.manager = Object.assign({}, this.manager, { query });\n        this.$refs.resource.$refs.resource.readonly = true;\n        this.$refs.resource.mode = \"multi\";\n        this.clearChange();\n      },\n      createData(data) {\n        data.changes = this.changes;\n        data.changes[data[\"model\"]][\"new\"][data[\"uuid\"]] = Object.assign(\n          data.changes[data[\"model\"]][\"new\"][data[\"uuid\"]],\n          this.build_additional_filter()\n        );\n        this.$emit(\"add\", data);\n        this.goToList();\n      },\n      updateData(data) {\n        data.changes = this.changes;\n        this.$emit(\"update\", data);\n        this.goToList();\n      },\n      deleteData(data) {\n        this.$emit(\"delete\", data);\n        this.goToList();\n      },\n      revertData(data){\n        this.$emit(\"revert\", data);\n      },\n      modifyState(state){\n        this.$emit(\"modify-state\", state);\n      },\n      clearChange(_data) {\n        this.changes = {}; // clear the changes\n      },\n      updateChangeState(action) {\n        this.changes = update_change_object(this.changes, action);\n      },\n      getEntryWrapper(model, pk) {\n        const res = this.getEntry(model, pk);\n        const changes = (this.changes[model] || {})[pk2string(pk)] || {};\n        return Object.assign({}, res, changes);\n      },\n      getNewEntryWrapper(model, uuid) {\n        const res = this.getNewEntry(model, uuid);\n        const changes = ((this.changes[model] || {}).new || {})[uuid] || {};\n        return Object.assign({}, res, changes);\n      },\n      getNewEntriesWrapper(model) {\n        return this.getNewEntries(model);\n      }\n    },\n    watch: {\n      isReadonly() {\n        this.manager.readonly = this.isReadonly;\n      },\n      value() {\n        const query = Object.assign({}, this.manager.query, {\n          additional_filter: this.build_additional_filter()\n        });\n        this.manager = Object.assign({}, this.manager, { query, changed_rows: this.value });\n      }\n    },\n    mounted() {\n      this.load_resource(this.id);\n    }\n  }\n});\n","import { resources } from './resources';\nimport { defineComponent } from '../factory';\n\n\ndefineComponent('furet-ui-resource-custom', {\n  template : `\n    <component \n      v-bind:is=\"resource.component\" \n      v-bind:manager=\"manager\" \n      v-bind:id=\"id\" \n      v-on:update-query-string=\"updateQueryString\"\n      />\n  `,\n  extend: ['furet-ui-resource'],\n  prototype: {\n    props: ['id', 'manager'],\n    methods: {\n      updateQueryString (query) {\n        this.$emit('update-query-string', query);\n      }\n    },\n  },\n});\nresources.custom = 'furet-ui-resource-custom';\n","import { resources } from './resources';\nimport { defineComponent } from '../factory';\n\n\ndefineComponent('furet-ui-resource-set', {\n  template : `\n    <keep-alive>\n      <component \n        ref=\"resource\"\n        v-bind:is=\"getResourceComponent\" \n        v-bind:id=\"subResource.id\" \n        v-bind:key=\"subResource.id\" \n        v-bind:type=\"subResource.type\" \n        v-bind:manager=\"resourceManager\" \n\n        v-on:update-query-string=\"updateQueryString\"\n        v-on:create-data=\"createData\"\n        v-on:update-data=\"updateData\"\n        v-on:delete-data=\"deleteData\"\n        v-on:revert-data=\"revertData\"\n        v-on:clear-change=\"clearChange\"\n        v-on:modify-state=\"modifyState\"\n\n        v-on:go-to-new=\"goToNew\"\n        v-on:go-to-page=\"goToPage\"\n        v-on:go-to-list=\"goToList\"\n      />\n    </keep-alive>\n  `,\n  extend: ['furet-ui-resource'],\n  prototype: {\n    props: ['manager', 'config'],\n    computed: {\n      subResource () {\n        return this.getResource(this.resource[this.manager.mode])\n      },\n      getResourceComponent () {\n        const resource = this.subResource;\n        if (resource === undefined) return 'furet-ui-waiting-resource';\n        if (resources[resource.type] !== undefined) return resources[resource.type];\n        return 'furet-ui-resource-not-found';\n      },\n      resourceManager () {\n        return Object.assign(\n          {\n              'can_create': this.resource.can_create,\n              'can_update': this.resource.can_update,\n              'can_delete': this.resource.can_delete,\n              'create_choices': this.resource.forms || [],\n          }, \n          this.manager);\n      },\n    },\n    methods: {\n      updateQueryString (query) {\n        this.$emit('update-query-string', query);\n      },\n      goToList () {\n        this.$emit('go-to-list');\n      },\n      createData (data) {\n        this.$emit('create-data', data);\n      },\n      updateData (data) {\n        this.$emit('update-data', data);\n      },\n      deleteData (data) {\n        this.$emit('delete-data', data);\n      },\n      revertData (row) {\n        const pks = {}\n        this.resource.pks.forEach(pk => {\n            pks[pk] = row[pk]\n        })\n\n        const action = {\n          model: this.config.model,\n          pks: pks,\n          uuid: row.__uuid,\n        }\n\n        this.$emit('revert-data', action);\n      },\n      modifyState(state){\n        this.$emit(\"modify-state\", state);\n      },\n      clearChange (data) {\n        this.$emit('clear-change', data);\n      },\n      goToNew (choice) {\n        // add to breadscrumb\n        const query = {mode: 'form'};\n        if (choice !== undefined) {\n            query.waiting_value = JSON.stringify(choice.waiting_value);\n            query.resource_id = choice.resource_id;\n        }\n        this.$emit('push-in-breadcrumb');\n        this.$emit('update-query-string', query);\n      },\n      goToPage (row) {\n        if (! this.resource.can_read) return\n        if (row.__uuid) {\n          this.$emit('update-query-string', {mode: 'form', uuid: row.__uuid})\n        } else {\n          this.$emit('push-in-breadcrumb')\n          const pks = {}\n          this.resource.pks.forEach(pk => {\n              pks[pk] = row[pk]\n          })\n          this.$emit('update-query-string', {mode: 'form', pks: JSON.stringify(pks)})\n        }\n      },\n      saved() {\n        this.$refs.resource.goToPage()\n        this.$refs.resource.loadAsyncData()\n      },\n      getBreadcrumbInfo(){\n        return this.$refs.resource.getBreadcrumbInfo();\n      },\n      refresh () {\n        this.$refs.resource.refresh()\n      },\n    },\n    watch: {\n      manager () {\n        const query = this.manager.query || {};\n        if (query.mode !== undefined) this.manager.mode = query.mode;\n        else this.manager.mode = 'multi';\n      },\n    },\n    created () {\n      const query = this.manager.query || {};\n      if (query.mode !== undefined) this.manager.mode = query.mode;\n      else this.manager.mode = 'multi';\n    },\n  },\n});\nresources.set = 'furet-ui-resource-set';\n","import _ from 'underscore';\nimport { resources } from './resources';\nimport { safe_eval } from '../fields/common';\nimport { defineComponent } from '../factory';\nimport axios from 'axios';\n\n\ndefineComponent('furet-ui-resource-list', {\n  template : `\n    <furet-ui-list\n      ref=\"list\"\n      v-bind:title=\"resource.title\"\n      v-bind:default_filters=\"resource.filters || []\"\n      v-bind:default_tags=\"resource.tags || []\"\n      v-bind:default_header_component_name=\"manager.multi_header_component_name || null\"\n      v-bind:perpage=\"resource.perpage\"\n      v-bind:can_go_to_new=\"manager.can_create\"\n      v-bind:go_to_new_choices=\"manager.create_choices\"\n      v-bind:rest_api_url=\"rest_api_url\"\n      v-bind:rest_api_params=\"api_params\"\n\n      v-bind:rest_api_formater=\"api_formater\"\n      v-bind:query=\"manager.query\"\n      v-bind:readonly=\"manager.readonly\"\n      v-bind:pagination_size=\"manager.pagination_size\"\n\n      v-on:update-query-string=\"updateQueryString\"\n      v-on:go-to-new=\"goToNew\"\n      v-on:go-to-page=\"goToPage\"\n    >\n      <template slot=\"hidden_columns\">\n        <section v-if=\"hidden_columns.length\">\n          <b-field grouped group-multiline>\n            <div \n              v-for=\"header in hidden_columns\"\n              v-bind:key=\"header.name\"\n              class=\"control\"\n            >\n              <b-checkbox \n                v-bind:value=\"!header.column_column\"\n                v-on:input=\"toggleHiddenColumn(header.name)\"\n              > \n                  {{ header.label }}\n              </b-checkbox>\n            </div>\n          </b-field>\n        </section>\n      </template>\n      <template slot=\"actions\" slot-scope=\"props\">\n        <furet-ui-list-button \n          v-for=\"button in resource.buttons\" \n          v-bind:key=\"button.call\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"props.data\"\n          v-bind:config=\"button\" />\n      </template>\n      <template slot-scope=\"props\">\n        <b-table-column class=\"is-action\">\n          <a class=\"button is-outlined\" v-on:click=\"revert_modification(props.row)\">\n            <b-icon icon=\"redo-alt\" size=\"is-small\"/>\n          </a>\n        </b-table-column>\n        <b-table-column \n          v-for=\"header in resource.headers\" \n          class=\"is-list-cell\"\n          v-bind:key=\"header.name\"\n          v-bind:field=\"typeof header.sortable === 'string'? header.sortable : header.name\" \n          v-bind:label=\"header.label\" \n          v-bind:sortable=\"typeof header.sortable === 'string'? true: header.sortable\"\n          v-bind:visible=\"!header['hidden'] && !safe_eval(header['hidden-column'], props.row)\"\n          >\n            <component \n              v-bind:is=\"header.component\" \n              v-bind:config=\"header\"\n              v-bind:resource=\"resource\"\n              v-bind:data=\"props.row\" />\n        </b-table-column>\n      </template>\n    </furet-ui-list>\n  `,\n  extend: ['furet-ui-resource-with-search'],\n  prototype: {\n    props: ['id', 'manager'],\n    inject: ['getEntry', 'getNewEntries'],\n    computed: {\n      hidden_columns () {\n        return _.filter(this.resource.headers, header => header['column-can-be-hidden']);\n      },\n    },\n    methods: {\n      safe_eval (hidden, row) {\n        const resource = Object.assign({manager: this.manager}, this.resource)\n        return safe_eval(hidden, row, resource)\n      },\n      getBreadcrumbInfo() {\n        return {label: this.resource.title, icon: \"list\"};\n      },\n      toggleHiddenColumn (field) {\n        this.$store.commit('UPDATE_RESOURCE_TOGGLE_HIDDEN_COLUMN', {id: this.id, field})\n      },\n      refresh() {\n        this.$refs.list.loadAsyncData();\n      },\n    },\n  },\n});\nresources.list = 'furet-ui-resource-list';\n\ndefineComponent('furet-ui-list-button', {\n  template: `\n    <a class=\"furet-ui-list-button button is-primary is-outlined\" v-on:click=\"server_call\">\n      <span class=\"icon\" v-if=\"config.icon\">\n        <b-icon v-bind:icon=\"config.icon\" />\n      </span>\n      <span>{{ config.label }}</span>\n    </a>\n  `,\n  // extend: ['furet-ui-helper-mixin'], waittin readony / readwrite on view\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    methods: {\n      get_call_information () {\n        if (this.config.call)\n          return {\n            url: `/furet-ui/resource/${this.resource.id}/model/${this.resource.model}/call/${this.config.call}`,\n            params: {},\n          }\n        if (this.config['open-resource']) {\n          return {\n            url: `/furet-ui/open/resource/${this.config['open-resource']}`,\n            params: {\n              route: this.$route.name,\n              params: this.$route.params,\n              resource_type: this.config['resource-type'],\n            }\n          }\n        }\n      },\n      server_call () {\n        this.$parent.$parent.errors = [];\n        this.$parent.$parent.loading = true;\n        const {url, params} = this.get_call_information();\n        axios.post(url, params)\n          .then((response) => {\n            this.$parent.$parent.loading = false;\n            if (response.data.length) {\n              this.$dispatchAll(response.data)\n            } else {\n              this.$parent.$parent.loadAsyncData()\n            }\n          })\n          .catch((error) => {\n            this.$parent.$parent.loading = false;\n            this.$parent.$parent.errors = error.response.data.errors;\n          });\n      },\n    },\n  },\n})\n","import { resources } from './resources';\nimport { defineComponent } from '../factory';\nimport axios from 'axios';\n\n\ndefineComponent('furet-ui-resource-thumbnail', {\n  template : `\n    <furet-ui-thumbnail\n      ref=\"thumbnail\"\n      v-bind:title=\"resource.title\"\n      v-bind:default_filters=\"resource.filters || []\"\n      v-bind:default_tags=\"resource.tags || []\"\n      v-bind:default_header_component_name=\"manager.multi_header_component_name || null\"\n      v-bind:perpage=\"resource.perpage\"\n      v-bind:can_go_to_new=\"manager.can_create\"\n      v-bind:go_to_new_choices=\"manager.create_choices\"\n      v-bind:rest_api_url=\"rest_api_url\"\n      v-bind:rest_api_params=\"api_params\"\n\n      v-bind:rest_api_formater=\"api_formater\"\n      v-bind:query=\"manager.query\"\n      v-bind:readonly=\"manager.readonly\"\n      v-bind:pagination_size=\"manager.pagination_size\"\n\n      v-on:update-query-string=\"updateQueryString\"\n      v-on:go-to-new=\"goToNew\"\n      v-on:go-to-page=\"goToPage\"\n    >\n      <template slot=\"actions\" slot-scope=\"props\">\n        <furet-ui-list-button \n          v-for=\"button in resource.buttons\" \n          v-bind:key=\"button.call\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"props.data\"\n          v-bind:config=\"button\" />\n      </template>\n      <template slot-scope=\"props\">\n        <div class=\"card\">\n          <component \n            v-bind:is=\"form_card_header_template\" \n            v-bind:resource=\"resource\"\n            v-bind:data=\"props.data\"\n          />\n          <div class=\"card-content\">\n            <component \n              v-bind:is=\"form_card_body_template\" \n              v-bind:resource=\"resource\"\n              v-bind:data=\"props.data\"\n              v-bind:key=\"'body_' + resource.id\"\n            />\n          </div>\n          <component \n            v-bind:is=\"form_card_footer_template\" \n            v-bind:resource=\"resource\"\n            v-bind:data=\"props.data\"\n            v-bind:key=\"'footer_' + resource.id\"\n          />\n        </div>\n      </template>\n    </furet-ui-thumbnail>\n  `,\n  extend: ['furet-ui-resource-with-ssr', 'furet-ui-resource-with-search'],\n  prototype: {\n    inject: ['getEntry', 'getNewEntries'],\n    methods: {\n      getBreadcrumbInfo() {\n        return {label: this.resource.title, icon: \"th\"};\n      },\n      refresh() {\n        this.$refs.thumbnail.loadAsyncData();\n      },\n    },\n    provide: function () {\n      return {\n        partIsReadonly: true,\n      }\n    },\n  },\n});\nresources.thumbnail = 'furet-ui-resource-thumbnail';\n\ndefineComponent('furet-ui-thumbnail-footer-button', {\n  template: `\n    <a v-bind:class=\"config.class\" v-on:click=\"server_call\">\n      <span class=\"icon\" v-if=\"config.icon\">\n        <b-icon v-bind:icon=\"config.icon\" />\n      </span>\n      <span>{{ config.label }}</span>\n    </a>\n  `,\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    methods: {\n      get_call_information () {\n        if (this.config.call) { \n          const pks = {}\n          this.resource.pks.forEach(pk => {\n              pks[pk] = this.data[pk]\n          })\n          return {\n            url: `/furet-ui/resource/${this.resource.id}/model/${this.resource.model}/call/${this.config.call}`,\n            params: {pks},\n          }\n        }\n        if (this.config['open-resource']) {\n          return {\n            url: `/furet-ui/open/resource/${this.config['open-resource']}`,\n            params: {\n              route: this.$route.name,\n              params: this.$route.params,\n              resource_type: this.config['resource-type'],\n            }\n          }\n        }\n      },\n      server_call () {\n        this.$parent.$parent.$parent.errors = [];\n        this.$parent.$parent.$parent.loading = true;\n        const {url, params} = this.get_call_information();\n        axios.post(url, params)\n          .then((response) => {\n            this.$parent.$parent.$parent.loading = false;\n            if (response.data.length) {\n              this.$dispatchAll(response.data)\n            } else {\n              this.$parent.$parent.$parent.loadAsyncData()\n            }\n          })\n          .catch((error) => {\n            this.$parent.$parent.$parent.loading = false;\n            this.$parent.$parent.$parent.errors = error.response.data.errors;\n          });\n      },\n    },\n  },\n})\n","import axios from 'axios';\nimport _ from 'underscore';\nimport { v1 as uuidv1 } from 'uuid';\nimport { resources } from './resources';\nimport { defineComponent } from '../factory';\nimport { safe_eval } from '../fields/common';\n\n\ndefineComponent('furet-ui-resource-form', {\n  template : `\n    <section>\n      <b-loading v-bind:active.sync=\"loading\"></b-loading>\n      <furet-ui-page-errors v-bind:errors=\"errors\"/>\n      <component\n        v-bind:is=\"headerComponentName\"\n        name=\"furet-ui-page\"\n        v-bind:title=\"resource.title\"\n        v-bind:can_go_to_new=\"readonly && manager.can_create\"\n        v-bind:go_to_new_choices=\"manager.create_choices\"\n        v-bind:can_modify=\"readonly && manager.can_update\"\n        v-bind:can_delete=\"readonly && manager.can_delete\"\n        v-bind:show_save=\"!readonly\"\n        v-bind:can_save=\"manager.children_is_modified\"\n        v-bind:readonly=\"manager.readonly\"\n\n        v-on:go-to-list=\"goToList\"\n        v-on:go-to-edit=\"goToEdit\"\n        v-on:go-to-new=\"goToNew\"\n        v-on:go-to-page=\"goToPage\"\n        v-on:delete-entry=\"deleteEntry\"\n        v-on:save=\"save\"\n\n        v-bind:data=\"data\"\n      >\n        <template slot=\"header\" v-if=\"resource.header_template\">\n          <component \n            v-bind:is=\"form_card_header_template\" \n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n          />\n        </template>\n      </component>\n      <div class=\"section\">\n        <component \n          v-bind:is=\"form_card_body_template\" \n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:key=\"'body_' + resource.id\"\n        />\n      </div>\n      <component \n        v-bind:is=\"form_card_footer_template\" \n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:key=\"'footer_' + resource.id\"\n      />\n    </section>\n  `,\n  extend: ['furet-ui-resource-with-ssr'],\n  prototype: {\n    inject: ['getEntry', 'getNewEntry', 'updateChangeState'],\n    data() {\n      return {\n        loading: false,\n        errors: [],\n        readonly: true,  // RO, RW\n        pks: {},\n        uuid: null,\n        selectors: {},\n        tabs: {},\n        refreshCallbacks: [],\n        headerComponentName: this.manager.page_header_component_name || 'furet-ui-header-page',\n      };\n    },\n    computed: {\n      data () {\n        if (this.uuid) {\n          return this.getNewEntry(this.resource.model, this.uuid);\n        } else if (this.pks) {\n          return this.getEntry(this.resource.model, this.pks);\n        }\n      },\n      resource () {\n        return Object.assign(\n          {\n              readonly: this.readonly,\n              pks: this.pks,\n              uuid: this.uuid,\n              selectors: this.selectors,\n              tabs: this.tabs,\n          },\n          this.$store.state.resource[this.id]\n        );\n      },\n    },\n    methods: {\n      getBreadcrumbInfo() {\n        return {label: this.resource.title || '', icon: \"newspaper\"};\n      },\n      goToList () {\n        this.uuid = null;\n        this.$emit('modify-state', false);\n        this.$emit('go-to-list');\n      },\n      goToNew (choice) {\n        this.$emit('modify-state', false);\n        const query = {mode: 'form'};\n        if (choice !== undefined) {\n            query.waiting_value = JSON.stringify(choice.waiting_value);\n            query.resource_id = choice.resource_id;\n        }\n        this.updateQueryString(query);\n      },\n      goToEdit () {\n        this.updateReadOnly(false);\n      },\n      goToPage () {\n        this.$emit('clear-change', {pks: this.pks, uuid: this.uuid})\n        this.updateReadOnly(true);\n        if (this.uuid) this.goToList();\n        this.refresh_fields()\n      },\n      updateReadOnly (readonly) {\n        this.readonly = readonly;\n        this.$emit('modify-state', !readonly);\n      },\n      getDefault() {\n        if (this.manager.query.waiting_value !== undefined) {\n          _.each(JSON.parse(this.manager.query.waiting_value), (value, fieldname) => {\n              this.updateChangeState({\n                model: this.resource.model,\n                uuid: this.uuid,\n                fieldname,\n                value\n              })\n          })\n        }\n        this.errors = [];\n        this.loading = true;\n        const params = {data: {uuid: this.uuid}}\n        axios.post(`/furet-ui/resource/${this.resource.id}/model/${this.resource.model}/call/default_values`, params)\n          .then((response) => {\n            this.$dispatchAll(response.data);\n            this.loading = false;\n          })\n          .catch((error) => {\n            this.loading = false;\n            this.errors = error.response.data.errors;\n          });\n      },\n      deleteEntry () {\n        this.$emit('modify-state', false);\n        this.$emit('delete-data', {\n          model: this.resource.model,\n          pks: Object.assign({}, this.pks),\n        })\n      },\n      save () {\n        this.$emit('modify-state', false);\n        if (this.uuid) {\n          this.$emit('create-data', {\n            model: this.resource.model,\n            uuid: this.uuid,\n          })\n          this.uuid = null;\n        } else {\n          this.$emit('update-data', {\n            model: this.resource.model,\n            pks: Object.assign({}, this.pks),\n          })\n        }\n      },\n      refresh_fields () {\n        this.$emit('clear-change', {pks: this.pks, uuid: this.uuid})\n        this.updateReadOnly(true);\n        this.refreshCallbacks.forEach(callback => {\n          callback();\n        });\n      },\n      refresh () {\n        this.loadAsyncData();\n        this.refresh_fields();\n      },\n      loadAsyncData() {\n        this.loading = true;\n        const params = {\n          'context[model]': this.resource.model,\n          'context[fields]': this.resource.fields.toString(),\n        };\n        _.each(_.keys(this.pks), pk => {\n            params[`filter[${pk}][eq]`] = this.pks[pk];\n        })\n        this.errors = [];\n        axios.get(`/furet-ui/resource/${this.id}/crud`, { params })\n          .then((response) => {\n            this.$dispatchAll(response.data.data);\n            this.loading = false;\n          })\n          .catch((error) => {\n            this.errors = error.response.data.errors;\n            this.loading = false;\n          });\n      },\n      parse_query() {\n        if (this.manager.query !== undefined) {\n          if (this.manager.query.pks) {\n            const pks = JSON.parse(this.manager.query.pks);\n            if (JSON.stringify(pks) != JSON.stringify(this.pks)) {\n              this.pks = pks\n              this.uuid = null;\n              this.loadAsyncData();\n            }\n          } else if (this.manager.query.uuid) {\n            if (this.uuid != this.manager.query.uuid) {\n              // new case\n              this.updateReadOnly(false);\n              this.uuid = this.manager.query.uuid;\n              this.getDefault();\n            }\n          } else if (this.uuid !== null) {\n              // nothing\n          } else {\n            // new case\n            this.updateReadOnly(false);\n            this.uuid = uuidv1();\n            this.getDefault();\n          }\n        }\n      },\n      isReadonly () {\n        return this.readonly\n      },\n      registryRefreshCallback (callback) {\n        if (this.refreshCallbacks.indexOf(callback) === -1) {\n          this.refreshCallbacks.push(callback)\n        }\n      },\n    },\n    provide: function () {\n      return {\n        partIsReadonly: this.isReadonly,\n        registryRefreshCallback: this.registryRefreshCallback,\n      }\n    },\n    watch: {\n      manager () {\n        this.parse_query();  // query is reactive\n      },\n    },\n    created() {\n      this.parse_query()\n    },\n  },\n});\nresources.form = 'furet-ui-resource-form';\n\ndefineComponent('furet-ui-form-button', {\n  template: `\n      <button \n        v-bind:disabled=\"isReadonly\" \n        v-bind:class=\"getClass\" \n        v-on:click=\"server_call\"\n        v-if=\"!isHidden\"\n      >\n        <span class=\"icon\" v-if=\"config.icon\">\n          <b-icon v-bind:icon=\"config.icon\" />\n        </span>\n        <span>{{ config.label }}</span>\n      </button>\n  `,\n  extend: ['furet-ui-helper-mixin'],\n  prototype: {\n    inject: ['currentResource'],\n    computed: {\n      getClass () {\n        if (this.config.class !== undefined)\n          if (this.config.class.length != 0)\n              return ['button', ...this.config.class];\n        return ['button', 'is-primary', 'is-outlined'];\n      },\n      isHidden () {\n        if (this.currentResource.uuid) return true;\n        if (this.config.hidden == undefined) return false;\n        return safe_eval(this.config.hidden, this.data || {}, this.resource);\n      },\n    },\n    methods: {\n      getIsReadonly () {\n        if (!this.resource.readonly) return true; // button is clickable when resource is readonly\n        if (!this.partIsReadonly()) return true; // button is clickable when resource is readonly\n        const readonlyParams = safe_eval(this.config.readonly, this.data, this.resource);\n        return readonlyParams ? true: false;\n      },\n      server_call () {\n        this.currentResource.errors = [];\n        this.currentResource.loading = true;\n        const params = {pks: this.resource.pks}\n        axios.post(`/furet-ui/resource/${this.resource.id}/model/${this.resource.model}/call/${this.config.call}`, params)\n          .then((response) => {\n            this.currentResource.loading = false;\n            if (response.data.length) {\n              this.$dispatchAll(response.data)\n            } else {\n              this.currentResource.loadAsyncData()\n            }\n          })\n          .catch((error) => {\n            this.currentResource.loading = false;\n            this.currentResource.errors = error.response.data.errors;\n          });\n      },\n    },\n  },\n})\n","import { resources } from './resources';\nimport { v1 as uuidv1 } from 'uuid';\nimport { defineComponent } from '../factory';\n\n\ndefineComponent('furet-ui-header-page-singleton', {\n  template: `\n    <header id=\"header_page\">\n      <slot name=\"header\" v-bind:data=\"data\">\n        <div class=\"level\">\n          <div class=\"level-left\">\n            <h2 class=\"level-item is-size-3\">{{ title }}</h2>&nbsp;<span class=\"level-item\"><slot name=\"aftertitle\" v-bind:data=\"data\" /></span>\n          </div>\n          <div class=\"level-right\">\n            <slot name=\"states\" v-bind:data=\"data\" />\n          </div>\n        </div>\n      </slot>\n      <div class=\"buttons is-grouped is-centered\">\n        <a v-if=\"show_save\" class=\"button is-warning is-outlined\" v-on:click=\"goToPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"times\" />\n          </span>\n          <span>{{ $t('components.header.cancel') }}</span>\n        </a>\n        <button v-if=\"can_modify\" v-bind:disabled=\"readonly\" class=\"button is-primary is-outlined\" v-on:click=\"goToEdit\">\n          <span class=\"icon\">\n            <b-icon icon=\"pencil-alt\" />\n          </span>\n          <span>{{ $t('components.header.edit') }}</span>\n        </button>\n        <button v-if=\"show_save\" v-bind:disabled=\"can_save\" class=\"button is-primary is-outlined\" v-on:click=\"save\">\n          <span class=\"icon\">\n            <b-icon icon=\"save\" />\n          </span>\n          <span>{{ $t('components.header.save') }}</span>\n        </button>\n        <slot name=\"head_actions\" v-bind:data=\"data\" />\n      </div>\n    </header>\n  `,\n  prototype: {\n    props: ['title', 'can_modify',\n            'show_save', 'can_save', 'data', 'readonly'],\n    methods: {\n      goToPage(row) {\n        this.$emit('go-to-page', row);\n      },\n      goToEdit() {\n        this.$emit('go-to-edit');\n      },\n      save() {\n        this.$emit('save');\n      },\n    },\n  },\n});\n\n\ndefineComponent('furet-ui-resource-singleton', {\n  template : `\n    <section>\n      <b-loading v-bind:active.sync=\"loading\"></b-loading>\n      <furet-ui-page-errors v-bind:errors=\"errors\"/>\n      <furet-ui-header-page-singleton\n        name=\"furet-ui-page\"\n        v-bind:title=\"resource.title\"\n        v-bind:can_modify=\"readonly\"\n        v-bind:show_save=\"!readonly\"\n        v-bind:can_save=\"manager.children_is_modified\"\n        v-bind:readonly=\"manager.readonly\"\n\n        v-on:go-to-edit=\"goToEdit\"\n        v-on:go-to-page=\"goToPage\"\n        v-on:save=\"save\"\n\n        v-bind:data=\"data\"\n      >\n        <template slot=\"header\" v-if=\"resource.header_template\">\n          <component \n            v-bind:is=\"form_card_header_template\" \n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n          />\n        </template>\n      </furet-ui-header-page-singleton>\n      <div class=\"section\">\n        <component \n          v-bind:is=\"form_card_body_template\" \n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:key=\"'body_' + resource.id\"\n        />\n      </div>\n      <component \n        v-bind:is=\"form_card_footer_template\" \n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:key=\"'footer_' + resource.id\"\n      />\n    </section>\n  `,\n  extend: ['furet-ui-resource-form'],\n  prototype: {\n    methods: {\n      goToPage () {\n        this.refresh_fields();\n        if (this.uuid) this.getDefault();\n        this.updateReadOnly(true);\n      },\n      parse_query() {\n        if (this.manager.query !== undefined) {\n          if (this.manager.query.pks) {\n            const pks = JSON.parse(this.manager.query.pks);\n            if (JSON.stringify(pks) != JSON.stringify(this.pks)) {\n              this.pks = pks\n              this.uuid = null;\n              this.loadAsyncData();\n            }\n          } else if (this.uuid !== null) {\n            // nothing\n          } else {\n            // new case\n            this.uuid = uuidv1();\n            this.getDefault();\n          }\n        }\n      },\n    },\n  },\n});\nresources.singleton = 'furet-ui-resource-singleton';\n","import axios from 'axios';\nimport _ from 'underscore';\nimport { resources } from './resources';\nimport { defineComponent } from '../factory';\nimport {pk2string} from '../../store/modules/data';\n\n\ndefineComponent('furet-ui-resource-polymorphic-form', {\n  template : `\n    <section>\n      <b-loading v-bind:active.sync=\"loading\"></b-loading>\n      <furet-ui-page-errors v-bind:errors=\"errors\"/>\n      <component \n        ref=\"resource\"\n        v-if=\"subResource\"\n        v-bind:is=\"getResourceComponent\" \n        v-bind:id=\"subResource.id\" \n        v-bind:key=\"subResource.id\" \n        v-bind:manager=\"manager\" \n\n        v-on:update-query-string=\"updateQueryString\"\n        v-on:create-data=\"createData\"\n        v-on:update-data=\"updateData\"\n        v-on:delete-data=\"deleteData\"\n        v-on:revert-data=\"revertData\"\n        v-on:clear-change=\"clearChange\"\n        v-on:modify-state=\"modifyState\"\n\n        v-on:go-to-new=\"goToNew\"\n        v-on:go-to-list=\"goToList\"\n      />\n    </section>\n  `,\n  extend: ['furet-ui-resource'],\n  prototype: {\n    props: ['manager'],\n    inject: ['getEntry'],\n    data () {\n      return {\n        errors: [],\n        loading: false,\n      };\n    },\n    computed: {\n      subResource () {\n        const resource_id = this.resource_id\n        return this.getResource(resource_id)\n      },\n      resource_id () {\n        if (this.manager.query.resource_id !== undefined) return this.manager.query.resource_id;\n        let id = undefined;\n        const entry = this.getEntry(this.resource.model, this.pks)\n        const identifiers = {}\n        _.forEach(this.resource.fields, field => {\n          identifiers[field] = entry[field];\n        });\n        _.forEach(this.resource.forms, form => {\n            if (pk2string(form.waiting_value) === pk2string(identifiers)) id = form.resource_id\n        })\n        return id;\n      },\n      getResourceComponent () {\n        const resource = this.subResource;\n        if (resource === undefined) return 'furet-ui-waiting-resource';\n        if (resources[resource.type] !== undefined) return resources[resource.type];\n        return 'furet-ui-resource-not-found';\n      },\n    },\n    methods: {\n      updateQueryString (query) {\n        this.$emit('update-query-string', query);\n      },\n      goToNew () {\n        this.$emit('go-to-new');\n      },\n      goToList () {\n        this.$emit('go-to-list');\n      },\n      createData (data) {\n        this.$emit('create-data', data);\n      },\n      updateData (data) {\n        this.$emit('update-data', data);\n      },\n      deleteData (data) {\n        this.$emit('delete-data', data);\n      },\n      revertData (row) {\n        this.$emit('revert-data', row);\n      },\n      clearChange (data) {\n        this.$emit('clear-change', data);\n      },\n      modifyState(state){\n        this.$emit(\"modify-state\", state);\n      },\n      getBreadcrumbInfo(){\n        return this.$refs.resource.getBreadcrumbInfo();\n      },\n      refresh () {\n        this.$refs.resource.refresh()\n      },\n      goToPage () {\n        this.$refs.resource.goToPage()\n      },\n      loadAsyncData() {\n        if (this.$refs.resource) {\n          this.$refs.resource.loadAsyncData();\n          return\n        }\n\n        this.loading = true;\n        const params = {\n          'context[model]': this.resource.model,\n          'context[fields]': this.resource.fields.toString(),\n        };\n        _.each(_.keys(this.pks), pk => {\n            params[`filter[${pk}][eq]`] = this.pks[pk];\n        })\n        this.errors = [];\n        axios.get(`/furet-ui/resource/${this.id}/crud`, { params })\n          .then((response) => {\n            this.$dispatchAll(response.data.data);\n            this.loading = false;\n          })\n          .catch((error) => {\n            this.errors = error.response.data.errors;\n            this.loading = false;\n          });\n      },\n      parse_query() {\n        if (this.manager.query !== undefined) {\n          if (this.manager.query.pks) {\n            const pks = JSON.parse(this.manager.query.pks);\n            if (JSON.stringify(pks) != JSON.stringify(this.pks)) {\n              this.pks = pks\n              this.loadAsyncData();\n            }\n          }\n        }\n      },\n    },\n    watch: {\n      manager () {\n        this.parse_query()\n      },\n    },\n    created() {\n      this.parse_query()\n    },\n  },\n});\nresources.polymorphicform = 'furet-ui-resource-polymorphic-form';\n","import axios from 'axios';\nimport _ from 'underscore';\nimport { defineComponent } from '../factory';\n\ndefineComponent('furet-ui-page-errors', {\n  template: `\n    <div class=\"container\">\n      <b-message type=\"is-danger\" v-if=\"errors && errors.length\" v-bind:closable=\"false\" v-bind:title=\"$i18n.t('error')\">\n        <ul>\n          <li v-for=\"error in errors\">\n            <pre>{{ error }}</pre>\n          </li>\n        </ul>\n      </b-message>\n    </div>\n  `,\n  prototype: {\n    props: ['errors'],\n  },\n});\n\ndefineComponent('furet-ui-page-infos', {\n  template: `\n    <div class=\"container\">\n      <b-message type=\"is-success\" v-if=\"infos && infos.length\" v-bind:closable=\"false\" v-bind:title=\"$i18n.t('info')\">\n        <ul>\n          <li v-for=\"info in infos\">\n            <pre>{{ info }}</pre>\n          </li>\n        </ul>\n      </b-message>\n    </div>\n  `,\n  prototype: {\n    props: ['infos'],\n  },\n});\n\ndefineComponent('furet-ui-page-header-date', {\n  template: `\n    <span>{{ formatDate(value) }}</span>\n  `,\n  extend: ['date-display'],\n  prototype: {\n    props: ['value'],\n  },\n});\n\ndefineComponent('furet-ui-list-total', {\n  template: `\n    <b-field grouped group-multiline v-bind:class=\"pagination_size\">\n      <div class=\"control\">\n        <strong>{{ $t('components.header.total') }} :</strong>\n        {{ total }}\n      </div>\n      <div v-if=\"number_created\" class=\"control has-text-x2m-created\">\n        <strong>{{ $t('components.header.created') }} :</strong>\n        +{{ number_created }}\n      </div>\n      <div v-if=\"number_updated\" class=\"control has-text-x2m-updated\">\n        <strong>{{ $t('components.header.updated') }} :</strong>\n        {{ number_updated }}\n      </div>\n      <div v-if=\"number_deleted\" class=\"control has-text-x2m-deleted\">\n        <strong>{{ $t('components.header.deleted') }} :</strong>\n        -{{ number_deleted }}\n      </div>\n      <div v-if=\"number_linked\" class=\"control has-text-x2m-linked\">\n        <strong>{{ $t('components.header.linked') }} :</strong>\n        +{{ number_linked }}\n      </div>\n      <div v-if=\"number_unlinked\" class=\"control has-text-x2m-unlinked\">\n        <strong>{{ $t('components.header.unlinked') }} :</strong>\n        -{{ number_unlinked }}\n      </div>\n    </b-field>\n  `,\n  prototype: {\n    props: [\n      'total', 'number_created', 'number_updated', 'number_deleted',\n      'number_linked', 'number_unlinked', 'pagination_size', \n    ],\n  },\n});\n\ndefineComponent('furet-ui-list-pagination', {\n  template: `\n    <div>\n      <div class=\"top level\">\n        <div class=\"level-left\">\n          <furet-ui-list-total\n            v-bind:pagination_size=\"pagination_size\"\n            v-bind:total=\"total\"\n            v-bind:number_created=\"number_created\"\n            v-bind:number_updated=\"number_updated\"\n            v-bind:number_deleted=\"number_deleted\"\n            v-bind:number_linked=\"number_linked\"\n            v-bind:number_unlinked=\"number_unlinked\"\n          />\n        </div>\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <b-pagination\n              v-bind:total=\"total\"\n              v-bind:per-page=\"perPage\"\n              v-bind:size=\"pagination_size\"\n              v-bind:current=\"page\"\n              v-on:change=\"onPageChange\"\n            />\n          </div>\n        </div>\n      </div>\n      <b-loading v-bind:active.sync=\"loading\"></b-loading>\n      <slot />\n      <div class=\"top level\">\n        <div class=\"level-left\">\n          <furet-ui-list-total\n            v-bind:pagination_size=\"pagination_size\"\n            v-bind:total=\"total\"\n            v-bind:number_created=\"number_created\"\n            v-bind:number_updated=\"number_updated\"\n            v-bind:number_deleted=\"number_deleted\"\n            v-bind:number_linked=\"number_linked\"\n            v-bind:number_unlinked=\"number_unlinked\"\n          />\n        </div>\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <b-pagination\n              v-bind:total=\"total\"\n              v-bind:per-page=\"perPage\"\n              v-bind:size=\"pagination_size\"\n              v-bind:current=\"page\"\n              v-on:change=\"onPageChange\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  prototype: {\n    props: [\n      'total', 'number_created', 'number_updated', 'number_deleted',\n      'number_linked', 'number_unlinked', 'pagination_size', 'perPage', 'page',\n      'loading'\n    ],\n    methods: {\n      onPageChange(page) {\n        this.$emit('change', page);\n      }\n    }\n  },\n});\n\ndefineComponent('furet-ui-page-multi-entries-header', {\n  template: `\n    <header id=\"furet-ui-page-multi-entries-header\">\n      <div class=\"level\">\n        <div class=\"level-left\">\n          <h2 class=\"level-item is-size-3\">{{ title }}</h2>&nbsp;<span class=\"level-item\">&nbsp;<slot name=\"aftertitle\" v-bind:data=\"data\" /></span>\n        </div>\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <b-field grouped group-multiline>\n              <div class=\"control\" v-for=\"tag in tags\" v-if=\"tag.selected\" v-bind:key=\"tag.key\">\n                  <b-tag \n                    v-bind:class=\"['furet-ui-page-multi-entries-header-tag', tag.key]\" \n                    type=\"is-primary\" closable \n                    v-on:close=\"removeTag(tag)\">{{ tag.label }} </b-tag>\n              </div>\n              <div class=\"control\" v-for=\"filter in filters\" v-if=\"filter.values.length\" v-bind:key=\"filter.key + '-' + filter.mode + '-' + filter.opt\">\n                <b-taglist attached>\n                  <b-tag type=\"is-danger\" v-if=\"filter.mode == 'exclude'\"> ~ </b-tag>\n                  <b-tag type=\"is-dark\">{{ filter.label }}</b-tag>\n                  <b-tag \n                    type=\"is-primary\" \n                    closable \n                    v-for=\"value in filter.values\" \n                    v-bind:class=\"['furet-ui-page-multi-entries-header-filter', filter.key, value]\" \n                    v-on:close=\"removeFilter(filter.key, filter.mode, filter.opt, value)\" \n                    v-bind:key=\"value\">{{ value }} </b-tag>\n                </b-taglist>\n              </div>\n            </b-field>\n          </div>\n          <div class=\"level-item\" v-if=\"filters.length\" >\n            <b-autocomplete\n              v-model=\"filterSearch\"\n              v-bind:data=\"filteredDataArray\"\n              v-bind:placeholder=\"this.$i18n.t('components.header.search')\"\n              icon=\"search\"\n              v-on:select=\"updateFilters\"\n              clear-on-select\n            >\n              <template slot=\"empty\">{{ $t('components.header.notFound') }}</template>\n              <template slot-scope=\"props\">\n                {{ props.option.mode == 'exclude' ? ' ~ ' : '' }} <small>{{ props.option.label }} </small> : <strong>{{ props.option.value }}</strong>\n              </template>\n            </b-autocomplete>\n          </div>\n          <div class=\"level-item buttons\">\n            <a id=\"furet-ui-page-multi-entries-header-refresh\" class=\"button\" v-on:click=\"refresh\"><b-icon icon=\"redo\" /></a>\n            <a id=\"furet-ui-page-multi-entries-header-tags\" v-if=\"tags.length\" class=\"button\" v-on:click.stop=\"tag_list_open = ! tag_list_open\">\n              <b-icon :icon=\"tag_list_open ? 'arrow-circle-up' : 'arrow-circle-down'\" />\n            </a>\n          </div>\n        </div>\n      </div>\n      <b-collapse class=\"panel is-pulled-right\" v-bind:open.sync=\"tag_list_open\">\n        <b-taglist>\n          <b-tag v-for=\"tag in tags\" v-bind:key=\"tag.key\" v-bind:class=\"['is-small', tag.selected ? '': 'has-text-weight-bold']\" >\n            <a \n              v-bind:class=\"['furet-ui-page-multi-entries-header-toggle-tag', tag.key]\" \n              v-on:click.stop=\"toggleTag(tag)\">{{ tag.label }}</a>\n          </b-tag>\n        </b-taglist>\n      </b-collapse>\n      <div class=\"buttons is-grouped is-centered\">\n        <div v-if=\"can_go_to_new\">\n          <b-dropdown \n            :triggers=\"['hover']\" \n            v-if=\"(go_to_new_choices || []).length\"\n            v-bind:disabled=\"readonly\"\n          >\n            <button \n              class=\"button is-primary is-outlined\" \n              slot-scope=\"{ active }\"\n              slot=\"trigger\">\n              <span class=\"icon\"><b-icon icon=\"plus\" /></span>\n              <span>{{ $t('components.header.new') }}</span>\n              <span class=\"icon\"><b-icon :icon=\"active ? 'caret-up' : 'caret-down'\" /></span>\n            </button>\n            <b-dropdown-item \n              v-for=\"choice in go_to_new_choices\"\n              v-bind:key=\"choice.resource_id\"\n              aria-role=\"listitem\"\n              v-on:click=\"goToNewPolymorphic(choice)\"\n            >\n              {{ choice.label }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <button \n            id=\"furet-ui-page-multi-entries-header-new\" \n            v-else\n            v-bind:disabled=\"readonly\"\n            class=\"button is-primary is-outlined\" \n            v-on:click=\"goToNew\"\n          >\n            <span class=\"icon\"><b-icon icon=\"plus\" /></span>\n            <span>{{ $t('components.header.new') }}</span>\n          </button>\n        </div>\n        <slot name=\"actions\" v-bind:data=\"data\" />\n      </div>\n    </header>\n  `,\n  prototype: {\n    props: ['title', 'filters', 'tags', 'data', 'can_go_to_new', 'go_to_new_choices', 'readonly'],\n    data() {\n      return {\n        filterSearch: '',\n        tag_list_open: false,\n      };\n    },\n    computed: {\n      filteredDataArray() {\n        // eslint-disable-next-line\n        return _.map(this.filters, (f) => {\n          return {\n            key: f.key,\n            mode: f.mode,\n            label: f.label,\n            value: this.filterSearch,\n            opt: f.opt,\n          };\n        });\n      },\n    },\n    methods: {\n      goToNew() {\n        this.$emit('go-to-new');\n      },\n      goToNewPolymorphic(choice) {\n        this.$emit('go-to-new', choice);\n      },\n      updateFilters(option) {\n        this.$emit('updateFilters', option);\n      },\n      refresh() {\n        this.$emit('refresh');\n      },\n      removeFilter(key, mode, opt, value) {\n        this.$emit('removeFilter', key, mode, opt, value);\n      },\n      toggleTag(tag) {\n        this.$emit('toggleTag', tag);\n      },\n      removeTag(tag) {\n        this.$emit('removeTag', tag);\n      },\n    },\n  },\n});\n\ndefineComponent('mixin-page-multi-entries', {\n  prototype: {\n    props: [\n      'title', 'default_filters', 'default_tags', 'defaultSortField', 'defaultSortOrder',\n      'perpage', 'can_go_to_new', 'go_to_new_choices', 'rest_api_url', 'rest_api_params',\n      'rest_api_formater', 'query', 'default_header_component_name', 'pagination_size',\n      'readonly'],\n    data() {\n      const sortingPriority = [];\n      if (this.defaultSortField) {\n        sortingPriority.push({field: this.defaultSortField, order: this.defaultSortOrder || 'asc'})\n      }\n      return {\n        data: [],\n        errors: [],\n        total: 0,\n        number_created: 0,\n        number_updated: 0,\n        number_deleted: 0,\n        number_linked: 0,\n        number_unlinked: 0,\n        loading: false,\n        page: 1,\n        perPage: this.perpage || 25,\n        filters: _.map((this.default_filters || []), f => Object.assign({}, f, {values: Object.assign([], f.values || [])})),\n        additional_filter: {},\n        tags: _.map((this.default_tags || []), t => Object.assign({}, t)),\n        sortingPriority,\n        headerComponentName: this.default_header_component_name || 'furet-ui-page-multi-entries-header',\n      };\n    },\n    computed: {\n      selectedEntries() {\n        return this.data;\n      },\n      row_state() {\n        return this.row_state_callback;\n      }\n    },\n    methods: {\n      goToNew(choice) {\n        this.$emit('go-to-new', choice);\n      },\n      goToPage(row) {\n        const offset = ((this.page - 1) * this.perPage) + this.data.indexOf(row)\n        this.$emit('go-to-page', row, {offset, query: this.query});\n      },\n      updateData() {\n        const query = { page: this.page };\n        const filters = {};\n        const tags = [];\n        const orders = [];\n        this.sortingPriority.forEach(sort => {\n          orders.push(`${sort.field}:${sort.order}`)\n        });\n        if (orders.length) query.orders = orders.toString()\n\n        _.each(this.filters, (f) => {\n          if (f.values.length) {\n            const mode = f.mode === 'exclude' ? '~' : '';\n            const opt = f.opt ? `[${f.opt}]` : '';\n            filters[`${mode}filter[${f.key}]${opt}`] = f.values.join();\n          }\n        });\n        if (_.keys(filters).length) query.filters = JSON.stringify(filters);\n        _.each(this.tags, (t) => {\n          if (t.selected) tags.push(t.key);\n        });\n        if (tags.length) query.tags = tags.join();\n        this.$emit('update-query-string', query);\n      },\n      updateFilters(option) {\n        if (option) {\n          const filter = _.find(\n            this.filters,\n            f => f.key === option.key && f.mode === option.mode && f.opt === option.opt);\n          if (filter.op.startsWith('or-') || filter.op === 'in') {\n            filter.values.push(option.value);\n          } else {\n            filter.values = [option.value];\n          }\n          this.page = 1;\n          this.updateData();\n        }\n      },\n      removeFilter(key, mode, opt, value) {\n        const filter = _.find(this.filters, f => f.key === key && f.mode === mode && f.opt === opt);\n        filter.values = _.filter(filter.values, v => v !== value);\n        this.page = 1;\n        this.updateData();\n      },\n      toggleTag(tag) {\n        // eslint-disable-next-line\n        tag.selected = !tag.selected;\n        this.updateData();\n      },\n      removeTag(tag) {\n        // eslint-disable-next-line\n        tag.selected = false;\n        this.updateData();\n      },\n      from_x2m_with_a_newest_parent() {\n        if (this.additional_filter === null) return false;\n        let res = false;\n        _.each(_.keys(this.additional_filter), filter => {\n          if (this.additional_filter[filter] === undefined) {\n            res = true;\n          }\n        });\n        return res;\n      },\n      row_state_callback (row, _index) {\n        let style_class = \"\"\n        switch(row.__change_state) {\n          case \"create\":\n            style_class = \"is-created\";\n            break;\n          case \"update\":\n            style_class = \"is-updated\";\n            break;\n          case \"delete\":\n            style_class = \"is-deleted\";\n            break;\n          case \"link\":\n            style_class = \"is-linked\";\n            break;\n          case \"unlink\":\n            style_class = \"is-unlinked\";\n            break;\n          default:\n            style_class = \"is-unmodified\";\n          }\n        return style_class\n      },\n      loadAsyncData() {\n        if (this.from_x2m_with_a_newest_parent()) {\n          if (this.rest_api_formater) {\n            this.rest_api_formater(this, {});\n          }\n          return\n        }\n        const params = Object.assign({}, this.rest_api_params || {});\n        params.offset = (this.page - 1) * this.perPage;\n        params.limit = this.perPage;\n        this.sortingPriority.forEach(({field, order}) => {\n          params[`order_by[${field}]`] = order;\n        })\n        _.each(this.filters, (filter) => {\n          if (filter.values.length) {\n            const value = (filter.op.startsWith('or-') || filter.op === 'in') ? filter.values.toString() : filter.values[0];\n            const preop = filter.mode === 'exclude' ? '~' : '';\n            params[`${preop}filter[${filter.key}][${filter.op}]`] = value;\n          }\n        });\n        if (this.additional_filter !== null) {\n          _.each(_.keys(this.additional_filter), filter => {\n            if (this.additional_filter[filter] !== undefined) {\n              params[`filter[${filter}][in]`] = this.additional_filter[filter].toString()\n            }\n          });\n        }\n        const tags = [];\n        _.each(this.tags, (tag) => {\n          if (tag.selected) tags.push(tag.key);\n        });\n        if (tags.length) params.tags = tags.toString();\n\n        this.loading = true;\n        axios.get(this.rest_api_url, { params })\n          .then((response) => {\n            if (this.rest_api_formater) {\n              this.rest_api_formater(this, response.data || {});\n            } else {\n              this.data = response.data || [];\n              this.total = response.headers['x-total-records'] || response.data.length;\n            }\n            this.loading = false;\n          })\n          .catch((error) => {\n            // console.error(error);\n            this.errors = error.response.data.errors;\n            this.loading = false;\n          });\n      },\n      refresh() {\n        this.page = 1;\n        this.updateData();\n      },\n      onPageChange(page) {\n        this.page = page;\n        this.updateData();\n      },\n      onSort(field, order) {\n        let existingPriority = this.sortingPriority.find(i => i.field === field)\n        if(existingPriority) {\n          existingPriority.order = existingPriority.order === 'desc' ? 'asc' : 'desc'\n        } else {\n          // request sorted data from backend\n          this.sortingPriority.push({field, order})\n        }\n        this.updateData();\n      },\n      onSortingPriorityRemoved (field){\n        this.sortingPriority = this.sortingPriority.filter(\n            (priority) => priority.field !== field)\n        this.updateData();\n      },\n      parse_query() {\n        const regexWithOption = new RegExp('.*\\\\[(.+)\\\\]\\\\[(.+)\\\\]');\n        const regexWithoutOption = new RegExp('.*\\\\[(.+)\\\\]');\n        const query = this.query;\n        if (query === undefined) {\n          // this.loadAsyncData();\n          return;\n        }\n        if (query.page) this.page = parseInt(query.page, 10);\n        if (query.orders) {\n          query.orders.split(',').forEach(sort => {\n            let [field, order] = sort.split(':');\n            this.sortingPriority.push({field, order});\n          })\n        }\n\n        _.forEach(this.filters, f => {f.values = [];});\n        _.forEach(this.tags, f => {f.selected = false;});\n        if (query.filters) {\n          _.each(JSON.parse(query.filters), (queryStringValue, queryStringName) => {\n            if (queryStringName.startsWith('filter')) {\n              const resWithOption = queryStringName.match(regexWithOption);\n              const resWithoutOption = queryStringName.match(regexWithoutOption);\n              let key = '';\n              let opt;\n              if (resWithOption) {\n                key = resWithOption[1];\n                opt = resWithOption[2];\n              } else key = resWithoutOption[1];\n              const filter = _.find(this.filters, f => f.key === key && f.opt === opt && f.mode !== 'exclude');\n              filter.values = queryStringValue.split(',');\n            } else if (queryStringName.startsWith('~filter')) {\n              const resWithOption = queryStringName.match(regexWithOption);\n              const resWithoutOption = queryStringName.match(regexWithoutOption);\n              let key = '';\n              let opt;\n              if (resWithOption) {\n                key = resWithOption[1];\n                opt = resWithOption[2];\n              } else key = resWithoutOption[1];\n              const filter = _.find(this.filters, f => f.key === key && f.opt === opt && f.mode === 'exclude');\n              filter.values = queryStringValue.split(',');\n            }\n          });\n        }\n        if (query.tags) {\n          _.each(query.tags.split(','), (tag) => {\n            _.find(this.tags, t => t.key === tag.trim()).selected = true;\n          });\n        }\n        if (query.additional_filter) this.additional_filter = query.additional_filter;\n        else if (query.additional_filter === null) this.additional_filter = null;\n        this.loadAsyncData();\n      }\n    },\n    watch: {\n      query () {\n        this.parse_query();  // query is reactive\n      },\n    },\n    mounted() {\n      this.parse_query()\n    },\n  },\n});\n\ndefineComponent('furet-ui-header-page', {\n  template: `\n    <header id=\"header_page\">\n      <slot name=\"header\" v-bind:data=\"data\">\n        <div class=\"level\">\n          <div class=\"level-left\">\n            <h2 class=\"level-item is-size-3\">{{ title }}</h2>&nbsp;<span class=\"level-item\"><slot name=\"aftertitle\" v-bind:data=\"data\" /></span>\n          </div>\n          <div class=\"level-right\">\n            <slot name=\"states\" v-bind:data=\"data\" />\n          </div>\n        </div>\n      </slot>\n      <div class=\"buttons is-grouped is-centered\">\n        <a v-if=\"show_save\" class=\"button is-warning is-outlined\" v-on:click=\"goToPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"times\" />\n          </span>\n          <span>{{ $t('components.header.cancel') }}</span>\n        </a>\n        <a v-else class=\"button is-primary is-outlined\" v-on:click=\"goToList\">\n          <span class=\"icon\">\n            <b-icon icon=\"arrow-left\" />\n          </span>\n          <span>{{ $t('components.header.return') }}</span>\n        </a>\n        <a v-if=\"prevous_target\" class=\"button is-primary is-outlined\" v-on:click=\"goToPreviousPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"page-previous\" />\n          </span>\n          <span>{{ $t('components.header.previous') }}</span>\n        </a>\n        <a v-if=\"next_target\" class=\"button is-primary is-outlined\" v-on:click=\"goToNextPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"page-next\" />\n          </span>\n          <span>{{ $t('components.header.next') }}</span>\n        </a>\n        <div v-if=\"can_go_to_new\">\n          <b-dropdown \n            :triggers=\"['hover']\" \n            v-if=\"go_to_new_choices.length\"\n            v-bind:disabled=\"readonly\"\n          >\n            <button \n              class=\"button is-primary is-outlined\" \n              slot-scope=\"{ active }\"\n              slot=\"trigger\">\n              <span class=\"icon\"><b-icon icon=\"plus\" /></span>\n              <span>{{ $t('components.header.new') }}</span>\n              <span class=\"icon\"><b-icon :icon=\"active ? 'caret-up' : 'caret-down'\" /></span>\n            </button>\n            <b-dropdown-item \n              v-for=\"choice in go_to_new_choices\"\n              v-bind:key=\"choice.resource_id\"\n              aria-role=\"listitem\"\n              v-on:click=\"goToNewPolymorphic(choice)\"\n            >\n              {{ choice.label }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <button v-else v-bind:disabled=\"readonly\" class=\"button is-primary is-outlined\" v-on:click=\"goToNew\">\n            <span class=\"icon\">\n              <b-icon icon=\"plus\" />\n            </span>\n            <span>{{ $t('components.header.new') }}</span>\n          </button>\n        </div>\n        <button v-if=\"can_modify\" v-bind:disabled=\"readonly\" class=\"button is-primary is-outlined\" v-on:click=\"goToEdit\">\n          <span class=\"icon\">\n            <b-icon icon=\"pencil-alt\" />\n          </span>\n          <span>{{ $t('components.header.edit') }}</span>\n        </button>\n        <button v-if=\"show_save\" v-bind:disabled=\"can_save\" class=\"button is-primary is-outlined\" v-on:click=\"save\">\n          <span class=\"icon\">\n            <b-icon icon=\"save\" />\n          </span>\n          <span>{{ $t('components.header.save') }}</span>\n        </button>\n        <button v-if=\"can_delete\" v-bind:disabled=\"readonly\" class=\"button is-danger is-outlined\" v-on:click=\"deleteEntry\">\n          <span class=\"icon\">\n            <b-icon icon=\"trash\" />\n          </span>\n          <span>{{ $t('components.header.delete') }}</span>\n        </button>\n        <slot name=\"head_actions\" v-bind:data=\"data\" />\n      </div>\n    </header>\n  `,\n  prototype: {\n    props: ['title', 'can_go_to_new', 'go_to_new_choices', 'can_modify',\n            'can_delete', 'show_save', 'can_save', 'data', 'readonly'],\n    computed: {\n      prevous_target() {\n        return this.$store.getters.previousBrowserTarget;\n      },\n      next_target() {\n        return this.$store.getters.nextBrowserTarget;\n      },\n    },\n    methods: {\n      goToList() {\n        this.$emit('go-to-list');\n      },\n      goToPage(row) {\n        this.$emit('go-to-page', row);\n      },\n      goToPreviousPage() {\n        const target = this.prevous_target;\n        if (target !== undefined) {\n          this.$store.commit('DECREASE_BROWSER_OFFSET');\n          this.$emit('go-to-page', target);\n        }\n      },\n      goToNextPage() {\n        const target = this.next_target;\n        if (target !== undefined) {\n          this.$store.commit('INCREASE_BROWSER_OFFSET');\n          this.$emit('go-to-page', target);\n        }\n      },\n      goToNew() {\n        this.$emit('go-to-new');\n      },\n      goToNewPolymorphic(choice) {\n        this.$emit('go-to-new', choice);\n      },\n      goToEdit() {\n        this.$emit('go-to-edit');\n      },\n      save() {\n        this.$emit('save');\n      },\n      deleteEntry() {\n        this.$emit('delete-entry');\n      },\n    },\n  },\n});\n","import { defineComponent } from '../factory';\n\ndefineComponent('furet-ui-list', {\n  template: `\n    <section id=\"furet-ui-list\">\n      <furet-ui-page-errors v-bind:errors=\"errors\"/>\n      <component\n        v-bind:is=\"headerComponentName\"\n        v-bind:title=\"title\"\n        v-bind:filters=\"filters\"\n        v-bind:tags=\"tags\"\n        v-bind:data=\"data\"\n        v-bind:can_go_to_new=\"can_go_to_new\"\n        v-bind:go_to_new_choices=\"go_to_new_choices\"\n        v-bind:readonly=\"readonly\"\n        v-on:updateFilters=\"updateFilters\"\n        v-on:removeFilter=\"removeFilter\"\n        v-on:refresh=\"refresh\"\n        v-on:toggleTag=\"toggleTag\"\n        v-on:removeTag=\"removeTag\"\n        v-on:go-to-new=\"goToNew\"\n      >\n        <template slot=\"actions\" slot-scope=\"props\">\n          <slot name=\"actions\" v-bind:data=\"props.data\" />\n        </template>\n      </component>\n      <slot name=\"hidden_columns\" />\n      <b-table\n        ref=\"list_table\"\n        v-bind:data=\"data\"\n        v-bind:loading=\"loading\"\n\n        paginated\n        backend-pagination\n        pagination-position=\"both\"\n        v-bind:pagination-size=\"pagination_size\"\n\n        v-bind:total=\"total\"\n        v-bind:current-page.sync=\"page\"\n        v-bind:per-page=\"perPage\"\n        v-on:page-change=\"onPageChange\"\n\n        backend-sorting\n        sort-multiple\n        :sort-multiple-data=\"sortingPriority\"\n\n        v-on:sort=\"onSort\"\n        @sorting-priority-removed=\"onSortingPriorityRemoved\"\n\n        striped\n        hoverable\n        v-bind:detailed=\"detailed\"\n        v-bind:detail-key=\"detail_key\"\n        v-bind:checkable=\"isCheckable\"\n        v-bind:checked-rows.sync=\"checkedRows\"\n        v-bind:row-class=\"row_state\"\n\n        v-on:dblclick=\"goToPage\"\n      >\n        <template slot-scope=\"props\">\n          <slot v-bind:row=\"props.row\" />\n        </template>\n\n        <template slot=\"top-left\">\n          <furet-ui-list-total\n            v-bind:pagination_size=\"pagination_size\"\n            v-bind:total=\"total\"\n            v-bind:number_created=\"number_created\"\n            v-bind:number_updated=\"number_updated\"\n            v-bind:number_deleted=\"number_deleted\"\n            v-bind:number_linked=\"number_linked\"\n            v-bind:number_unlinked=\"number_unlinked\"\n          />\n        </template>\n\n        <template slot=\"bottom-left\">\n          <furet-ui-list-total\n            v-bind:pagination_size=\"pagination_size\"\n            v-bind:total=\"total\"\n            v-bind:number_created=\"number_created\"\n            v-bind:number_updated=\"number_updated\"\n            v-bind:number_deleted=\"number_deleted\"\n            v-bind:number_linked=\"number_linked\"\n            v-bind:number_unlinked=\"number_unlinked\"\n          />\n        </template>\n\n        <template v-if=\"detailed\" slot=\"detail\" slot-scope=\"props\">\n          <slot name=\"detail\" v-bind:row=\"props.row\" />\n        </template>\n\n        <template slot=\"empty\">\n          <section class=\"section\">\n            <div class=\"content has-text-grey has-text-centered\">\n              <p>{{ $t('components.header.notFound') }}</p>\n            </div>\n          </section>\n        </template>\n      </b-table>\n    </section>\n  `,\n  extend: ['mixin-page-multi-entries'],\n  prototype: {\n    props: [\n      'is_checkable', 'checkedElements', 'detailed', 'detail_key'],\n    data() {\n      return {\n        isCheckable: this.is_checkable || false,\n        checkedRows: this.checkedElements || [],\n      };\n    },\n    computed: {\n      selectedEntries() {\n        if (this.checkedRows.length !== 0) return this.checkedRows;\n        return this.data;\n      },\n    },\n  },\n});\n","import { defineComponent } from '../factory';\n\ndefineComponent('furet-ui-thumbnail', {\n  template: `\n    <section id=\"furet-ui-thumbnail\">\n      <furet-ui-page-errors v-bind:errors=\"errors\"/>\n      <component\n        v-bind:is=\"headerComponentName\"\n        v-bind:title=\"title\"\n        v-bind:filters=\"filters\"\n        v-bind:tags=\"tags\"\n        v-bind:data=\"data\"\n        v-bind:can_go_to_new=\"can_go_to_new\"\n        v-bind:go_to_new_choices=\"go_to_new_choices\"\n        v-bind:readonly=\"readonly\"\n        v-on:updateFilters=\"updateFilters\"\n        v-on:removeFilter=\"removeFilter\"\n        v-on:refresh=\"refresh\"\n        v-on:toggleTag=\"toggleTag\"\n        v-on:removeTag=\"removeTag\"\n        v-on:go-to-new=\"goToNew\"\n      >\n        <template slot=\"actions\" slot-scope=\"props\">\n          <slot name=\"actions\" v-bind:data=\"props.data\" />\n        </template>\n      </component>\n\n      <furet-ui-list-pagination\n        v-bind:loading=\"loading\"\n        v-bind:total=\"total\"\n        v-bind:perPage=\"perPage\"\n        v-bind:page=\"page\"\n        v-bind:number_created=\"number_created\"\n        v-bind:number_updated=\"number_updated\"\n        v-bind:number_deleted=\"number_deleted\"\n        v-bind:number_linked=\"number_linked\"\n        v-bind:number_unlinked=\"number_unlinked\"\n        v-bind:pagination_size=\"pagination_size\"\n        v-on:change=\"onPageChange\"\n      >\n        <div v-if=\"data.length > 0\" class=\"columns is-multiline\">\n          <div \n            v-for=\"thumbnail in data\" \n            v-on:dblclick=\"goToPage(thumbnail)\"\n            class=\"column is-one-quarter-desktop is-half-tablet is-12-mobile\"\n          >\n            <slot v-bind:data=\"thumbnail\" />\n          </div>\n        </div>\n        <section v-else class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ $t('components.header.notFound') }}</p>\n          </div>\n        </section>\n      </furet-ui-list-pagination>\n\n    </section>\n  `,\n  extend: ['mixin-page-multi-entries'],\n});\n","export const fields = {\n  list: {},\n  form: {},\n  thumbnail: {},\n};\nexport default {\n    fields,\n}\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport VueBarcode from 'vue-barcode';\n\ndefineComponent('furet-ui-list-field-barcode', {\n  template:`\n    <span v-if=\"isHidden\" />\n    <barcode v-else v-bind:value=\"value\" v-bind=\"config.options\">\n      Can't generate the barcode\n    </barcode>\n  `,\n  extend: ['furet-ui-list-field-common'],\n  prototype: {\n    components: {\n      barcode: VueBarcode\n    },\n  },\n})\nfields.list.barcode = 'furet-ui-list-field-barcode'\n\ndefineComponent('furet-ui-thumbnail-field-barcode', {\n  template: `\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <barcode v-bind:value=\"value\" v-bind=\"config.options\">\n        Can't generate the barcode\n      </barcode>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-thumbnail-field-common'],\n  prototype: {\n    components: {\n      barcode: VueBarcode\n    },\n  },\n})\nfields.thumbnail.barcode = 'furet-ui-thumbnail-field-barcode'\n\ndefineComponent('furet-ui-form-field-barcode', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <barcode v-if=\"isReadonly\" v-bind:value=\"value\" v-bind=\"config.options\">\n        Can't generate the barcode\n      </barcode>\n      <b-input \n        v-else\n        v-bind:value=\"value\" \n        v-on:input=\"updateValue\"\n        v-bind:maxlength=\"config.maxlength\"\n        v-bind:placeholder=\"config.placeholder\"\n        icon-pack=\"fa\"\n        v-bind:icon=\"config.icon\"\n        v-bind:key=\"config.key\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n  prototype: {\n    components: {\n      barcode: VueBarcode\n    },\n  },\n})\nfields.form.barcode = 'furet-ui-form-field-barcode'\n","// /**\n// This file is a part of the FuretUI project\n//\n//    Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n//\n// This Source Code Form is subject to the terms of the Mozilla Public License,\n// v. 2.0. If a copy of the MPL was not distributed with this file,You can\n// obtain one at http://mozilla.org/MPL/2.0/.\n// **/\n// import _ from 'underscore';\nimport { defineComponent } from \"../factory\";\nimport { fields } from \"./fields\";\nimport { listTemplate, thumbnailTemplate, safe_eval_boolean } from \"./common\";\n\nconst computed_boolean_checked = (obj) => {\n  // #11 safe eval can return null at the moment we are ignoring null values\n  return safe_eval_boolean(obj.value) ? true : false;\n};\n\ndefineComponent(\"furet-ui-list-field-boolean\", {\n  template: `\n    <div>\n      <span v-if=\"isHidden\" />\n      <component \n        v-else-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n        v-bind:checked=\"checked\"\n      />\n      <b-checkbox \n        v-else\n        v-model=\"checked\"\n        disabled\n      />\n    </div>`,\n  extend: [\"furet-ui-list-field-common\"],\n  prototype: {\n    computed: {\n      checked() {\n        return computed_boolean_checked(this);\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'value', 'checked'],\n        }\n      }\n    }\n  }\n});\nfields.list.boolean = \"furet-ui-list-field-boolean\";\n\ndefineComponent(\"furet-ui-common-field-yesno\", {\n  prototype: {\n    computed: {\n      value() {\n        const base = \"components.fields.yesno\";\n        // #11 safe eval can return null at the moment we are ignoring null values\n        return this.$t(\n          safe_eval_boolean(this.data[this.config.name] || \"\")\n            ? `${base}.yes`\n            : `${base}.no`\n        );\n      }\n    }\n  }\n});\n\ndefineComponent(\"furet-ui-list-field-yesno\", {\n  template: listTemplate,\n  extend: [\"furet-ui-list-field-common\", \"furet-ui-common-field-yesno\"],\n});\nfields.list.yesno = \"furet-ui-list-field-yesno\";\n\ndefineComponent(\"furet-ui-thumbnail-field-boolean\", {\n  template: `\n  <furet-ui-thumbnail-field-common-tooltip-field\n    v-bind:resource=\"resource\"\n    v-bind:data=\"data\"\n    v-bind:config=\"config\"\n  >\n    <component \n      v-if=\"config.slot\" \n      v-bind:is=\"component_template\"\n      v-bind:config=\"config\"\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:value=\"value\"\n      v-bind:checked=\"checked\"\n    />\n    <b-checkbox \n      v-else\n      v-model=\"checked\" \n      disabled\n      v-bind:key=\"config.key\"\n    >\n      {{ config.label }}\n    </b-checkbox>\n  </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: [\"furet-ui-thumbnail-field-common\"],\n  prototype: {\n    computed: {\n      checked() {\n        return computed_boolean_checked(this);\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'value', 'checked'],\n        }\n      }\n    }\n  }\n});\nfields.thumbnail.boolean = \"furet-ui-thumbnail-field-boolean\";\n\ndefineComponent(\"furet-ui-thumbnail-field-yesno\", {\n  template: thumbnailTemplate,\n  extend: [\"furet-ui-thumbnail-field-common\", \"furet-ui-common-field-yesno\"],\n});\nfields.thumbnail.yesno = \"furet-ui-thumbnail-field-yesno\";\n\ndefineComponent(\"furet-ui-form-field-boolean\", {\n  template: `\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <component \n        v-if=\"isReadonly && config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n        v-bind:checked=\"checked\"\n      />\n      <b-checkbox \n        v-model=\"checked\" \n        v-bind:disabled=\"isReadonly\"\n        v-bind:key=\"config.key\"\n      >\n        {{ config.label }}\n      </b-checkbox>\n    </furet-ui-form-field-common-tooltip>`,\n  extend: [\"furet-ui-form-field-common\"],\n  prototype: {\n    computed: {\n      checked: {\n        get() {\n          // #11 safe eval can return null at the moment we are ignoring null values\n          return safe_eval_boolean(this.value) ? true : null;\n        },\n        set(value) {\n          this.updateValue(value);\n        }\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'value', 'checked'],\n        }\n      }\n    }\n  }\n});\nfields.form.boolean = \"furet-ui-form-field-boolean\";\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\n\ndefineComponent('furet-ui-list-field-color', {\n  template:`\n    <span v-if=\"isHidden\" />\n    <component \n      v-else-if=\"config.slot\" \n      v-bind:is=\"component_template\"\n      v-bind:config=\"config\"\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:value=\"value\"\n    />\n    <b-input \n      v-else-if=\"value\"\n      type=\"color\"\n      v-bind:value=\"value\" \n      disabled\n    />\n    <span v-else />\n  `,\n  extend: ['furet-ui-list-field-common'],\n})\nfields.list.color = 'furet-ui-list-field-color'\n\ndefineComponent('furet-ui-thumbnail-field-color', {\n  template: `\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <component \n        v-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n      />\n      <b-input \n        v-else-if=\"value\"\n        type=\"color\"\n        v-bind:value=\"value\" \n        disabled\n      />\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-thumbnail-field-common'],\n})\nfields.thumbnail.color = 'furet-ui-thumbnail-field-color'\n\ndefineComponent('furet-ui-form-field-color', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div class=\"field has-addons\">\n        <p v-if=\"isReadonly\" class=\"control is-expanded\">\n          <component \n            v-if=\"config.slot\" \n            v-bind:is=\"component_template\"\n            v-bind:config=\"config\"\n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n            v-bind:value=\"value\"\n          />\n          <b-input \n            v-else-if=\"data\"\n            type=\"color\"\n            v-bind:value=\"value\" \n            disabled\n          >\n          </b-input>\n        </p>\n        <p v-else class=\"control\">\n          <b-input \n            style=\"width: 100px\"\n            v-if=\"data || !isReadonly\"\n            type=\"color\"\n            v-bind:value=\"value\" \n            v-on:input=\"updateValue\"\n            v-bind:disabled=\"isReadonly\"\n          >\n          </b-input>\n        </p>\n        <p class=\"control is-expanded\">\n          <b-input \n            v-if=\"!isReadonly\"\n            v-bind:value=\"value\" \n            v-on:input=\"updateValue\"\n            v-bind:placeholder=\"config.placeholder\"\n            icon-pack=\"fa\"\n            v-bind:icon=\"config.icon\"\n            pattern=\"#[A-Fa-f1-9]{6}\"\n          />\n        </p>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n})\nfields.form.color = 'furet-ui-form-field-color'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport moment from 'moment-timezone';\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport { listTemplate, thumbnailTemplate } from './common';\nimport {i18n} from '../../i18n';\n\n\ndefineComponent('furet-ui-common-field-datetime', {\n  prototype: {\n    computed: {\n      value () {\n        moment.locale(i18n.locale);\n        const value = this.data[this.config.name];\n        const timezone = this.$store.state.global.userTimeZone;\n        if (value) return moment(value).tz(timezone).format('LLL');\n        return '';\n      },\n    },\n  },\n})\n\ndefineComponent('furet-ui-list-field-datetime', {\n  template: listTemplate,\n  extend: ['furet-ui-list-field-common', 'furet-ui-common-field-datetime'],\n})\nfields.list.datetime = 'furet-ui-list-field-datetime'\n\ndefineComponent('furet-ui-thumbnail-field-datetime', {\n  template: thumbnailTemplate,\n  extend: ['furet-ui-thumbnail-field-common', 'furet-ui-common-field-datetime'],\n})\nfields.thumbnail.datetime = 'furet-ui-thumbnail-field-datetime'\n\ndefineComponent('furet-ui-form-field-datetime', {\n  extend: ['furet-ui-form-field-common'],\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"readonly_value\"\n        />\n        <span v-else>{{ readonly_value}}</span>\n      </div>\n      <b-datetimepicker\n        v-else\n        rounded\n        v-bind:placeholder=\"config.placeholder\"\n        v-bind:value=\"value\" \n        v-on:input=\"updateDateTimeValue\"\n        v-bind:editable=\"config.editable\"\n        v-bind:datepicker=\"config.datepicker\"\n        v-bind:timepicker=\"config.timepicker\"\n        icon-pack=\"fa\"\n        v-bind:icon=\"config.icon\"\n        v-bind:key=\"config.key\"\n      >\n        <template slot=\"left\">\n          <button class=\"button is-primary\"\n            v-on:click=\"updateDateTimeValue(new Date())\">\n            <b-icon icon=\"clock\"></b-icon>\n            <span>Now</span>\n          </button>\n        </template>\n        <template slot=\"right\">\n          <button class=\"button is-danger\"\n            v-on:click=\"updateValue(null)\">\n            <b-icon icon=\"times\"></b-icon>\n            <span>Clear</span>\n          </button>\n        </template>\n      </b-datetimepicker>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  prototype: {\n    computed: {\n      readonly_value () {\n        moment.locale(i18n.locale);\n        const value = this.data[this.config.name];\n        const timezone = this.$store.state.global.userTimeZone;\n        if (value) return moment(value).tz(timezone).format('LLL');\n        return '';\n      },\n      value () {\n        moment.locale(i18n.locale);\n        const value = this.data[this.config.name];\n        if (!value) return null;\n        return new Date(Date.parse(value))\n      },\n    },\n    methods: {\n      updateDateTimeValue (value) {\n        this.updateValue(value.toISOString())\n      },\n    },\n  },\n})\nfields.form.datetime = 'furet-ui-form-field-datetime'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport { listTemplate, thumbnailTemplate } from './common';\n\n\ndefineComponent('furet-ui-list-field-email', {\n  template: listTemplate,\n  extend: ['furet-ui-list-field-common'],\n})\nfields.list.email = 'furet-ui-list-field-email'\n\ndefineComponent('furet-ui-thumbnail-field-email', {\n  template: thumbnailTemplate,\n  extend: ['furet-ui-thumbnail-field-common'],\n})\nfields.thumbnail.email = 'furet-ui-thumbnail-field-email'\n\n\n/**\n * furet-ui-form-field-email component is used to manage email on form\n * resource (``furet-ui-resource-form``).\n *\n * @example\n *  <furet-ui-form-field-email\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String?} placeholder - A placeholder to help user to know what to collect\n * @param {String?} length - A max size\n * @param {String?} icon - A fontawesome icon name\n */\ndefineComponent('furet-ui-form-field-email', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"value\"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <b-input \n        v-else\n        type=\"email\"\n        v-bind:value=\"value\" \n        v-on:input=\"updateValue\"\n        v-bind:maxlength=\"config.maxlength\"\n        v-bind:placeholder=\"config.placeholder\"\n        icon-pack=\"fa\"\n        v-bind:icon=\"config.icon\"\n        v-bind:key=\"config.key\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n})\nfields.form.email = 'furet-ui-form-field-email'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport { defineComponent } from \"../factory\";\nimport { fields } from \"./fields\";\nimport { listTemplate, thumbnailTemplate } from \"./common\";\n\ndefineComponent(\"furet-ui-list-field-integer\", {\n  template: listTemplate,\n  extend: [\"furet-ui-list-field-common\"]\n});\nfields.list.integer = \"furet-ui-list-field-integer\";\n\ndefineComponent(\"furet-ui-thumbnail-field-integer\", {\n  template: thumbnailTemplate,\n  extend: [\"furet-ui-thumbnail-field-common\"]\n});\nfields.thumbnail.integer = \"furet-ui-thumbnail-field-integer\";\n\n/**\n * furet-ui-form-field-integer component is used to manage integer on form\n * resource (``furet-ui-resource-form``).\n *\n * @example\n *  <furet-ui-form-field-integer\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String?} icon - An icon to display on the left of the component\n * @param {String?} placeholder - A placeholder to help user to know what to collect\n */\ndefineComponent(\"furet-ui-form-field-integer\", {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"value\"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <b-numberinput \n        v-else\n        step=\"1\"\n        controlsPosition=\"compact\"\n        expanded\n        icon-pack=\"fa\"\n        v-bind:value=\"value\" \n        v-on:input=\"updateValue\"\n        v-bind:min=\"format_min_max(config.min)\"\n        v-bind:max=\"format_min_max(config.max)\"\n        v-bind:key=\"config.key\"\n        v-bind:icon=\"config.icon\"\n        v-bind:placeholder=\"config.placeholder\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: [\"furet-ui-form-field-common\"],\n  prototype: {\n    methods: {\n      format_min_max (value) {\n        if (value === null) return undefined;\n        return value;\n      },\n    },\n  },\n});\nfields.form.integer = \"furet-ui-form-field-integer\";\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport { listTemplate, thumbnailTemplate } from './common';\n\n\ndefineComponent('furet-ui-list-field-function', {\n  template: listTemplate,\n  extend: ['furet-ui-list-field-common'],\n})\nfields.list.function = 'furet-ui-list-field-function'\n\n\ndefineComponent('furet-ui-thumbnail-field-function', {\n  template: thumbnailTemplate,\n  extend: ['furet-ui-thumbnail-field-common'],\n})\nfields.thumbnail.function = 'furet-ui-thumbnail-field-function'\n\n\ndefineComponent('furet-ui-form-field-function', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <component \n        v-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n      />\n      <span v-else>{{ value }}</span>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n})\nfields.form.function = 'furet-ui-form-field-function'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\n\nconst format = (value) => {\n  if (value)\n    try {\n        let parsed = value;\n        if (typeof value === \"string\") {\n            parsed = JSON.parse(value)\n        }\n      return JSON.stringify(parsed, null, 2);\n    } catch (e) {\n      // console.error('Fields.Json : parse json', e)\n      return null\n    }\n  return value;\n}\n\n\n/**\n * furet-ui-list-field-json component is used to manage json/jsonb on list\n * resource (``furet-ui-resource-list``).\n *\n * @example\n *  <furet-ui-form-field-json\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n */\ndefineComponent('furet-ui-list-field-json', {\n  template: `\n    <div>\n      <span v-if=\"isHidden\" />\n      <component \n        v-else-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n      />\n      <pre \n        v-else\n        v-bind:style=\"{width: '100%', padding: 2, backgroundColor: 'white'}\"\n      >{{value}}</pre>\n    </div>`,\n  extend: ['furet-ui-list-field-common'],\n  prototype: {\n    computed: {\n      value () {\n        const value = this.data[this.config.name] || '';\n        return format(value)\n      },\n    },\n  },\n})\nfields.list.json = 'furet-ui-list-field-json'\nfields.list.jsonb = 'furet-ui-list-field-json'\n\ndefineComponent('furet-ui-thumbnail-field-json', {\n  template: `\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <component \n        v-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n      />\n      <pre \n        v-else v-bind:style=\"{width: '100%', padding: 2, backgroundColor: 'white'}\"\n      >{{value}}</pre>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-thumbnail-field-common'],\n  prototype: {\n    computed: {\n      value () {\n        const value = this.data[this.config.name] || '';\n        return format(value)\n      },\n    },\n  },\n})\nfields.thumbnail.json = 'furet-ui-thumbnail-field-json'\nfields.thumbnail.jsonb = 'furet-ui-thumbnail-field-json'\n\n/**\n * furet-ui-form-field-json component is used to manage json/jsonb on form\n * resource (``furet-ui-resource-form``).\n *\n * @example\n *  <furet-ui-form-field-json\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String?} placeholder - A placeholder to help user to know what to collect\n */\ndefineComponent('furet-ui-form-field-json', {\n  template: `\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <b-field \n        v-bind:label=\"config.label\"\n        v-bind:type=\"getType\"\n        v-bind:message=\"getMessage\"\n        v-bind:style=\"{'width': 'inherit'}\"\n      >\n        <div v-if=\"isReadonly\">\n          <component \n            v-if=\"config.slot\" \n            v-bind:is=\"component_template\"\n            v-bind:config=\"config\"\n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n            v-bind:value=\"value\"\n          />\n          <pre v-else\n              v-bind:style=\"{width: '100%', padding: 2, backgroundColor: 'white'}\"\n          >{{value}}</pre>\n        </div>\n        <b-input \n          type=\"textarea\"\n          v-else \n          v-bind:value=\"value\" \n          v-on:input=\"updateValue\"\n          v-bind:placeholder=\"config.placeholder\"\n        />\n      </b-field>\n    </furet-ui-form-field-common-tooltip>\n  `,\n  extend: ['furet-ui-form-field-common', 'furet-ui-form-field-common-tooltip-field'],\n  prototype: {\n    computed: {\n      raw_value () {\n        return this.data[this.config.name] || '';\n      },\n      value () {\n        return format(this.raw_value)\n      },\n      getType () {\n        if (this.isRequired) {\n          if (this.raw_value) {\n            if (this.isJsonInvalid) return 'is-danger';\n            return 'is-info';\n          }\n          return 'is-danger';\n        }\n        if (this.isJsonInvalid) return 'is-danger';\n        return '';\n      },\n      getMessage () {\n        if (this.isRequired) {\n          if (!this.value) {\n            if (this.isJsonInvalid) return this.$t('components.fields.json.invalid');\n            return this.$i18n.t('components.fields.common.required');\n          }\n        }\n        if (this.isJsonInvalid) return this.$t('components.fields.json.invalid');\n        return ''\n      },\n      isJsonInvalid () {\n        if (!this.isReadonly) {\n          if (! this.raw_value) return false\n          try {\n            JSON.parse(this.raw_value)\n          } catch (e) {\n            // console.error(e, this.raw_value)\n            return true;\n          }\n        }\n        return false;\n      },\n    },\n  },\n})\nfields.form.json = 'furet-ui-form-field-json'\nfields.form.jsonb = 'furet-ui-form-field-json'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport { defineComponent } from \"../factory\";\nimport { fields } from \"./fields\";\nimport { listTemplate, thumbnailTemplate } from \"./common\";\n\ndefineComponent(\"furet-ui-common-field-float\", {\n  prototype: {\n    computed: {\n      value () {\n        const value =  this.data[this.config.name] || '';\n        if (value) return Number(value).toFixed(this.config.rounded || 2)\n        return '';\n      },\n    }\n  }\n});\n\ndefineComponent(\"furet-ui-list-field-float\", {\n  template: listTemplate,\n  extend: [\"furet-ui-list-field-common\", \"furet-ui-common-field-float\"],\n});\nfields.list.float = \"furet-ui-list-field-float\";\n\ndefineComponent(\"furet-ui-thumbnail-field-float\", {\n  template: thumbnailTemplate,\n  extend: [\"furet-ui-thumbnail-field-common\", \"furet-ui-common-field-float\"],\n});\nfields.thumbnail.float = \"furet-ui-thumbnail-field-float\";\n\n/**\n * furet-ui-form-fieldfloatinteger component is used to manage float on form\n * resource (``furet-ui-resource-form``).\n *\n * @example\n *  <furet-ui-form-field-float\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String?} icon - An icon to display on the left of the component\n * @param {String?} placeholder - A placeholder to help user to know what to collect\n * @param {Integer?} rounded - number of decimal for the float part\n */\ndefineComponent(\"furet-ui-form-field-float\", {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"rounded_value\"\n        />\n        <span v-else>{{ rounded_value }}</span>\n      </div>\n      <b-numberinput \n        v-else\n        v-bind:step=\"step\"\n        controlsPosition=\"compact\"\n        expanded\n        icon-pack=\"fa\"\n        v-bind:value=\"value\" \n        v-on:input=\"updateValue\"\n        v-bind:min=\"format_min_max(config.min)\"\n        v-bind:max=\"format_min_max(config.max)\"\n        v-bind:key=\"config.key\"\n        v-bind:icon=\"config.icon\"\n        v-bind:placeholder=\"config.placeholder\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: [\"furet-ui-form-field-common\"],\n  prototype: {\n    computed: {\n      rounded () {\n        return this.config.rounded || 2;\n      },\n      step () {\n        return Math.pow(0.1, this.rounded).toFixed(this.rounded);\n      },\n      rounded_value () {\n        return Number(this.value).toFixed(this.rounded);\n      },\n    },\n    methods: {\n      format_min_max (value) {\n        if (value === null) return undefined;\n        return value;\n      },\n    },\n  },\n});\nfields.form.float = \"furet-ui-form-field-float\";\n","import { fields } from \"./fields\";\nfields.list.decimal = \"furet-ui-list-field-float\";\nfields.thumbnail.decimal = \"furet-ui-thumbnail-field-float\";\nfields.form.decimal = \"furet-ui-form-field-float\";\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport { listTemplate, thumbnailTemplate } from './common';\nimport _ from 'underscore';\nimport {safe_eval} from './common';\n\n\ndefineComponent('furet-ui-common-field-password', {\n  prototype: {\n    computed: {\n      value () {\n        const value = this.data[this.config.name] || null\n        if (!value) return ''\n        return _.map(value, () => '*').join('');\n      },\n    },\n  },\n})\n\n\ndefineComponent('furet-ui-list-field-password', {\n  template: listTemplate,\n  extend: ['furet-ui-list-field-common', 'furet-ui-common-field-password'],\n})\nfields.list.password = 'furet-ui-list-field-password'\n\n\ndefineComponent('furet-ui-thumbnail-field-password', {\n  template: thumbnailTemplate,\n  extend: ['furet-ui-thumbnail-field-common', 'furet-ui-common-field-password'],\n})\nfields.thumbnail.password = 'furet-ui-thumbnail-field-password'\n\ndefineComponent('furet-ui-form-field-password', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"readonly_value\"\n        />\n        <span v-else>{{ readonly_value }}</span>\n      </div>\n      <b-input \n        v-else\n        v-bind:value=\"value\" \n        v-on:input=\"updateValue\"\n        v-bind:maxlength=\"config.maxlength\"\n        v-bind:placeholder=\"config.placeholder\"\n        icon-pack=\"fa\"\n        v-bind:icon=\"config.icon\"\n        type=\"password\"\n        v-bind:password-reveal=\"reveal\"\n        v-bind:key=\"config.key\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n  prototype: {\n    computed: {\n      readonly_value () {\n        const value = this.data[this.config.name] || null\n        if (!value) return ''\n        return _.map(value, () => '*').join('');\n      },\n      reveal () {\n        return safe_eval(this.config.reveal, this.data, this.resource);\n      },\n    },\n  }\n})\nfields.form.password = 'furet-ui-form-field-password'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport { VueEditor } from 'vue2-editor'\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\n\n\ndefineComponent('furet-ui-list-field-rich-text', {\n  template: `\n    <div>\n      <span v-if=\"isHidden\" />\n      <div \n        v-else \n        class=\"content is-small\"\n        v-html=\"value\" \n        v-bind:style=\"{width: '100%'}\"\n      />\n    </div>`,\n  extend: ['furet-ui-list-field-common'],\n})\nfields.list.richtext = 'furet-ui-list-field-rich-text'\n\ndefineComponent('furet-ui-thumbnail-field-rich-text', {\n  template: `\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div \n        class=\"content is-small\"\n        v-html=\"value\" \n        v-bind:style=\"{width: '100%'}\"\n      />\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-thumbnail-field-common'],\n})\nfields.thumbnail.richtext = 'furet-ui-thumbnail-field-rich-text'\n\ndefineComponent('furet-ui-form-field-rich-text', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div\n        class=\"box content is-small\"\n        v-if=\"isReadonly\"\n        v-html=\"value\"\n      />\n      <vue-editor \n        v-else\n        v-bind:placeholder=\"config.placeholder\"\n        v-model=\"value\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n  prototype: {\n    components: {\n      VueEditor\n    },\n    computed: {\n      value: {\n        get: function () {\n          return this.data[this.config.name] || null;\n        },\n        set: function (value) {\n          this.updateValue(value);\n        },\n      },\n    },\n  },\n})\nfields.form.richtext = 'furet-ui-form-field-rich-text'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport _ from 'underscore';\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\n\n\ndefineComponent('furet-ui-common-field-selection', {\n  prototype: {\n    computed: {\n      value () {\n          const selections = this.config.selections || {};\n          const value = this.data[this.config.name] || '';\n          if (selections[value] == undefined) return ' --- ';\n          return selections[value];\n      },\n      color () {\n          const colors = this.config.colors || {};\n          const value = this.data[this.config.name] || '';\n          return colors[value];\n      },\n    },\n  },\n})\nfields.list.selection = 'furet-ui-list-field-selection'\n\n\ndefineComponent('furet-ui-list-field-selection', {\n  template: `\n    <div>\n      <span v-if=\"isHidden\" />\n      <component \n        v-else-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n      />\n      <div v-else>\n        <b-tag v-if=\"color !== undefined\" v-bind:type=\"color\">{{value}}</b-tag>\n        <span v-else>{{value}}</span>\n      </div>\n    </div>\n  `,\n  extend: ['furet-ui-list-field-common', 'furet-ui-common-field-selection'],\n})\nfields.list.selection = 'furet-ui-list-field-selection'\n\n\ndefineComponent('furet-ui-thumbnail-field-selection', {\n  template: `\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <component \n        v-if=\"config.slot\" \n        v-bind:is=\"component_template\"\n        v-bind:config=\"config\"\n        v-bind:resource=\"resource\"\n        v-bind:data=\"data\"\n        v-bind:value=\"value\"\n      />\n      <div v-else>\n        <b-tag v-if=\"color !== undefined\" v-bind:type=\"color\">{{value}}</b-tag>\n        <span v-else>{{value}}</span>\n      </div>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-thumbnail-field-common', 'furet-ui-common-field-selection'],\n})\nfields.thumbnail.selection = 'furet-ui-thumbnail-field-selection'\n\n\ndefineComponent('furet-ui-form-field-selection', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"formated_value\"\n        />\n        <div v-else>\n          <b-tag v-if=\"color !== undefined\" v-bind:type=\"color\">{{formated_value}}</b-tag>\n          <span v-else>{{formated_value}}</span>\n        </div>\n      </div>\n      <div class=\"field has-addons\" v-else>\n        <p class=\"control\" v-if=\"color\">\n          <a class=\"button\">\n            <b-icon icon=\"info-circle\" v-bind:type=\"color\"/>\n          </a>\n        </p>\n        <b-select \n          v-bind:placeholder=\"config.placeholder\"\n          icon-pack=\"fa\"\n          v-bind:icon=\"config.icon\"\n          v-bind:value=\"value\"\n          expanded\n          v-on:input=\"updateValue\"\n          v-bind:key=\"config.key\"\n        >\n          <option \n            v-for=\"option in getSelections\"\n            v-bind:key=\"option.value\"\n            v-bind:value=\"option.value\"\n          >\n            {{ option.label }}\n          </option>\n        </b-select>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n  prototype: {\n    computed: {\n      formated_value () {\n        const selections = this.config.selections || {};\n        if (selections[this.value] == undefined) return ' --- ';\n        return selections[this.value];\n      },\n      getSelections () {\n        const colors = this.config.colors || {};\n        const selections = [];\n          if (!this.isRequired) selections.push({label: '', value: null, color: null});\n\n        _.each(this.config.selections, (label, value) => {\n          selections.push({value, label, color: colors[value]})\n        });\n\n        return selections;\n      },\n      color () {\n        const colors = this.config.colors || {};\n        return colors[this.value];\n      },\n    },\n  },\n})\nfields.form.selection = 'furet-ui-form-field-selection'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport _ from 'underscore';\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\n\ndefineComponent('furet-ui-field-statusbar-common', {\n  prototype: {\n    computed: {\n      getStates () {\n        const res = [];\n        _.each(this.config.selections, (label, value) => {\n          let type = '';\n          let added = true;\n          const isDone = (this.config['done-states'] || []).indexOf(value) !== -1 ? true : false;\n          const isDangerous = (this.config['dangerous-states'] || []).indexOf(value) !== -1 ? true : false;\n\n          if (this.value == value) {\n            if (isDone) type = 'is-success';\n            else if (isDangerous) type = 'is-danger';\n            else type = 'is-info';\n          } else if (isDangerous) added = false;\n\n          if (added) res.push({value, label, type})\n        })\n        return res\n      },\n    },\n  },\n})\n\ndefineComponent('furet-ui-list-field-statusbar', {\n  template:`\n    <span v-if=\"isHidden\" />\n    <b-taglist v-else attached>\n      <b-tag \n        v-for=\"state in getStates\" \n        v-bind:key=\"state.value\" \n        v-bind:type=\"state.type\" \n        size=\"is-medium\"\n      >\n        {{ state.label }}\n      </b-tag>\n    </b-taglist>\n  `,\n  extend: ['furet-ui-list-field-common', 'furet-ui-field-statusbar-common'],\n})\nfields.list.statusbar = 'furet-ui-list-field-statusbar'\n\ndefineComponent('furet-ui-thumbnail-field-statusbar', {\n  template: `\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <b-taglist attached>\n        <b-tag \n          v-for=\"state in getStates\" \n          v-bind:key=\"state.value\" \n          v-bind:type=\"state.type\" \n          size=\"is-small\"\n        >\n          {{ state.label }}\n        </b-tag>\n      </b-taglist>\n    </furet-ui-form-field-common-tooltip>\n  `,\n  extend: ['furet-ui-thumbnail-field-common', 'furet-ui-field-statusbar-common'],\n})\nfields.thumbnail.statusbar = 'furet-ui-thumbnail-field-statusbar'\n\ndefineComponent('furet-ui-form-field-statusbar', {\n  template: `\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <b-taglist attached>\n        <b-tag type=\"is-dark\" size=\"is-medium\">{{ config.label }}</b-tag>\n        <b-tag \n          v-for=\"state in getStates\" \n          v-bind:key=\"state.value\" \n          v-bind:type=\"state.type\" \n          size=\"is-medium\"\n        >\n          {{ state.label }}\n        </b-tag>\n      </b-taglist>\n    </furet-ui-form-field-common-tooltip>\n  `,\n  extend: ['furet-ui-form-field-common', 'furet-ui-field-statusbar-common'],\n})\nfields.form.statusbar = 'furet-ui-form-field-statusbar'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport { listTemplate, thumbnailTemplate } from './common';\n\n\ndefineComponent('furet-ui-list-field-string', {\n  template: listTemplate,\n  extend: ['furet-ui-list-field-common'],\n})\nfields.list.string = 'furet-ui-list-field-string'\n\n\ndefineComponent('furet-ui-thumbnail-field-string', {\n  template: thumbnailTemplate,\n  extend: ['furet-ui-thumbnail-field-common'],\n})\nfields.thumbnail.string = 'furet-ui-thumbnail-field-string'\n\n\ndefineComponent('furet-ui-form-field-string', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"value\"\n        />\n        <span v-else>{{ value }}</span>\n      </div>\n      <b-input \n        v-else\n        v-bind:value=\"value\" \n        v-on:input=\"updateValue\"\n        v-bind:maxlength=\"config.maxlength\"\n        v-bind:placeholder=\"config.placeholder\"\n        icon-pack=\"fa\"\n        v-bind:icon=\"config.icon\"\n        v-bind:key=\"config.key\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n})\nfields.form.string = 'furet-ui-form-field-string'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {fields} from './fields';\n\n\nfields.list.timestamp = 'furet-ui-list-field-datetime'\nfields.thumbnail.timestamp = 'furet-ui-thumbnail-field-datetime'\nfields.form.timestamp = 'furet-ui-form-field-datetime'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport {fields} from './fields';\nimport { listTemplate, thumbnailTemplate } from './common';\n\n\ndefineComponent('furet-ui-list-field-url', {\n  template: listTemplate,\n  extend: ['furet-ui-list-field-common'],\n})\nfields.list.url = 'furet-ui-list-field-url'\n\n\ndefineComponent('furet-ui-thumbnail-field-url', {\n  template: thumbnailTemplate,\n  extend: ['furet-ui-thumbnail-field-common'],\n})\nfields.thumbnail.url = 'furet-ui-thumbnail-field-url'\n\n\n/**\n * furet-ui-form-field-url component is used to manage url/uri on form\n * resource (``furet-ui-resource-form``).\n *\n * @example\n *  <furet-ui-form-field-url\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String?} placeholder - A placeholder to help user to know what to collect\n * @param {String?} length - A max size\n * @param {String?} icon - A fontawesome icon name\n */\ndefineComponent('furet-ui-form-field-url', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\">\n        <component \n          v-if=\"config.slot\" \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:value=\"value\"\n        />\n        <a v-else>{{ value }}</a>\n      </div>\n      <div \n        v-else\n        class=\"field has-addons\" \n      >\n        <p class=\"control is-expanded\">\n          <b-input \n            v-bind:value=\"value\" \n            v-on:input=\"updateValue\"\n            v-bind:maxlength=\"config.maxlength\"\n            v-bind:placeholder=\"config.placeholder\"\n            icon-pack=\"fa\"\n            v-bind:icon=\"config.icon\"\n            v-bind:key=\"config.key\"\n          />\n        </p>\n        <p class=\"control\" v-if=\"value\">\n          <a class=\"button\" v-bind:href=\"value\" target=\"_blank\">\n            <b-icon icon=\"external-link-alt\"></b-icon>\n          </a>\n        </p>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: ['furet-ui-form-field-common'],\n})\nfields.form.url = 'furet-ui-form-field-url'\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport { defineComponent } from \"../../factory\";\nimport { fields } from \"../fields\";\n\n/**\n * furet-ui-field-many2one component is a mixin used to manage relationship many2one\n *\n * @mixin\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {String} display - An evaluate string to display the entry\n */\ndefineComponent(\"furet-ui-field-many2one-common\", {\n  prototype: {\n    computed: {\n      value() {\n        const value = this.data[this.config.name] || \"\";\n        if (value) {\n          const model = this.config.model;\n          return this.format(this.config.display, this.getEntry(model, value));\n        } else return \"\";\n      },\n    },\n    methods: {\n      onClick() {\n        const value = this.data[this.config.name];\n        if (value) this.openResource(value);\n      },\n    },\n  },\n});\n\n/**\n * furet-ui-list-field-many2one component is used to manage relationship many2one on list\n * resource (``furet-ui-resource-list``).\n *\n * Extend Mixins:\n *  * @see ``furet-ui-list-field-common``\n *  * @see ``furet-ui-field-relationship``\n *  * @see ``furet-ui-field-many2one-common``\n *\n * @example\n *  <furet-ui-list-field-many2one\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @mixes <furet-ui-list-field-common>, <furet-ui-field-relationship>, <furet-ui-field-many2one-common>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {String} display - An evaluate string to display the entry\n * @param {String} slot - An evaluate template to display the entry more power full that display\n */\ndefineComponent(\"furet-ui-list-field-many2one\", {\n  template: `\n    <div>\n      <span v-if=\"isHidden\" />\n      <a v-else-if=\"config.slot\" v-on:click.stop=\"onClick\">\n        <component \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:relation=\"slot_fields\"\n        />\n      </a>\n      <a v-else v-on:click.stop=\"onClick\">{{value}}</a>\n    </div>`,\n  extend: [\n    \"furet-ui-list-field-common\",\n    \"furet-ui-field-relationship\",\n    \"furet-ui-field-many2one-common\",\n  ],\n});\nfields.list.many2one = \"furet-ui-list-field-many2one\";\n\ndefineComponent(\"furet-ui-thumbnail-field-many2one\", {\n  template: `\n    <furet-ui-thumbnail-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <a v-if=\"config.slot\" v-on:click.stop=\"onClick\">\n        <component \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:relation=\"slot_fields\"\n        />\n      </a>\n      <a v-else v-on:click.stop=\"onClick\">{{value}}</a>\n    </furet-ui-thumbnail-field-common-tooltip-field>\n  `,\n  extend: [\n    \"furet-ui-thumbnail-field-common\",\n    \"furet-ui-field-relationship\",\n    \"furet-ui-field-many2one-common\",\n    \"furet-ui-field-relationship-search\",\n  ],\n});\nfields.thumbnail.many2one = \"furet-ui-thumbnail-field-many2one\";\n\n/**\n * furet-ui-form-field-many2one component is used to manage relationship many2one on form\n * resource (``furet-ui-resource-form``).\n *\n * Extend Mixins:\n *  * @see ``furet-ui-form-field-common``\n *  * @see ``furet-ui-field-relationship``\n *  * @see ``furet-ui-field-many2one-common``\n *\n * @example\n *  <furet-ui-form-field-many2one\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @mixes <furet-ui-form-field-common>, <furet-ui-field-relationship>, <furet-ui-field-many2one-common>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String?} icon - An icon to display on the left of the component\n * @param {String?} placeholder - A placeholder to help user to know what to collect\n * @param {String} model - A model name, needed to display the data\n * @param {Array[String]} fields - Names of field to get by api\n * @param {Array[String]} filter_by - Names of field used to create filter during call of the api\n * @param {String} display - An evaluate string to display the entry\n * @param {Integer} limit - Apply a limit in the api query\n */\ndefineComponent(\"furet-ui-form-field-many2one\", {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <a v-if=\"isReadonly\" v-on:click.stop=\"onClick\">\n        <component \n          v-if=\"config.slot\"\n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:relation=\"slot_fields\"\n        />\n        <span v-else>{{value}}</span>\n      </a>\n      <b-autocomplete\n        v-else\n        v-bind:value=\"value\"\n        v-bind:data=\"choices\"\n        field=\"label\"\n        v-bind:placeholder=\"config.placeholder\"\n        v-bind:max-height=\"config.maxheight ? config.maxheight : '200px'\"\n        icon-pack=\"fa\"\n        v-bind:check-infinite-scroll=\"true\"\n        v-bind:icon=\"config.icon\"\n        v-on:typing=\"onChange\"\n        v-on:select=\"onSelect\"\n        v-on:infinite-scroll=\"getMoreAsyncData\"\n      >\n        <template slot-scope=\"props\">\n          <component \n            v-if=\"config.slot\"\n            v-bind:is=\"component_template\"\n            v-bind:config=\"config\"\n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n            v-bind:relation=\"props.option.relation\"\n          />\n          <span v-else>\n            {{ props.option.label }}\n          </span>\n        </template>\n        <template #footer>\n          <span v-if=\"((page * config.limit) > total)\" class=\"has-text-grey\">{{ $t('components.fields.relationship.no_more') }}</span>\n        </template>\n        <template #empty>\n          <span class=\"has-text-grey\">{{ $t('components.fields.relationship.not_found') }}</span>\n        </template>\n      </b-autocomplete>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: [\n    \"furet-ui-form-field-common\",\n    \"furet-ui-field-relationship\",\n    \"furet-ui-field-many2one-common\",\n    \"furet-ui-field-relationship-search\",\n  ],\n  prototype: {\n    methods: {\n      onSelect(value) {\n        this.updateValue(value.pk);\n      },\n      beforeOnChange() {\n        if (this.value) this.updateValue(null);\n      },\n    },\n  },\n});\nfields.form.many2one = \"furet-ui-form-field-many2one\";\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport { defineComponent } from '../../factory'\nimport { fields } from '../fields';\nimport { RelationShipX2MList, RelationShipX2MThumbnail } from './common';\nimport { pk2string } from \"../../../store/modules/data\";\n\ndefineComponent('furet-ui-common-field-one2many', {\n  prototype: {\n    computed: {\n      values () {\n        const res = [];\n        const display = this.config.display;\n        const model = this.config.model;\n        this.value.forEach(pk => {\n          res.push({\n            pk,\n            label: this.format(display, this.getEntry(model, pk)),\n          });\n        });\n        return res;\n      },\n    },\n  },\n})\n\n/**\n * furet-ui-list-field-one2many component is used to manage relationship one2many on list\n * resource (``furet-ui-resource-list``).\n *\n * Extend Mixins:\n *  * @see ``furet-ui-list-field-common``\n *  * @see ``furet-ui-field-relationship``\n *\n * @example\n *  <furet-ui-list-field-one2many\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @mixes <furet-ui-list-field-common>, <furet-ui-field-relationship>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {String} display - An evaluate string to display the entry\n */\ndefineComponent('furet-ui-list-field-one2many', {\n  template: RelationShipX2MList,\n  extend: [\n    'furet-ui-list-field-common',\n    'furet-ui-field-relationship', \n    'furet-ui-common-field-one2many'\n  ],\n})\nfields.list.one2many = 'furet-ui-list-field-one2many'\n\ndefineComponent(\"furet-ui-thumbnail-field-one2many\", {\n  template: RelationShipX2MThumbnail,\n  extend: [\n    \"furet-ui-thumbnail-field-common\", \n    \"furet-ui-field-relationship\", \n    \"furet-ui-common-field-one2many\"\n  ],\n});\nfields.thumbnail.one2many = \"furet-ui-thumbnail-field-one2many\";\n\n\ndefineComponent('furet-ui-page-o2m-list-header', {\n  template: `\n    <header id=\"furet-ui-page-multi-entries-header\">\n      <div class=\"level\">\n        <div class=\"level-left\">\n          <div class=\"buttons is-grouped is-left\">\n            <div v-if=\"can_go_to_new\">\n              <b-dropdown \n                :triggers=\"['hover']\" \n                v-if=\"go_to_new_choices.length\"\n                v-bind:disabled=\"readonly\"\n              >\n                <button \n                  class=\"button is-x2m-created is-small\" \n                  slot-scope=\"{ active }\"\n                  slot=\"trigger\">\n                  <span class=\"icon\"><b-icon icon=\"plus\" /></span>\n                  <span>{{ $t('components.header.new') }}</span>\n                  <span class=\"icon\"><b-icon :icon=\"active ? 'caret-up' : 'caret-down'\" /></span>\n                </button>\n                <b-dropdown-item \n                  v-for=\"choice in go_to_new_choices\"\n                  v-bind:key=\"choice.resource_id\"\n                  aria-role=\"listitem\"\n                  v-on:click=\"goToNewPolymorphic(choice)\"\n                >\n                  {{ choice.label }}\n                </b-dropdown-item>\n              </b-dropdown>\n              <button \n                id=\"furet-ui-page-multi-entries-header-new\" \n                v-else\n                v-bind:disabled=\"readonly\"\n                class=\"button is-x2m-created is-small\" \n                v-on:click=\"goToNew\"\n              >\n                <span class=\"icon\"><b-icon icon=\"plus\" /></span>\n                <span>{{ $t('components.header.new') }}</span>\n              </button>\n            </div>\n            <slot name=\"actions\" v-bind:data=\"data\" />\n          </div>\n        </div>\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <b-field grouped group-multiline>\n              <div class=\"control\" v-for=\"tag in tags\" v-if=\"tag.selected\" v-bind:key=\"tag.key\">\n                  <b-tag \n                    v-bind:class=\"['furet-ui-page-multi-entries-header-tag', tag.key]\" \n                    type=\"is-primary\" closable \n                    v-on:close=\"removeTag(tag)\">{{ $t(tag.label) }} </b-tag>\n              </div>\n              <div class=\"control\" v-for=\"filter in filters\" v-if=\"filter.values.length\" v-bind:key=\"filter.key + '-' + filter.mode + '-' + filter.opt\">\n                <b-taglist attached>\n                  <b-tag type=\"is-danger\" v-if=\"filter.mode == 'exclude'\"> ~ </b-tag>\n                  <b-tag type=\"is-dark\">{{ filter.label }}</b-tag>\n                  <b-tag \n                    type=\"is-primary\" \n                    closable \n                    v-for=\"value in filter.values\" \n                    v-bind:class=\"['furet-ui-page-multi-entries-header-filter', filter.key, value]\" \n                    v-on:close=\"removeFilter(filter.key, filter.mode, filter.opt, value)\" \n                    v-bind:key=\"value\">{{ value }} </b-tag>\n                </b-taglist>\n              </div>\n            </b-field>\n          </div>\n          <div class=\"level-item\" v-if=\"filters.length\" >\n            <b-autocomplete\n              v-model=\"filterSearch\"\n              v-bind:data=\"filteredDataArray\"\n              v-bind:placeholder=\"this.$i18n.t('components.header.search')\"\n              icon=\"search\"\n              v-on:select=\"updateFilters\"\n              clear-on-select\n              size=\"is-small\"\n            >\n              <template slot=\"empty\">{{ $t('components.header.notFound') }}</template>\n              <template slot-scope=\"props\">\n                {{ props.option.mode == 'exclude' ? ' ~ ' : '' }} <small>{{ props.option.label }} </small> : <strong>{{ props.option.value }}</strong>\n              </template>\n            </b-autocomplete>\n          </div>\n          <div class=\"level-item buttons\">\n            <a id=\"furet-ui-page-multi-entries-header-refresh\" class=\"button is-small\" v-on:click=\"refresh\"><b-icon icon=\"redo\" /></a>\n            <a id=\"furet-ui-page-multi-entries-header-tags\" v-if=\"tags.length\" class=\"button is-small\" v-on:click.stop=\"tag_list_open = ! tag_list_open\">\n              <b-icon :icon=\"tag_list_open ? 'arrow-circle-up' : 'arrow-circle-down'\" />\n            </a>\n          </div>\n        </div>\n      </div>\n      <b-collapse class=\"panel is-pulled-right\" v-bind:open.sync=\"tag_list_open\">\n        <b-taglist>\n          <b-tag v-for=\"tag in tags\" v-bind:key=\"tag.key\" v-bind:class=\"['is-small', tag.selected ? '': 'has-text-weight-bold']\" >\n            <a \n              v-bind:class=\"['furet-ui-page-multi-entries-header-toggle-tag', tag.key]\" \n              v-on:click.stop=\"toggleTag(tag)\">{{ tag.label }}</a>\n          </b-tag>\n        </b-taglist>\n      </b-collapse>\n    </header>\n  `,\n  extend: ['furet-ui-page-multi-entries-header'],\n});\n\ndefineComponent('furet-ui-page-o2m-page-header', {\n  template: `\n    <header id=\"header_page\">\n      <div class=\"buttons is-grouped has-addons\">\n        <a v-if=\"show_save\" class=\"button is-small\" v-on:click=\"goToPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"times\" />\n          </span>\n          <span>{{ $t('components.header.cancel') }}</span>\n        </a>\n        <a v-else class=\"button is-small\" v-on:click=\"goToList\">\n          <span class=\"icon\">\n            <b-icon icon=\"arrow-left\" />\n          </span>\n          <span>{{ $t('components.header.return') }}</span>\n        </a>\n        <a v-if=\"prevous_target\" class=\"button is-small\" v-on:click=\"goToPreviousPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"page-previous\" />\n          </span>\n          <span>{{ $t('components.header.previous') }}</span>\n        </a>\n        <a v-if=\"next_target\" class=\"button is-small\" v-on:click=\"goToNextPage\">\n          <span class=\"icon\">\n            <b-icon icon=\"page-next\" />\n          </span>\n          <span>{{ $t('components.header.next') }}</span>\n        </a>\n        <div v-if=\"can_go_to_new\">\n          <b-dropdown \n            :triggers=\"['hover']\" \n            v-if=\"go_to_new_choices.length\"\n            v-bind:disabled=\"readonly\"\n          >\n            <button \n              class=\"button is-x2m-created is-small\" \n              slot-scope=\"{ active }\"\n              slot=\"trigger\">\n              <span class=\"icon\"><b-icon icon=\"plus\" /></span>\n              <span>{{ $t('components.header.new') }}</span>\n              <span class=\"icon\"><b-icon :icon=\"active ? 'caret-up' : 'caret-down'\" /></span>\n            </button>\n            <b-dropdown-item \n              v-for=\"choice in go_to_new_choices\"\n              v-bind:key=\"choice.resource_id\"\n              aria-role=\"listitem\"\n              v-on:click=\"goToNewPolymorphic(choice)\"\n            >\n              {{ choice.label }}\n            </b-dropdown-item>\n          </b-dropdown>\n          <button v-else v-bind:disabled=\"readonly\" class=\"button is-x2m-created is-small\" v-on:click=\"goToNew\">\n            <span class=\"icon\">\n              <b-icon icon=\"plus\" />\n            </span>\n            <span>{{ $t('components.header.new') }}</span>\n          </button>\n        </div>\n        <button v-if=\"can_modify\" v-bind:disabled=\"readonly\" class=\"button is-x2m-updated is-small\" v-on:click=\"goToEdit\">\n          <span class=\"icon\">\n            <b-icon icon=\"pencil-alt\" />\n          </span>\n          <span>{{ $t('components.header.edit') }}</span>\n        </button>\n        <button v-if=\"show_save & data.__uuid !== undefined\" v-bind:disabled=\"can_save\" class=\"button is-x2m-created is-small\" v-on:click=\"save\">\n          <span class=\"icon\">\n            <b-icon icon=\"save\" />\n          </span>\n          <span>{{ $t('components.header.apply') }}</span>\n        </button>\n        <button v-if=\"show_save & data.__uuid === undefined\" v-bind:disabled=\"can_save\" class=\"button is-x2m-updated is-small\" v-on:click=\"save\">\n          <span class=\"icon\">\n            <b-icon icon=\"save\" />\n          </span>\n          <span>{{ $t('components.header.apply') }}</span>\n        </button>\n        <button v-if=\"can_delete\" v-bind:disabled=\"readonly\" class=\"button is-x2m-deleted is-small\" v-on:click=\"deleteEntry\">\n          <span class=\"icon\">\n            <b-icon icon=\"trash\" />\n          </span>\n          <span>{{ $t('components.header.delete') }}</span>\n        </button>\n        <slot name=\"head_actions\" v-bind:data=\"data\" />\n      </div>\n    </header>\n  `,\n  extend: ['furet-ui-header-page'],\n});\n\n/**\n * furet-ui-form-field-one2many component is used to manage relationship one2many on form\n * resource (``furet-ui-resource-form``).\n *\n * Extend Mixins:\n *  * @see ``furet-ui-list-field-common``\n *\n * @example\n *  <furet-ui-form-field-one2many\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @mixes <furet-ui-list-field-common>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {Integer} resource - Id of the resource to used\n */\ndefineComponent(\"furet-ui-form-field-one2many\", {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <furet-ui-form-field-resource-manager\n        ref=\"manager\"\n        v-bind:id=\"config.resource\"\n        v-bind:x2m_resource=\"resource\"\n        v-bind:isReadonly=\"isReadonly\"\n        v-bind:config=\"x2mconfig\"\n        v-bind:value=\"value\"\n\n        v-on:add=\"o2m_add\"\n        v-on:revert=\"o2m_revert\"\n        v-on:update=\"o2m_update\"\n        v-on:delete=\"o2m_delete\"\n\n        v-on:modify-state=\"modifyState\"\n      />\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  extend: [\"furet-ui-form-field-common\"],\n  prototype: {\n    inject: ['registryRefreshCallback', 'updateModifyState'],\n    computed: {\n      x2mconfig () {\n        if (this.config.multi_header_component_name === undefined) {\n          this.config.multi_header_component_name = 'furet-ui-page-o2m-list-header';\n        }\n        if (this.config.page_header_component_name === undefined) {\n          this.config.page_header_component_name = 'furet-ui-page-o2m-page-header';\n        }\n        this.config.pagination_size = 'is-small';\n        return this.config;\n      },\n    },\n    methods: {\n      addState(actions, state) {\n        return [Object.assign({}, actions.pks, { __x2m_state: state})];\n      },\n      o2m_revert(actions) {\n        const newvalue = [];\n        const changes = {};\n        changes[actions.model] = {};\n        if (actions.uuid){\n          newvalue.push({ __revert: true, uuid: actions.uuid });\n          changes[actions.model][\"new\"] = {};\n          changes[actions.model][\"new\"][actions.uuid] = {\"__revert\": true};\n        } else {\n          changes[actions.model][pk2string(actions.pks)] = {\"__revert\": true};\n          newvalue.push(Object.assign({ __revert: true}, actions.pks));\n        }\n        this.updateValue(newvalue, changes);\n      },\n      o2m_add(actions) {\n        const newvalue = [];\n        newvalue.push({ __x2m_state: \"ADDED\", uuid: actions.uuid });\n        this.updateValue(newvalue, actions.changes);\n      },\n      o2m_update(actions) {\n        this.updateValue(this.addState(actions, \"UPDATED\"), actions.changes);\n      },\n      o2m_delete(actions) {\n        const data = {};\n        data[actions.model] = {};\n        const pks = pk2string(actions.pks);\n        data[actions.model][pks] = Object.assign({__change_state: \"delete\"}, actions.pks);\n        this.updateValue(this.addState(actions, \"DELETED\"), data);\n      },\n      refresh () {\n        this.$refs.manager.$refs.resource.refresh()\n      },\n      modifyState (state) {\n        this.updateModifyState(state)\n      },\n    },\n    mounted () {\n      this.registryRefreshCallback(this.refresh);\n    },\n  }\n});\nfields.form.one2many = \"furet-ui-form-field-one2many\";\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2020 Pierre Verkest <pierrevekrest84@gmail.com>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport { defineComponent } from \"../../factory\";\nimport { fields } from \"../fields\";\nimport { RelationShipX2MList, RelationShipX2MThumbnail } from \"./common\";\n\n/**\n * furet-ui-field-many2many-common component is a mixin used to manage relationship many2one\n *\n * @mixin\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} model - A model name, needed to display the data\n * @param {String} display - An evaluate string to display the entry\n */\ndefineComponent(\"furet-ui-field-many2many-common\", {\n  prototype: {\n    computed: {\n      values() {\n        const res = [];\n        const display = this.config.display;\n        const model = this.config.model;\n        if (this.value === null) {\n          return [];\n        }\n        this.value.forEach((pk) => {\n          const relation = this.getEntry(model, pk);\n          res.push({\n            pk,\n            label: this.format(display, relation),\n            relation,\n          });\n        });\n        return res;\n      },\n    },\n    methods: {\n      openResource(value) {\n        const params = { code: this.$route.params.code, menuId: 0, id: 0 };\n        if (this.config.menu) params.menuId = this.config.menu;\n        if (this.config.resource) {\n          const query = { mode: \"form\", pks: JSON.stringify(value.pk) };\n          params.id = this.config.resource;\n          this.pushInBreadcrumb();\n          this.$router.push({ name: \"resource\", params, query });\n        }\n      },\n    },\n  },\n});\n\n/**\n * furet-ui-list-field-many2many component is used to manage relationship many2many on list\n * resource (``furet-ui-resource-list``).\n *\n * Extend Mixins:\n *  * @see ``furet-ui-list-field-common``\n *  * @see ``furet-ui-field-relationship``\n *\n * @example\n *  <furet-ui-list-field-many2many\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @mixes <furet-ui-list-field-common>, <furet-ui-field-relationship>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {String} display - An evaluate string to display the entry\n */\ndefineComponent(\"furet-ui-list-field-many2many\", {\n  template: RelationShipX2MList,\n  extend: [\n    \"furet-ui-list-field-common\",\n    \"furet-ui-field-relationship\",\n    \"furet-ui-field-many2many-common\",\n  ],\n});\nfields.list.many2many = \"furet-ui-list-field-many2many\";\n\ndefineComponent(\"furet-ui-thumbnail-field-many2many\", {\n  template: RelationShipX2MThumbnail,\n  extend: [\n    \"furet-ui-thumbnail-field-common\",\n    \"furet-ui-field-relationship\",\n    \"furet-ui-field-many2many-common\",\n  ],\n});\nfields.thumbnail.many2many = \"furet-ui-thumbnail-field-many2many\";\n\n/**\n * furet-ui-form-field-many2many-tags component is used to manage relationship many2many on form\n * resource (``furet-ui-resource-form``).\n *\n * Extend Mixins:\n *  * @see ``furet-ui-list-field-common``\n *\n * @example\n *  <furet-ui-form-field-many2many-tags\n *    :config=\"aConfigObject\"\n *    :data=\"aDataObject\"\n *    :resource=\"aResourceObject\"/>\n *\n * @mixes <furet-ui-list-field-common>\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {Integer} resource - Id of the resource to used\n */\ndefineComponent(\"furet-ui-form-field-many2many-tags\", {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div v-if=\"isReadonly\" >\n        <div class=\"buttons\">\n          <b-button \n            v-on:click.stop=\"openResource(record)\"\n            v-for=\"record in values\"\n            :key=\"getKey(record)\"\n            type=\"is-info\"\n            size=\"is-small\"\n            >\n              <component \n                v-if=\"config.slot\"\n                v-bind:is=\"component_template\"\n                v-bind:config=\"config\"\n                v-bind:resource=\"resource\"\n                v-bind:data=\"data\"\n                v-bind:relation=\"get_slot_fields_for(record.pk)\"\n              />\n              <span v-else>{{ record.label }}</span>\n          </b-button>\n        </div>\n    </div>\n    <b-taginput\n      v-else\n      v-bind:value=\"values\"\n      v-bind:data=\"choices\"\n      autocomplete\n      ref=\"taginput\"\n      v-bind:placeholder=\"config.placeholder\"\n      v-bind:allow-new=\"false\"\n      v-bind:open-on-focus=\"false\"\n      v-bind:check-infinite-scroll=\"true\"\n      icon-pack=\"fa\"\n      type=\"is-info\"\n      v-bind:icon=\"config.icon\"\n      v-on:typing=\"onChange\"\n      v-on:add=\"onSelect\"\n      v-on:remove=\"onUnSelect\"\n      v-on:infinite-scroll=\"getMoreAsyncData\"\n    >\n      <template slot=\"empty\">\n        <span class=\"has-text-grey\">{{ $t('components.fields.relationship.not_found') }}</span>\n      </template>\n      <!-- template to display search results -->\n      <template slot-scope=\"searched\">\n        <component \n          v-if=\"config.slot\"\n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:relation=\"searched.option.relation\"\n        />\n        <span v-else>\n          {{ searched.option.label }}\n        </span>\n      </template>\n      <template #footer>\n        <span v-if=\"((page * config.limit) > total)\" class=\"has-text-grey\">{{ $t('components.fields.relationship.no_more') }}</span>\n      </template>\n      <template slot=\"selected\" slot-scope=\"props\">\n        <b-tag\n          v-for=\"(tag, index) in props.tags\"\n          v-bind:key=\"index\"\n          v-bind:type=\"getType(tag)\"\n          v-bind:tabstop=\"false\"\n          v-bind:closable=\"isClosable(tag)\"\n          v-on:close=\"$refs.taginput.removeTag(index, $event)\"\n        >\n          <component \n            v-if=\"config.slot\"\n            v-bind:is=\"component_template\"\n            v-bind:config=\"config\"\n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n            v-bind:relation=\"tag.relation\"\n          />\n          <span v-else>\n            {{ tag.label }}\n          </span>\n        </b-tag>\n      </template>\n    </b-taginput>\n  </furet-ui-form-field-common-tooltip-field>`,\n  extend: [\n    \"furet-ui-form-field-common\",\n    \"furet-ui-field-relationship\",\n    \"furet-ui-field-many2many-common\",\n    \"furet-ui-field-relationship-search\",\n  ],\n  prototype: {\n    methods: {\n      isClosable(value) {\n        if (\n          value.pk &&\n          value.pk.__x2m_state &&\n          value.pk.__x2m_state === \"UNLINKED\"\n        ) {\n          return false;\n        }\n        return true;\n      },\n      getType(value) {\n        if (\n          value.pk &&\n          value.pk.__x2m_state &&\n          value.pk.__x2m_state === \"UNLINKED\"\n        ) {\n          return \"\";\n        }\n        return \"is-primary\";\n      },\n      onUnSelect(value) {\n        const data = {};\n        const values = Object.assign([], this.value);\n        if (value.pk.__x2m_state && value.pk.__x2m_state === \"LINKED\") {\n          Object.assign(values[values.indexOf(value.pk)], {\n            __revert: true,\n          });\n        } else {\n          Object.assign(values[values.indexOf(value.pk)], {\n            __x2m_state: \"UNLINKED\",\n          });\n        }\n        this.updateValue(values, data);\n      },\n      onSelect(value) {\n        const data = {};\n        this.updateValue(\n          this.value.concat([\n            Object.assign({}, value.pk, { __x2m_state: \"LINKED\" }),\n          ]),\n          data\n        );\n      },\n    },\n  },\n});\nfields.form.many2manytags = \"furet-ui-form-field-many2many-tags\";\n","import { fields } from './fields';\nimport './common';\nimport './barcode';\nimport './boolean';\nimport './color';\nimport './datetime';\nimport './mail';\nimport './integer';\nimport './function';\nimport './json';\nimport './float';\nimport './decimal';\nimport './password';\nimport './rich-text';\nimport './selection';\nimport './statusbar';\nimport './string';\nimport './timestamp';\nimport './url';\n\n/* TO ADD\n * date\n * file\n * text\n * time\n */\n\nimport './relationship';\n\nimport { defineComponent } from '../factory';\n\ndefineComponent('furet-ui-unknown-field', {\n  template : `<div>Unknown Field <strong>{{config.type}}</strong></div>`,\n  prototype: {\n    props: ['config', 'data'],\n  }\n})\n\ndefineComponent('furet-ui-field', {\n  template : `\n    <component \n      v-bind:is=\"component\" \n      v-bind:resource=\"resource\" \n      v-bind:config=\"config\" \n      v-bind:data=\"data\"\n    />\n  `,\n  prototype: {\n    props: ['resource', 'config', 'data'],\n    computed: {\n      component () {\n        let type = this.resource.type;\n        if (type === 'singleton') type = 'form';\n        return (fields[type] || {})[this.config.type] || 'furet-ui-unknown-field'\n      },\n    },\n  }\n})\n","/*\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n   Copyright (C) 2019 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n*/\n\n// initial state\nexport const defaultState = {\n  appLoaded: false,\n  userName: \"\",\n  userTimeZone: \"Europe/Paris\",\n  authenticated: false,\n  root_menus: [],\n  user_menus: [],\n  previous_route: {},\n  left_menus: [],\n  isOpenLeft: false,\n  breadcrumb: [],\n  loginPage: \"password\",\n};\n\n// getters\nexport const getters = {\n  loggedIn(state) {\n    return state.authenticated;\n  },\n  isLoaded(state) {\n    return state.appLoaded;\n  },\n};\n\n// actions\nexport const actions = {};\n\n// mutations\nexport const mutations = {\n  PushBreadcrumb(state, resource) {\n    state.breadcrumb.push(resource);\n  },\n  ClearBreadcrumbFrom(state, index) {\n    state.breadcrumb.splice(index, state.breadcrumb.length - index);\n  },\n  PopBreadcrumb(state) {\n    state.breadcrumb.pop();\n  },\n  ClearBreadcrumb(state) {\n    state.breadcrumb = [];\n  },\n  SET_LOGIN_PAGE(state, loginPage) {\n    if (loginPage && loginPage.login_page)\n      state.loginPage = loginPage.login_page;\n  },\n  \"FURETUI LOADED\"(state) {\n    state.appLoaded = true;\n  },\n  LOGIN(state, action) {\n    state.authenticated = true;\n    if (action !== undefined && action.userName !== undefined) {\n      state.userName = action.userName;\n    }\n  },\n  LOGOUT(state) {\n    state.authenticated = false;\n    state.userName = \"\";\n  },\n  UPDATE_PREVIOUS_ROUTE(state, action) {\n    state.previous_route = action.route;\n  },\n  UPDATE_ROOT_MENUS(state, action) {\n    state.root_menus = action.menus;\n  },\n  UPDATE_USER_MENUS(state, action) {\n    state.user_menus = action.menus;\n  },\n  UPDATE_GLOBAL(state, action) {\n    // eslint-disable-next-line\n    for (const [key, value] of Object.entries(action)) {\n      state[key] = value;\n    }\n  },\n  OPEN_LEFT_MENU(state, value) {\n    state.isOpenLeft = value;\n  },\n  UPDATE_CURRENT_LEFT_MENUS(state, action) {\n    state.left_menus = action.menus;\n  },\n};\n\nexport default {\n  state: defaultState,\n  getters,\n  actions,\n  mutations,\n};\n","/*\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n   Copyright (C) 2019 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n*/\nimport Vue from 'vue';\n\n// initial state\nexport const defaultState = {\n};\n\n// getters\nexport const getters = {\n};\n\n// actions\nexport const actions = {\n};\n\n// mutations\nexport const mutations = {\n  UPDATE_RESOURCES(state, action) {\n    action.definitions.forEach(definition => {\n      let updateDefinition = true;\n      if (state[definition.id] !== undefined) {\n        if (JSON.stringify(definition) === JSON.stringify(state[definition.id])) updateDefinition = false;\n      }\n      if (updateDefinition) Vue.set(state, String(definition.id), definition);\n    });\n  },\n  UPDATE_RESOURCE_TOGGLE_HIDDEN_COLUMN(state, action) {\n    state[action.id].headers.forEach(header => {\n      if (header.name == action.field) {\n        header['hidden-column'] = ! header['hidden-column']\n        Vue.set(state, action.id, Object.assign({}, state[action.id]))\n      }\n    });\n  },\n};\n\nexport default {\n  state: defaultState,\n  getters,\n  actions,\n  mutations,\n};\n","/*\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n*/\n\nimport global from './global';\nimport data from './data';\nimport resource from './resource';\n// import browser from './browser';\n\nexport default {\n  global,\n  data,\n  resource,\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nimport modules from \"./modules\";\n\nVue.use(Vuex);\nconst debug = process.env.NODE_ENV !== \"production\";\n\nexport const storeDef = {\n  modules,\n  strict: debug\n};\n\nexport const createStore = () => new Vuex.Store(storeDef);\nexport default createStore;\n","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\nexport const routes = [\n    {\n      name: 'homepage',\n      path: '/',\n      component: {\n        template: '<homepage />',\n      },\n      meta: { requiresAuth: false },\n    },\n    {\n      name: 'login',\n      path: '/login',\n      component: {\n        template: '<furet-ui-login />',\n      },\n      meta: { requiresAuth: false },\n    },\n    {\n      name: 'space',\n      path: '/space/:code/menu/:menuId',\n      component: {\n        template: `\n          <furet-ui-space \n            v-bind:code=\"$route.params.code\"\n            v-bind:menuId=\"$route.params.menuId\"\n          />`,\n      },\n      meta: { requiresAuth: true },\n      children: [\n        {\n          name: 'resource',\n          path: 'resource/:id',\n          component: {\n            template: `\n                <furet-ui-space-resource-manager v-bind:id=\"$route.params.id\" />\n            `,\n          },\n        }\n      ],\n    },\n];\n\nexport const createRouter = (store, routes) => {\n  const router = new Router({ routes });\n\n  router.beforeEach((to, from, next) => {\n    const proceed = () => {\n      if (store.state.global.appLoaded) {\n        if (to.matched.some(record => record.meta.requiresAuth)) {\n          if (!store.getters.loggedIn) {\n            next({ path: '/login', query: { redirect: to.fullPath } });\n          } else {\n            next();\n          }\n        } else {\n          next(); // make sure to always call next()!\n        }\n      }\n    }\n\n    if (!store.state.global.appLoaded) {\n      store.watch(\n        (state) => state.global.appLoaded,\n        (value) => {\n          if (value === true) {\n            proceed()\n          }\n        }\n      )\n    } else {\n      proceed()\n    }\n\n  });\n  return router;\n};\n\nexport default {\n  routes,\n  createRouter,\n};\n","import _ from 'underscore';\nimport moment from 'moment';\n\nexport default {\n  install(Vue, options) {\n    Vue.prototype.$dispatchAll = (datas) => {\n      const router = options.router;\n      const store = options.store;\n      const i18n = options.i18n;\n      const notify = Vue.prototype.$notify;\n\n      let type;\n      let process;\n      _.each(datas, data => {\n        if (data.type) {\n          switch (data.type) {\n            case 'UPDATE_LOCALES':\n              _.each(data.locales, locale => {\n                  i18n.setLocaleMessage(locale.locale, locale.messages)\n              });\n              break\n            case 'SET_LOCALE':\n              i18n.locale = data.locale;\n              moment.locale(data.locale);\n              if (data.timezone) {\n                store.commit('UPDATE_GLOBAL', {userTimeZone: data.timezone})\n              }\n              break\n            case 'UPDATE_ROUTE':\n              if (data.name) router.push({name: data.name, params: data.params, query: data.query});\n              else if (data.path) router.push({path: data.path});\n              break;\n            case 'NOTIFY':\n              delete data.type;\n              notify(data);\n              break;\n            case 'RELOAD':\n              location.reload();\n              break;\n            default:\n              type = data.type;\n              delete data.type;\n              process = data.process || 'commit';\n              store[process](type, data);\n          }\n        }\n      });\n    }\n  }\n}\n","import Vue from 'vue'\nimport axios from 'axios';\nimport Buefy from 'buefy';\nimport 'buefy/dist/buefy.css';\nimport Notifications from 'vue-notification';\nimport { sync } from 'vuex-router-sync';\nimport { i18n } from './i18n';\nimport { createComponents } from './components';\nimport { createStore } from './store';\nimport { createRouter, routes } from './router';\nimport PluginDispatch from \"./plugins/dispatch.js\";\n\nimport './styles.scss';\n\nVue.config.productionTip = false\nVue.use(Notifications);\nVue.use(Buefy, {defaultIconPack: 'fa'});\n\nexport const startFuretUI = (elementId, routes) => {\n  const elementExists = document.getElementById(elementId);\n  if (elementExists === null) return;\n  console.log(` ==> start furet ui on element #${elementId}`);\n  createComponents();\n  const store = createStore();\n  const router = createRouter(store, routes);\n\n  sync(store, router); // use vue-router with vuex\n    Vue.use(PluginDispatch, {router, store, i18n});\n  new Vue({\n    // el: '#furet-ui',\n    template: `\n      <div>\n        <app/>\n        <b-loading :is-full-page=\"true\" :active.sync=\"isLoading\"></b-loading>\n      </div>\n    `,\n    router,\n    store,\n    i18n,\n    data() {\n      return {\n          isLoading: true,\n      }\n    },\n    created () {\n      axios.get('furet-ui/initialize', this.$route.name)\n        .then((result) => {\n            this.$dispatchAll(result.data);\n            this.$store.commit('FURETUI LOADED');\n            this.isLoading = false;\n        })\n        .catch((error) => {\n          console.error('call initialize', error);\n        });\n    },\n  }).$mount(`#${elementId}`)\n}\nstartFuretUI('furet-ui', routes)\nexport default {\n    startFuretUI,\n};\n","import Vue from 'vue';\n\nconst components = {};\nconst componentNames = [];\n\nexport const defineComponent = (elementName, declaration) => {\n  let klass;\n  if (elementName in components) {\n    klass = components[elementName];\n  } else {\n    klass = {\n      template: undefined,\n      extend: [],\n      prototypes: [],\n    };\n    components[elementName] = klass;\n    componentNames.push(elementName);\n  }\n  if (declaration.template !== undefined) klass.template = declaration.template;\n  if (declaration.prototype !== undefined) {\n    klass.prototypes.push(declaration.prototype);\n  }\n  if (declaration.extend !== undefined) {\n    declaration.extend.forEach((extend) => {\n      klass.extend.push(extend);\n    });\n  }\n};\n\nconst getPrototypeFor = (elementName) => {\n  const component = components[elementName];\n  const prototypes = [];\n  if (component.extend.length !== 0) {\n    component.extend.forEach((otherElementName) => {\n      prototypes.push(...getPrototypeFor(otherElementName));\n    });\n  }\n  prototypes.push(...component.prototypes);\n  return prototypes;\n};\n\nexport const getComponentPrototype = (elementName) => {\n  const component = components[elementName];\n  const mixins = getPrototypeFor(elementName);\n  return {\n    template: component.template,\n    mixins,\n  };\n};\n\nexport const createComponents = () => {\n  componentNames.forEach((elementName) => {\n    Vue.component(elementName, (resolve) => {\n      resolve(getComponentPrototype(elementName));\n    });\n  });\n};\n\nexport default {\n    createComponents,\n}\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport {defineComponent} from '../factory'\nimport { debounce } from 'debounce';\n\n\n/**\n * Eval a value (that could be anything String / integer / null / undefined / bool)\n * and cast as a boolean or null.\n *\n * @param {any} value - A value to cast to boolean\n * @returns {Boolean?} return one of those values [true, false, null]\n *\n * Have a look to tests/unit/fields/boolean.spec.js for a complet list of\n * use case.\n */\nexport const safe_eval_boolean = value => {\n  if (value === null || value === undefined) {\n    return null;\n  }\n\n  // if dev use new String(\"\") or new Boolean(true) this give an object so\n  // we convert to its primitive type\n  if (\n    typeof value === \"object\" &&\n    [\"[object String]\", \"[object Boolean]\"].includes(toString.call(value))\n  ) {\n    value = value.valueOf();\n  }\n\n  if (typeof value === \"string\") {\n    if (\n      value.trim().toLowerCase() === \"null\" ||\n      value.trim().toLowerCase() === \"undefined\"\n    ) {\n      return null;\n    }\n    return [\"true\", \"t\", \"yes\", \"y\", \"on\", \"1\"].includes(\n      value.trim().toLowerCase()\n    );\n  }\n\n  if (typeof value === \"number\") {\n    return value === 1;\n  }\n\n  if (typeof value === \"boolean\") {\n    return value;\n  }\n\n  return false;\n};\n\nexport const In = (entry, entries) => entries.indexOf(entry) !== -1;\nexport const Not = (entry) => !entry;\nexport const Equal = (a, b) => a === b;\nexport const Diff = (a, b) => a != b;\nexport const Greater = (a, b) => a > b;\nexport const GreaterOrEqual = (a, b) => a >= b;\nexport const Lesser = (a, b) => a < b;\nexport const LesserOrEqual = (a, b) => a <= b;\nexport const IsTrue = (a) => safe_eval_boolean(a) ? true : false;\nexport const IsFalse = (a) => safe_eval_boolean(a) ? false : true;\nexport const And = (...options) => {\n  if (options.length == 0) false;\n  if (options.length == 1) IsTrue(options[0]);\n  return options.reduce((previous, current) => previous && IsTrue(current));\n}\nexport const Or = (...options) => {\n  if (options.length == 0) false;\n  if (options.length == 1) IsTrue(options[0]);\n  return options.reduce((previous, current) => previous || IsTrue(current));\n}\n\nexport const safe_eval = (condition, fields, resource) => {\n    const now = Date.now(),\n          toDate = (v) => new Date(v),\n          selectors = Object.assign((resource.manager || {}).selectors || {}, resource.selectors || {}),\n          tabs = resource.tabs;\n    const data = fields;  // lint\n    data  // lint\n    selectors  // lint\n    tabs  // lint\n    now  // lint\n    toDate  // lint\n    let res = false;\n\n    try {\n        res = safe_eval_boolean(eval(condition));\n    } catch (e) {\n      console.log(e)\n    }\n    return res;\n}\n\nexport const listTemplate = `\n  <div>\n    <span v-if=\"isHidden\" />\n    <component \n      v-else-if=\"config.slot\" \n      v-bind:is=\"component_template\"\n      v-bind:config=\"config\"\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:value=\"value\"\n    />\n    <span v-else>{{value}}</span>\n  </div>\n`\n\nexport const thumbnailTemplate = `\n  <furet-ui-thumbnail-field-common-tooltip-field\n    v-bind:resource=\"resource\"\n    v-bind:data=\"data\"\n    v-bind:config=\"config\"\n  >\n    <component \n      v-if=\"config.slot\" \n      v-bind:is=\"component_template\"\n      v-bind:config=\"config\"\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:value=\"value\"\n    />\n    <span v-else>{{value}}</span>\n  </furet-ui-thumbnail-field-common-tooltip-field>\n`\n\ndefineComponent('furet-ui-list-field-common', {\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    computed: {\n      value () {\n        return this.data[this.config.name] || '';\n      },\n      isHidden () {\n        if (this.config.hidden === undefined) return false;\n        return safe_eval(this.config.hidden, this.data || {}, this.resource);\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'value'],\n        }\n      }\n    },\n  }\n});\n\n\ndefineComponent('furet-ui-form-field-common-tooltip', {\n  template: `\n    <div v-if=\"isHidden\" />\n    <b-tooltip \n      v-bind:label=\"getTooltip\" \n      v-bind:position=\"tooltipPosition\"\n      v-bind:style=\"{'width': '100%'}\"\n      v-else\n    >\n      <slot />\n    </b-tooltip>`,\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    computed: {\n      isHidden () {\n        if (this.config.hidden === undefined) return false;\n        return safe_eval(this.config.hidden, this.data || {}, this.resource);\n      },\n      getTooltip () {\n        return this.config.tooltip || '';\n      },\n      tooltipPosition () {\n        return this.config.tooltip_position || 'is-top';\n      },\n    },\n  },\n})\n\n\ndefineComponent('furet-ui-form-field-common-tooltip-field', {\n  template: `\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <b-field \n        v-bind:label=\"label\"\n        v-bind:type=\"getType\"\n        v-bind:message=\"getMessage\"\n        v-bind:style=\"{'width': 'inherit'}\"\n      >\n        <slot />\n      </b-field>\n    </furet-ui-form-field-common-tooltip>`,\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    inject: ['partIsReadonly'],\n    computed: {\n      value () {\n        return this.data && this.data[this.config.name] || '';\n      },\n      label () {\n        return this.config.label;\n      },\n      isReadonly () {\n        if (this.resource.readonly) return true;\n        if (this.partIsReadonly()) return true;\n        const readonlyParams = safe_eval(this.config.readonly, this.data || {}, this.resource);\n        if (this.config.writable) {\n          const writableParams = safe_eval(this.config.writable, this.data || {}, this.resource);\n          return readonlyParams && ! writableParams\n        }\n        return readonlyParams;\n      },\n      isRequired () {\n        if (this.isReadonly) return false;\n        return safe_eval(this.config.required, this.data || {}, this.resource);\n      },\n      getType () {\n        if (this.isRequired) {\n          if (this.value) return 'is-info';\n          return 'is-danger';\n        }\n        return '';\n      },\n      getMessage () {\n        if (this.isRequired) {\n          if (!this.value) return this.$i18n.t('components.fields.common.required');\n        }\n        return ''\n      },\n    },\n  },\n})\n\n\ndefineComponent('furet-ui-form-field-common-readonly', {\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    inject: ['partIsReadonly'],\n    computed: {\n      isReadonly () {\n        if (this.resource.readonly) return true;\n        if (this.partIsReadonly()) return true;\n        const readonlyParams = safe_eval(this.config.readonly, this.data || {}, this.resource);\n        if (this.config.writable) {\n          const writableParams = safe_eval(this.config.writable, this.data || {}, this.resource);\n          return readonlyParams && ! writableParams\n        }\n        return readonlyParams;\n      },\n    },\n  },\n})\n\n\ndefineComponent('furet-ui-form-field-common', {\n  extend: ['furet-ui-form-field-common-readonly'],\n  prototype: {\n    inject: ['updateChangeState'],\n    computed: {\n      value () {\n        return this.data && this.data[this.config.name] || null;\n      },\n      isRequired () {\n        return safe_eval(this.config.required, this.data || {}, this.resource);\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'value'],\n        }\n      }\n    },\n    methods: {\n      updateValue: debounce(function(value, merge) {\n        const action = {\n          model: this.resource.model,\n          pk: this.resource.pks,\n          uuid: this.resource.uuid,\n          fieldname: this.config.name,\n          value,\n          merge\n        }\n        this.updateChangeState(action);\n      }, 200),\n    },\n  }\n});\n\n\ndefineComponent('furet-ui-thumbnail-field-common-tooltip-field', {\n  template: `\n    <furet-ui-form-field-common-tooltip\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <b-field \n        v-bind:label=\"label\"\n        v-bind:style=\"{'width': 'inherit'}\"\n      >\n        <slot />\n      </b-field>\n    </furet-ui-form-field-common-tooltip>`,\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    computed: {\n      label () {\n        return this.config.label;\n      },\n    },\n  },\n})\n\ndefineComponent('furet-ui-thumbnail-field-common', {\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    computed: {\n      value () {\n        return this.data && this.data[this.config.name] || null;\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'value'],\n        }\n      }\n    },\n  }\n});\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport Vue from \"vue\";\nimport _ from 'underscore';\n\nexport const pk2string = (pk) => {\n    const keys = _.sortBy(_.keys(pk));\n    const res = [];\n    keys.forEach(key => {\n        if (key !== '__x2m_state') res.push([key, pk[key]]);\n    });\n    return JSON.stringify(res)\n}\n\nexport const update_change_object = (state_changes, action) => {\n  const changes = Object.assign({}, state_changes);\n  if (action.merge !== undefined) {\n    _.each(_.keys(action.merge), model => {\n      if (changes[model] === undefined) changes[model] = {};\n      _.each(_.keys(action.merge[model]), pk => {\n        if (changes[model][pk] === undefined) changes[model][pk] = {}\n        if (pk === 'new') {\n          if (changes[model].new === undefined) changes[model].new = {}\n          _.each(_.keys(action.merge[model].new), uuid => {\n            if (changes[model].new[uuid] === undefined) changes[model].new[uuid] = {};\n            if (action.merge[model].new[uuid].__revert === true) changes[model].new[uuid] = {};\n            Object.assign(changes[model].new[uuid], action.merge[model].new[uuid]);\n          });\n        } else {\n          if (action.merge[model][pk].__revert === true) changes[model][pk] = {};\n          Object.assign(changes[model][pk], action.merge[model][pk])\n        }\n      });\n    })\n  }\n  if (changes[action.model] == undefined) changes[action.model] = {}\n  let ref_key = null;\n  if (action.uuid != null) {\n    if (changes[action.model].new == undefined) changes[action.model].new = {};\n    if (changes[action.model].new[action.uuid] == undefined)\n      changes[action.model].new[action.uuid] = {};\n    ref_key = changes[action.model].new[action.uuid];\n  } else {\n    const pk = pk2string(action.pk);\n    if (changes[action.model][pk] == undefined) changes[action.model][pk] = {};\n    ref_key = changes[action.model][pk];\n  }\n  if (Array.isArray(ref_key[action.fieldname]) && Array.isArray(action.value)) {\n    _.each(action.value, val => {\n      const copy_val =  Object.assign({}, val);\n      delete copy_val.__revert;\n      delete copy_val.__x2m_state;\n      const res = ref_key[action.fieldname].filter(v => _.isMatch(v, copy_val));\n      const index = ref_key[action.fieldname].indexOf(res[0]);\n      if(res.length === 1 && index > -1){\n        ref_key[action.fieldname][index] = Object.assign(\n            ref_key[action.fieldname][index], val\n        );\n      } else {\n        ref_key[action.fieldname].push(val);\n      }\n    });\n\n    ref_key[action.fieldname] = ref_key[action.fieldname].filter(\n      element => element.__revert !== true\n    );\n  } else {\n    ref_key[action.fieldname] = action.value;\n  }\n  return changes\n}\n\nexport const defaultState = {\n    data: {},\n    changes: {},\n}\n\n// getters\nexport const getters = {\n  get_entry: (state) => (model, pk) => {\n    const key = pk2string(pk)\n    const data = (state.data[model] || {})[key] || {};\n    const change = {};\n    if ((state.changes[model] || {})[key]) {\n      if (state.changes[model][key].__revert !== true || Object.keys(state.changes[model][key]).length > 1){\n        Object.assign(change, {__change_state: \"update\"}, state.changes[model][key]);\n      }\n    } \n    return Object.assign({}, data, change);\n  },\n  get_new_entry: (state) => (model, uuid) => {\n    const change = ((state.changes[model] || {}).new || {})[uuid] || {};\n    if (change.__revert !== true || Object.keys(change).length > 1){\n      return Object.assign({__uuid: uuid, __change_state: \"create\"}, change);\n    } else {\n      return {};\n    }\n  },\n  get_new_entries: (state) => (model) => {\n    const res = [];\n    Object.entries((state.changes[model] || {}).new || {}).forEach(\n      ([uuid, entry]) => {\n        if (entry.__revert !== true || Object.keys(entry).length > 1){\n          res.push(\n            Object.assign({}, entry, {\n              __uuid: uuid,\n              __change_state: \"create\"\n            })\n          );\n        }\n      }\n    );\n    return res;\n  }\n};\n\n// actions\nexport const actions = {\n};\n\n// mutations\nexport const mutations = {\n    'UPDATE_DATA'(state, action) {\n        const data = Object.assign({}, state.data)\n        if (data[action.model] == undefined) data[action.model] = {};\n        const pk = pk2string(action.pk)\n        data[action.model][pk] = Object.assign({}, data[action.model][pk], action.data);\n        state.data = data;\n    },\n    'DELETE_DATA'(state, action) {\n        const pks = pk2string(action.pks);\n        if (state.data[action.model]){\n            Vue.delete(state.data[action.model], pks);\n        }\n    },\n    'UPDATE_CHANGE'(state, action) {\n        state.changes = update_change_object(state.changes, action)\n    },\n    'CLEAR_CHANGE'(state) {\n        state.changes = {};\n    },\n    'CLEAR_DATA'(state) {\n        state.data = {};\n        state.changes = {};\n    },\n};\n\nexport default {\n  state: defaultState,\n  getters,\n  actions,\n  mutations\n}\n","/**\nThis file is a part of the FuretUI project\n\n   Copyright (C) 2017 Jean-Sebastien SUZANNE <jssuzanne@anybox.fr>\n\nThis Source Code Form is subject to the terms of the Mozilla Public License,\nv. 2.0. If a copy of the MPL was not distributed with this file,You can\nobtain one at http://mozilla.org/MPL/2.0/.\n**/\nimport axios from \"axios\";\nimport { defineComponent } from \"../../factory\";\nimport { pk2string } from \"../../../store/modules/data\";\nimport { debounce } from \"debounce\";\n\nconst safe_eval = (style, fields) => {\n  fields; // lint\n  return eval(style);\n};\n\n/**\n * furet-ui-field-relationship component is a mixin used to manage relationship to add\n * helper:\n *\n *   * format: function to display an entry of the relationship\n *   * openResource: strategie to open the resource as the main resource\n *   * getKey: transform primary key to string\n *   * getStyle: return a style string for ``a`` tag\n *\n * added injection:\n *   * getEntry\n *   * pushInBreadcrumb\n *\n * @mixin\n *\n * @param {Object} config - A config object to manage the behaviour of the component\n * @param {Object} data - An object that contains data to display. The key to use\n *                        in set in the `config.key`\n * @param {Object} resource - A resource object used to properly bind data with parents\n *                            tags and manage reactivity.\n *\n * ``config`` Object contains\n * @param {String} name - the key to use in the ``data`` object where is store the value\n * @param {String} model - A model name, needed to display the data\n * @param {String} display - An evaluate string to display the entry\n */\ndefineComponent(\"furet-ui-field-relationship\", {\n  prototype: {\n    inject: [\"getEntry\", \"pushInBreadcrumb\"],\n    computed: {\n      slot_fields() {\n        const value = this.data[this.config.name] || \"\";\n        return this.get_slot_fields_for(value);\n      },\n      component_template () {\n        return {\n          template: this.config.slot,\n          props: ['resource', 'data', 'config', 'relation'],\n        }\n      }\n    },\n    methods: {\n      get_slot_fields_for(value) {\n        if (value) {\n          const model = this.config.model;\n          return this.getEntry(model, value);\n        } else return {};\n      },\n      format(display, fields) {\n        return safe_eval(display, fields);\n      },\n      getKey(value) {\n        return pk2string(value.pk);\n      },\n      getStyle(value) {\n        let style = \"\";\n        if (this.config.style !== undefined) {\n          const data = this.getEntry(this.config.model, value.pk);\n          style = safe_eval(this.config.style, data, {});\n        }\n        return style;\n      },\n      openResource(value) {\n        const params = { code: this.$route.params.code, menuId: 0, id: 0 };\n        if (this.config.menu) params.menuId = this.config.menu;\n        if (this.config.resource) {\n          const query = { mode: \"form\", pks: JSON.stringify(value) };\n          params.id = this.config.resource;\n          this.pushInBreadcrumb();\n          this.$router.push({ name: \"resource\", params, query });\n        }\n      },\n    },\n  },\n});\n\nexport const RelationShipX2MList = `\n  <div>\n    <span v-if=\"isHidden\" />\n    <div v-else>\n      <span \n        v-for=\"value in values\"\n        class=\"tag\" \n        v-bind:key=\"getKey(value)\"\n        v-bind:style=\"getStyle(value)\"\n      >\n        <a v-if=\"config.slot\" v-on:click.stop=\"openResource(value)\">\n          <component \n            v-bind:is=\"component_template\"\n            v-bind:config=\"config\"\n            v-bind:resource=\"resource\"\n            v-bind:data=\"data\"\n            v-bind:relation=\"get_slot_fields_for(value.pk)\"\n          />\n        </a>\n        <a v-else v-on:click.stop=\"openResource(value)\">{{value.label}}</a>\n      </span>\n    </div>\n  </div>`;\n\nexport const RelationShipX2MThumbnail = `\n  <furet-ui-thumbnail-field-common-tooltip-field\n    v-bind:resource=\"resource\"\n    v-bind:data=\"data\"\n    v-bind:config=\"config\"\n  >\n    <span \n      v-for=\"value in values\"\n      class=\"tag\" \n      v-bind:key=\"getKey(value)\"\n      v-bind:style=\"getStyle(value)\"\n    >\n      <a v-if=\"config.slot\" v-on:click.stop=\"openResource(value)\">\n        <component \n          v-bind:is=\"component_template\"\n          v-bind:config=\"config\"\n          v-bind:resource=\"resource\"\n          v-bind:data=\"data\"\n          v-bind:relation=\"get_slot_fields_for(value.pk)\"\n        />\n      </a>\n      <a v-else v-on:click.stop=\"openResource(value)\">{{value.label}}</a>\n    </span>\n  </furet-ui-thumbnail-field-common-tooltip-field>`;\n\ndefineComponent(\"furet-ui-field-relationship-search\", {\n  prototype: {\n    data() {\n      return {\n        pks: [],\n        page: 0,\n        total: 0,\n        isFetching: false,\n        tmp_value: null,\n      };\n    },\n    computed: {\n      choices() {\n        const res = [];\n        this.pks.forEach((pk) => {\n          const relation = this.getEntry(this.config.model, pk);\n          res.push({\n            pk,\n            label: this.format(this.config.display, relation),\n            relation,\n          });\n        });\n        return res;\n      },\n    },\n    methods: {\n      beforeOnChange() {\n        /** Method to overwrite in order to\n         * clear current value before searching things.\n         */\n      },\n      onChange: debounce(function(value) {\n        this._onChange(value);\n      }, 200),\n      getMoreAsyncData: debounce(function () {\n        this._onChange(this.tmp_value)\n      }, 250),\n      _onChange(value) {\n        this.beforeOnChange();\n        if ((this.tmp_value !== value) || (!value.length)) {\n          this.tmp_value = value;\n          this.pks = [];\n          this.page = 0;\n          this.total = 0;\n        }\n        if (this.page * this.config.limit > this.total) {\n          return\n        }\n        const params = {\n          \"context[model]\": this.config.model,\n          \"context[fields]\": this.config.fields.toString(),\n          limit: this.config.limit,\n          offset: this.page * this.config.limit,\n        };\n        this.config.filter_by.forEach((filter) => {\n          params[`filter[${filter}][ilike]`] = value;\n        });\n        if (this.config.tags) {\n          params['tags'] = this.config.tags;\n        }\n        if (this.value && Array.isArray(this.value) && this.value.length > 0) {\n          const pks = this.config.remote_columns.join(\":\");\n          const values = this.value\n            .map((val) => {\n              return this.config.remote_columns.map(key => {\n                return val[key]\n              }).join(\":\");\n            })\n            .join(\",\");\n          if (values) params[`~primary-keys[${pks}]`] = values;\n        }\n        this.isFetching = true\n        axios\n          .get(`/furet-ui/resource/${this.resource.id}/crud`, { params })\n          .then((response) => {\n            this.$dispatchAll(response.data.data);\n            response.data.pks.forEach((item) => this.pks.push(item));\n            this.page++;\n            this.total = response.data.total;\n          })\n          .catch((/* error */) => {\n            // console.error(error);\n          })\n          .finally(() => {\n            this.isFetching = false\n          });\n      }\n    },\n  },\n});\n","import _ from 'underscore';\nimport { defineComponent } from '../factory';\nimport { safe_eval } from '../fields/common';\n\ndefineComponent('furet-ui-helper-mixin', {\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    inject: ['partIsReadonly'],\n    computed: {\n      isReadonly () {\n        return this.getIsReadonly()\n      },\n      isHidden () {\n        if (this.config.hidden == undefined) return false;\n        return safe_eval(this.config.hidden, this.data || {}, this.resource);\n      },\n    },\n    methods: {\n      getIsReadonly () {\n        if (this.resource.readonly) return true;\n        if (this.partIsReadonly()) return true;\n        const readonlyParams = safe_eval(this.config.readonly, this.data, this.resource);\n        if (this.config.writable) {\n          const writableParams = safe_eval(this.config.writable, this.data, this.resource);\n          return (readonlyParams && !writableParams) ? true : false\n        }\n        return readonlyParams ? true: false;\n      },\n    },\n    provide: function () {\n      return {\n        partIsReadonly: this.getIsReadonly,\n      }\n    },\n  },\n})\n\ndefineComponent('furet-ui-fieldset', {\n  template: `\n    <fieldset v-if=\"!isHidden\" v-bind=\"config.props\">\n      <slot />\n    </fieldset>\n  `,\n  extend: ['furet-ui-helper-mixin'],\n})\n\ndefineComponent('furet-ui-tabs', {\n  template: `\n    <b-tabs \n      v-if=\"!isHidden\" \n      ref=\"tabs\" \n      v-model=\"resource.tabs[config.name]\" \n      v-bind=\"config.props\"\n    >\n      <slot />\n    </b-tabs>\n  `,\n  extend: ['furet-ui-helper-mixin'],\n})\n\nexport const eval_counter = (value, fields) => {\n  if (_.keys(fields).length === 0) return 0\n  fields\n  if (!value) return 0;\n  let res = 0;\n  try {\n    res = eval(value);\n    if (typeof res === 'object') {\n      if (res.length !== undefined) res = res.length\n      else if (res.count !== undefined) res = res.count\n    } else if (res == undefined) res = 0;\n  } catch (e) {\n    // console.log(e)\n  }\n  return res;\n}\n\ndefineComponent('furet-ui-tab', {\n  prototype: {\n    functional: true,\n    render: function (createElement, context) {\n      const visible = (() => {\n        if (context.props.config.hidden == undefined) return true;\n        return !safe_eval(context.props.config.hidden, context.props.data, context.props.resource);\n      })();\n      const options = Object.assign({}, context.data)\n      options.attrs.visible= visible\n      const props = context.props\n      if (props.counter !== undefined) {\n        const counter = eval_counter(props.counter, context.props.data);\n        options.attrs.label = `${props.label} (${counter})`\n      }\n      return createElement( 'b-tab-item', options, [\n        createElement('furet-ui-div', {props}, context.children)\n      ])\n    },\n  },\n})\n\ndefineComponent('furet-ui-div', {\n  template: `\n    <div v-if=\"!isHidden\" v-bind=\"config.props\">\n      <slot />\n    </div>\n  `,\n  extend: ['furet-ui-helper-mixin'],\n})\n\ndefineComponent('furet-ui-selector', {\n  template: `\n    <furet-ui-form-field-common-tooltip-field\n      v-bind:resource=\"resource\"\n      v-bind:data=\"data\"\n      v-bind:config=\"config\"\n    >\n      <div class=\"field has-addons\" v-if=\"isHidden\">\n        <b-select \n          v-bind:disabled=\"isReadonly\" \n          icon-pack=\"fa\"\n          v-bind:icon=\"config.icon\"\n          v-model=\"resource.selectors[config.name]\"\n          expanded\n        >\n          <option \n            v-for=\"option in getSelections\"\n            v-bind:key=\"option.value\"\n            v-bind:value=\"option.value\"\n          >\n             {{ option.label }}\n          </option>\n        </b-select>\n      </div>\n    </furet-ui-form-field-common-tooltip-field>\n  `,\n  prototype: {\n    props: ['resource', 'data', 'config'],\n    computed: {\n      isHidden () {\n        if (this.config.hidden == undefined) return false;\n        return safe_eval(this.config.hidden, this.data, this.resource);\n      },\n      isReadonly () {\n        const readonlyParams = safe_eval(this.config.readonly, this.data, this.resource);\n        return readonlyParams;\n      },\n      getSelections () {\n        const colors = this.config.colors || {};\n        const res = []\n        res.push({label: '', value: null, color: null})\n        _.each(this.config.selections, (label, value) => {\n          res.push({value, label, color: colors[value]})\n        });\n        return res\n      },\n    },\n    methods: {\n      updateValue (value) {\n        this.resource.selectors[this.config.name] = value;\n      },\n    },\n  },\n})\n"],"sourceRoot":""}